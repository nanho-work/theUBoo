(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ng(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function a1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),i}var wm={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function Fx(){if(W0)return ju;W0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:n,type:s,key:h,ref:a!==void 0?a:null,props:u}}return ju.Fragment=e,ju.jsx=i,ju.jsxs=i,ju}var V0;function qx(){return V0||(V0=1,wm.exports=Fx()),wm.exports}var j=qx(),Sm={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function Wx(){if(Z0)return Xe;Z0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function Y(w,k,K){this.props=w,this.context=k,this.refs=D,this.updater=K||x}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,k){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,k,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function V(){}V.prototype=Y.prototype;function J(w,k,K){this.props=w,this.context=k,this.refs=D,this.updater=K||x}var $=J.prototype=new V;$.constructor=J,R($,Y.prototype),$.isPureReactComponent=!0;var ne=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function X(w,k,K,ie,ee,te){return K=te.ref,{$$typeof:n,type:w,key:k,ref:K!==void 0?K:null,props:te}}function B(w,k){return X(w.type,k,void 0,void 0,void 0,w.props)}function A(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function M(w){var k={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return k[K]})}var P=/\/+/g;function U(w,k){return typeof w=="object"&&w!==null&&w.key!=null?M(""+w.key):k.toString(36)}function H(){}function N(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(H,H):(w.status="pending",w.then(function(k){w.status==="pending"&&(w.status="fulfilled",w.value=k)},function(k){w.status==="pending"&&(w.status="rejected",w.reason=k)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function G(w,k,K,ie,ee){var te=typeof w;(te==="undefined"||te==="boolean")&&(w=null);var ae=!1;if(w===null)ae=!0;else switch(te){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(w.$$typeof){case n:case e:ae=!0;break;case b:return ae=w._init,G(ae(w._payload),k,K,ie,ee)}}if(ae)return ee=ee(w),ae=ie===""?"."+U(w,0):ie,ne(ee)?(K="",ae!=null&&(K=ae.replace(P,"$&/")+"/"),G(ee,k,K,"",function(Ee){return Ee})):ee!=null&&(A(ee)&&(ee=B(ee,K+(ee.key==null||w&&w.key===ee.key?"":(""+ee.key).replace(P,"$&/")+"/")+ae)),k.push(ee)),1;ae=0;var ge=ie===""?".":ie+":";if(ne(w))for(var we=0;we<w.length;we++)ie=w[we],te=ge+U(ie,we),ae+=G(ie,k,K,te,ee);else if(we=S(w),typeof we=="function")for(w=we.call(w),we=0;!(ie=w.next()).done;)ie=ie.value,te=ge+U(ie,we++),ae+=G(ie,k,K,te,ee);else if(te==="object"){if(typeof w.then=="function")return G(N(w),k,K,ie,ee);throw k=String(w),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ae}function O(w,k,K){if(w==null)return w;var ie=[],ee=0;return G(w,ie,"","",function(te){return k.call(K,te,ee++)}),ie}function _(w){if(w._status===-1){var k=w._result;k=k(),k.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=k)}if(w._status===1)return w._result.default;throw w._result}var Q=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function F(){}return Xe.Children={map:O,forEach:function(w,k,K){O(w,function(){k.apply(this,arguments)},K)},count:function(w){var k=0;return O(w,function(){k++}),k},toArray:function(w){return O(w,function(k){return k})||[]},only:function(w){if(!A(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Xe.Component=Y,Xe.Fragment=i,Xe.Profiler=a,Xe.PureComponent=J,Xe.StrictMode=s,Xe.Suspense=g,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return W.H.useMemoCache(w)}},Xe.cache=function(w){return function(){return w.apply(null,arguments)}},Xe.cloneElement=function(w,k,K){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ie=R({},w.props),ee=w.key,te=void 0;if(k!=null)for(ae in k.ref!==void 0&&(te=void 0),k.key!==void 0&&(ee=""+k.key),k)!z.call(k,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&k.ref===void 0||(ie[ae]=k[ae]);var ae=arguments.length-2;if(ae===1)ie.children=K;else if(1<ae){for(var ge=Array(ae),we=0;we<ae;we++)ge[we]=arguments[we+2];ie.children=ge}return X(w.type,ee,void 0,void 0,te,ie)},Xe.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Xe.createElement=function(w,k,K){var ie,ee={},te=null;if(k!=null)for(ie in k.key!==void 0&&(te=""+k.key),k)z.call(k,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ee[ie]=k[ie]);var ae=arguments.length-2;if(ae===1)ee.children=K;else if(1<ae){for(var ge=Array(ae),we=0;we<ae;we++)ge[we]=arguments[we+2];ee.children=ge}if(w&&w.defaultProps)for(ie in ae=w.defaultProps,ae)ee[ie]===void 0&&(ee[ie]=ae[ie]);return X(w,te,void 0,void 0,null,ee)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(w){return{$$typeof:d,render:w}},Xe.isValidElement=A,Xe.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:_}},Xe.memo=function(w,k){return{$$typeof:v,type:w,compare:k===void 0?null:k}},Xe.startTransition=function(w){var k=W.T,K={};W.T=K;try{var ie=w(),ee=W.S;ee!==null&&ee(K,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(F,Q)}catch(te){Q(te)}finally{W.T=k}},Xe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Xe.use=function(w){return W.H.use(w)},Xe.useActionState=function(w,k,K){return W.H.useActionState(w,k,K)},Xe.useCallback=function(w,k){return W.H.useCallback(w,k)},Xe.useContext=function(w){return W.H.useContext(w)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(w,k){return W.H.useDeferredValue(w,k)},Xe.useEffect=function(w,k,K){var ie=W.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(w,k)},Xe.useId=function(){return W.H.useId()},Xe.useImperativeHandle=function(w,k,K){return W.H.useImperativeHandle(w,k,K)},Xe.useInsertionEffect=function(w,k){return W.H.useInsertionEffect(w,k)},Xe.useLayoutEffect=function(w,k){return W.H.useLayoutEffect(w,k)},Xe.useMemo=function(w,k){return W.H.useMemo(w,k)},Xe.useOptimistic=function(w,k){return W.H.useOptimistic(w,k)},Xe.useReducer=function(w,k,K){return W.H.useReducer(w,k,K)},Xe.useRef=function(w){return W.H.useRef(w)},Xe.useState=function(w){return W.H.useState(w)},Xe.useSyncExternalStore=function(w,k,K){return W.H.useSyncExternalStore(w,k,K)},Xe.useTransition=function(){return W.H.useTransition()},Xe.version="19.1.0",Xe}var G0;function Ii(){return G0||(G0=1,Sm.exports=Wx()),Sm.exports}var oe=Ii();const cg=Ng(oe);var Em={exports:{}},Bu={},Tm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Vx(){return Y0||(Y0=1,function(n){function e(O,_){var Q=O.length;O.push(_);e:for(;0<Q;){var F=Q-1>>>1,w=O[F];if(0<a(w,_))O[F]=_,O[Q]=w,Q=F;else break e}}function i(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var _=O[0],Q=O.pop();if(Q!==_){O[0]=Q;e:for(var F=0,w=O.length,k=w>>>1;F<k;){var K=2*(F+1)-1,ie=O[K],ee=K+1,te=O[ee];if(0>a(ie,Q))ee<w&&0>a(te,ie)?(O[F]=te,O[ee]=Q,F=ee):(O[F]=ie,O[K]=Q,F=K);else if(ee<w&&0>a(te,Q))O[F]=te,O[ee]=Q,F=ee;else break e}}return _}function a(O,_){var Q=O.sortIndex-_.sortIndex;return Q!==0?Q:O.id-_.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var g=[],v=[],b=1,E=null,S=3,x=!1,R=!1,D=!1,Y=!1,V=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ne(O){for(var _=i(v);_!==null;){if(_.callback===null)s(v);else if(_.startTime<=O)s(v),_.sortIndex=_.expirationTime,e(g,_);else break;_=i(v)}}function W(O){if(D=!1,ne(O),!R)if(i(g)!==null)R=!0,z||(z=!0,U());else{var _=i(v);_!==null&&G(W,_.startTime-O)}}var z=!1,X=-1,B=5,A=-1;function M(){return Y?!0:!(n.unstable_now()-A<B)}function P(){if(Y=!1,z){var O=n.unstable_now();A=O;var _=!0;try{e:{R=!1,D&&(D=!1,J(X),X=-1),x=!0;var Q=S;try{t:{for(ne(O),E=i(g);E!==null&&!(E.expirationTime>O&&M());){var F=E.callback;if(typeof F=="function"){E.callback=null,S=E.priorityLevel;var w=F(E.expirationTime<=O);if(O=n.unstable_now(),typeof w=="function"){E.callback=w,ne(O),_=!0;break t}E===i(g)&&s(g),ne(O)}else s(g);E=i(g)}if(E!==null)_=!0;else{var k=i(v);k!==null&&G(W,k.startTime-O),_=!1}}break e}finally{E=null,S=Q,x=!1}_=void 0}}finally{_?U():z=!1}}}var U;if(typeof $=="function")U=function(){$(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,N=H.port2;H.port1.onmessage=P,U=function(){N.postMessage(null)}}else U=function(){V(P,0)};function G(O,_){X=V(function(){O(n.unstable_now())},_)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(O){switch(S){case 1:case 2:case 3:var _=3;break;default:_=S}var Q=S;S=_;try{return O()}finally{S=Q}},n.unstable_requestPaint=function(){Y=!0},n.unstable_runWithPriority=function(O,_){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=S;S=O;try{return _()}finally{S=Q}},n.unstable_scheduleCallback=function(O,_,Q){var F=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?F+Q:F):Q=F,O){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=Q+w,O={id:b++,callback:_,priorityLevel:O,startTime:Q,expirationTime:w,sortIndex:-1},Q>F?(O.sortIndex=Q,e(v,O),i(g)===null&&O===i(v)&&(D?(J(X),X=-1):D=!0,G(W,Q-F))):(O.sortIndex=w,e(g,O),R||x||(R=!0,z||(z=!0,U()))),O},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(O){var _=S;return function(){var Q=S;S=_;try{return O.apply(this,arguments)}finally{S=Q}}}}(xm)),xm}var K0;function Zx(){return K0||(K0=1,Tm.exports=Vx()),Tm.exports}var Cm={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function Gx(){if(X0)return In;X0=1;var n=Ii();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,v,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:g,containerInfo:v,implementation:b}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,In.createPortal=function(g,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,b)},In.flushSync=function(g){var v=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=v,s.p=b,s.d.f()}},In.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(g,v))},In.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},In.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var b=v.as,E=d(b,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,x=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:x}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:x,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},In.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=d(v.as,v.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(g)},In.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,E=d(b,v.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},In.preloadModule=function(g,v){if(typeof g=="string")if(v){var b=d(v.as,v.crossOrigin);s.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(g)},In.requestFormReset=function(g){s.d.r(g)},In.unstable_batchedUpdates=function(g,v){return g(v)},In.useFormState=function(g,v,b){return h.H.useFormState(g,v,b)},In.useFormStatus=function(){return h.H.useHostTransitionStatus()},In.version="19.1.0",In}var Q0;function Ug(){if(Q0)return Cm.exports;Q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cm.exports=Gx(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function Yx(){if($0)return Bu;$0=1;var n=Zx(),e=Ii(),i=Ug();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var l=t,f=r;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){l=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),t;if(y===f)return d(m),r;y=y.sibling}throw Error(s(188))}if(l.return!==f.return)l=m,f=y;else{for(var I=!1,Z=m.child;Z;){if(Z===l){I=!0,l=m,f=y;break}if(Z===f){I=!0,f=m,l=y;break}Z=Z.sibling}if(!I){for(Z=y.child;Z;){if(Z===l){I=!0,l=y,f=m;break}if(Z===f){I=!0,f=y,l=m;break}Z=Z.sibling}if(!I)throw Error(s(189))}}if(l.alternate!==f)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var H=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===H?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case Y:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case z:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case $:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case ne:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return r=t.displayName||null,r!==null?r:N(t.type)||"Memo";case B:r=t._payload,t=t._init;try{return N(t(r))}catch{}}return null}var G=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},F=[],w=-1;function k(t){return{current:t}}function K(t){0>w||(t.current=F[w],F[w]=null,w--)}function ie(t,r){w++,F[w]=t.current,t.current=r}var ee=k(null),te=k(null),ae=k(null),ge=k(null);function we(t,r){switch(ie(ae,r),ie(te,t),ie(ee,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?v0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=v0(r),t=y0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ee),ie(ee,t)}function Ee(){K(ee),K(te),K(ae)}function Oe(t){t.memoizedState!==null&&ie(ge,t);var r=ee.current,l=y0(r,t.type);r!==l&&(ie(te,t),ie(ee,l))}function Le(t){te.current===t&&(K(ee),K(te)),ge.current===t&&(K(ge),Pu._currentValue=Q)}var Ie=Object.prototype.hasOwnProperty,Fe=n.unstable_scheduleCallback,Ne=n.unstable_cancelCallback,ke=n.unstable_shouldYield,Ye=n.unstable_requestPaint,Te=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,Ke=n.unstable_ImmediatePriority,Qe=n.unstable_UserBlockingPriority,Ze=n.unstable_NormalPriority,Et=n.unstable_LowPriority,dt=n.unstable_IdlePriority,ut=n.log,Dt=n.unstable_setDisableYieldValue,Kt=null,pt=null;function ot(t){if(typeof ut=="function"&&Dt(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Kt,t)}catch{}}var Nt=Math.clz32?Math.clz32:On,Xt=Math.log,Cn=Math.LN2;function On(t){return t>>>=0,t===0?32:31-(Xt(t)/Cn|0)|0}var gn=256,en=4194304;function an(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function er(t,r,l){var f=t.pendingLanes;if(f===0)return 0;var m=0,y=t.suspendedLanes,I=t.pingedLanes;t=t.warmLanes;var Z=f&134217727;return Z!==0?(f=Z&~y,f!==0?m=an(f):(I&=Z,I!==0?m=an(I):l||(l=Z&~t,l!==0&&(m=an(l))))):(Z=f&~y,Z!==0?m=an(Z):I!==0?m=an(I):l||(l=f&~t,l!==0&&(m=an(l)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:m}function Jn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Co(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=gn;return gn<<=1,(gn&4194048)===0&&(gn=256),t}function Pi(){var t=en;return en<<=1,(en&62914560)===0&&(en=4194304),t}function ds(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function _n(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mi(t,r,l,f,m,y){var I=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var Z=t.entanglements,se=t.expirationTimes,he=t.hiddenUpdates;for(l=I&~l;0<l;){var _e=31-Nt(l),ye=1<<_e;Z[_e]=0,se[_e]=-1;var de=he[_e];if(de!==null)for(he[_e]=null,_e=0;_e<de.length;_e++){var pe=de[_e];pe!==null&&(pe.lane&=-536870913)}l&=~ye}f!==0&&Di(t,f,0),y!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=y&~(I&~r))}function Di(t,r,l){t.pendingLanes|=r,t.suspendedLanes&=~r;var f=31-Nt(r);t.entangledLanes|=r,t.entanglements[f]=t.entanglements[f]|1073741824|l&4194090}function tr(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var f=31-Nt(l),m=1<<f;m&r|t[f]&r&&(t[f]|=r),l&=~m}}function ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gi(){var t=_.p;return t!==0?t:(t=window.event,t===void 0?32:z0(t.type))}function Hl(t,r){var l=_.p;try{return _.p=t,r()}finally{_.p=l}}var nr=Math.random().toString(36).slice(2),ln="__reactFiber$"+nr,Rn="__reactProps$"+nr,ms="__reactContainer$"+nr,Wn="__reactEvents$"+nr,Pe="__reactListeners$"+nr,Bc="__reactHandles$"+nr,Fl="__reactResources$"+nr,gs="__reactMarker$"+nr;function Ea(t){delete t[ln],delete t[Rn],delete t[Wn],delete t[Pe],delete t[Bc]}function ir(t){var r=t[ln];if(r)return r;for(var l=t.parentNode;l;){if(r=l[ms]||l[ln]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=E0(t);t!==null;){if(l=t[ln])return l;t=E0(t)}return r}t=l,l=t.parentNode}return null}function Er(t){if(t=t[ln]||t[ms]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function _i(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Tr(t){var r=t[Fl];return r||(r=t[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qt(t){t[gs]=!0}var Hc=new Set,Fc={};function xr(t,r){Cr(t,r),Cr(t+"Capture",r)}function Cr(t,r){for(Fc[t]=r,t=0;t<r.length;t++)Hc.add(r[t])}var Ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},qc={};function Id(t){return Ie.call(qc,t)?!0:Ie.call(Ro,t)?!1:Ld.test(t)?qc[t]=!0:(Ro[t]=!0,!1)}function Ta(t,r,l){if(Id(r))if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+l)}}function xa(t,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+l)}}function Ni(t,r,l,f){if(f===null)t.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(r,l,""+f)}}var Ao,_s;function Or(t){if(Ao===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ao=r&&r[1]||"",_s=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ao+t+_s}var Ca=!1;function Rr(t,r){if(!t||Ca)return"";Ca=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(pe){var de=pe}Reflect.construct(t,[],ye)}else{try{ye.call()}catch(pe){de=pe}t.call(ye.prototype)}}else{try{throw Error()}catch(pe){de=pe}(ye=t())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(pe){if(pe&&de&&typeof pe.stack=="string")return[pe.stack,de.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),I=y[0],Z=y[1];if(I&&Z){var se=I.split(`
`),he=Z.split(`
`);for(m=f=0;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;for(;m<he.length&&!he[m].includes("DetermineComponentFrameRoot");)m++;if(f===se.length||m===he.length)for(f=se.length-1,m=he.length-1;1<=f&&0<=m&&se[f]!==he[m];)m--;for(;1<=f&&0<=m;f--,m--)if(se[f]!==he[m]){if(f!==1||m!==1)do if(f--,m--,0>m||se[f]!==he[m]){var _e=`
`+se[f].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=f&&0<=m);break}}}finally{Ca=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Or(l):""}function at(t){switch(t.tag){case 26:case 27:case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return Or("Activity");default:return""}}function Tt(t){try{var r="";do r+=at(t),t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vs(t){var r=Ar(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),f=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,y.call(this,I)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ys(t){t._valueTracker||(t._valueTracker=vs(t))}function Ge(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return t&&(f=Ar(t)?t.checked?"true":"false":t.value),t=f,t!==l?(r.setValue(t),!0):!1}function xt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ql=/[\n"\\]/g;function yn(t){return t.replace(ql,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function An(t,r,l,f,m,y,I,Z){t.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?t.type=I:t.removeAttribute("type"),r!=null?I==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+vn(r)):t.value!==""+vn(r)&&(t.value=""+vn(r)):I!=="submit"&&I!=="reset"||t.removeAttribute("value"),r!=null?bs(t,I,vn(r)):l!=null?bs(t,I,vn(l)):f!=null&&t.removeAttribute("value"),m==null&&y!=null&&(t.defaultChecked=!!y),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?t.name=""+vn(Z):t.removeAttribute("name")}function Wc(t,r,l,f,m,y,I,Z){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;l=l!=null?""+vn(l):"",r=r!=null?""+vn(r):l,Z||r===t.value||(t.value=r),t.defaultValue=r}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,t.checked=Z?t.checked:!!f,t.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(t.name=I)}function bs(t,r,l){r==="number"&&xt(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Vn(t,r,l,f){if(t=t.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<t.length;l++)m=r.hasOwnProperty("$"+t[l].value),t[l].selected!==m&&(t[l].selected=m),m&&f&&(t[l].defaultSelected=!0)}else{for(l=""+vn(l),r=null,m=0;m<t.length;m++){if(t[m].value===l){t[m].selected=!0,f&&(t[m].defaultSelected=!0);return}r!==null||t[m].disabled||(r=t[m])}r!==null&&(r.selected=!0)}}function Ut(t,r,l){if(r!=null&&(r=""+vn(r),r!==t.value&&(t.value=r),l==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=l!=null?""+vn(l):""}function rr(t,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(s(92));if(G(f)){if(1<f.length)throw Error(s(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=vn(r),t.defaultValue=l,f=t.textContent,f===l&&f!==""&&f!==null&&(t.value=f)}function vi(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oa(t,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":f?t.setProperty(r,l):typeof l!="number"||l===0||Mo.has(r)?r==="float"?t.cssFloat=l:t[r]=(""+l).trim():t[r]=l+"px"}function ws(t,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?t.setProperty(f,""):f==="float"?t.cssFloat="":t[f]="");for(var m in r)f=r[m],r.hasOwnProperty(m)&&l[m]!==f&&Oa(t,m,f)}else for(var y in r)r.hasOwnProperty(y)&&Oa(t,y,r[y])}function Lo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(t){return Ra.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Io=null;function Es(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,sr=null;function Vc(t){var r=Er(t);if(r&&(t=r.stateNode)){var l=t[Rn]||null;e:switch(t=r.stateNode,r.type){case"input":if(An(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==t&&f.form===t.form){var m=f[Rn]||null;if(!m)throw Error(s(90));An(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===t.form&&Ge(f)}break e;case"textarea":Ut(t,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Vn(t,!!l.multiple,r,!1)}}}var Ve=!1;function ti(t,r,l){if(Ve)return t(r,l);Ve=!0;try{var f=t(r);return f}finally{if(Ve=!1,(Mr!==null||sr!==null)&&(Bf(),Mr&&(r=Mr,t=sr,sr=Mr=null,Vc(r),t)))for(r=0;r<t.length;r++)Vc(t[r])}}function ct(t,r){var l=t.stateNode;if(l===null)return null;var f=l[Rn]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(t=t.type,f=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!f;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(yi)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{ko=!1}var bi=null,Ui=null,Ts=null;function xs(){if(Ts)return Ts;var t,r=Ui,l=r.length,f,m="value"in bi?bi.value:bi.textContent,y=m.length;for(t=0;t<l&&r[t]===m[t];t++);var I=l-t;for(f=1;f<=I&&r[l-f]===m[y-f];f++);return Ts=m.slice(t,1<f?1-f:void 0)}function Bt(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Vl(){return!1}function bn(t){function r(l,f,m,y,I){this._reactName=l,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var Z in t)t.hasOwnProperty(Z)&&(l=t[Z],this[Z]=l?l(y):y[Z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wi:Vl,this.isPropagationStopped=Vl,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=bn(Ir),kr=b({},Ir,{view:0,detail:0}),kd=bn(kr),Aa,Je,Do,Mn=b({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(Aa=t.screenX-Do.screenX,Je=t.screenY-Do.screenY):Je=Aa=0,Do=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Je}}),Cs=bn(Mn),Zc=b({},Mn,{dataTransfer:0}),Pd=bn(Zc),Zl=b({},kr,{relatedTarget:0}),Gl=bn(Zl),Gc=b({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Dd=bn(Gc),Nd=b({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yl=bn(Nd),Ud=b({},Ir,{data:0}),ni=bn(Ud),zd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=or[t])?!!r[t]:!1}function Ma(){return Kc}var Kl=b({},kr,{key:function(t){if(t.key){var r=zd[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Bt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(t){return t.type==="keypress"?Bt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jd=bn(Kl),Xc=b({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=bn(Xc),Bd=b({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Hd=bn(Bd),Ql=b({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fd=bn(Ql),Qc=b({},Mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$c=bn(Qc),La=b({},Ir,{newState:0,oldState:0}),Pr=bn(La),qd=[9,13,27,32],Dr=yi&&"CompositionEvent"in window,un=null;yi&&"documentMode"in document&&(un=document.documentMode);var Jc=yi&&"TextEvent"in window&&!un,$l=yi&&(!Dr||un&&8<un&&11>=un),ef=" ",Ia=!1;function ka(t,r){switch(t){case"keyup":return qd.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function nf(t,r){switch(t){case"compositionend":return tf(r);case"keypress":return r.which!==32?null:(Ia=!0,ef);case"textInput":return t=r.data,t===ef&&Ia?null:t;default:return null}}function Wd(t,r){if(Os)return t==="compositionend"||!Dr&&ka(t,r)?(t=xs(),Ts=Ui=bi=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $l&&r.locale!=="ko"?null:r.data;default:return null}}var ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ii[t.type]:r==="textarea"}function rf(t,r,l,f){Mr?sr?sr.push(f):sr=[f]:Mr=f,r=Zf(r,"onChange"),0<r.length&&(l=new Po("onChange","change",null,l,f),t.push({event:l,listeners:r}))}var Pn=null,No=null;function Rs(t){d0(t,0)}function Pa(t){var r=_i(t);if(Ge(r))return t}function As(t,r){if(t==="change")return r}var Jl=!1;if(yi){var Ms;if(yi){var eu="oninput"in document;if(!eu){var zi=document.createElement("div");zi.setAttribute("oninput","return;"),eu=typeof zi.oninput=="function"}Ms=eu}else Ms=!1;Jl=Ms&&(!document.documentMode||9<document.documentMode)}function Uo(){Pn&&(Pn.detachEvent("onpropertychange",sf),No=Pn=null)}function sf(t){if(t.propertyName==="value"&&Pa(No)){var r=[];rf(r,No,t,Es(t)),ti(Rs,r)}}function tu(t,r,l){t==="focusin"?(Uo(),Pn=r,No=l,Pn.attachEvent("onpropertychange",sf)):t==="focusout"&&Uo()}function Vd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pa(No)}function ji(t,r){if(t==="click")return Pa(r)}function Zd(t,r){if(t==="input"||t==="change")return Pa(r)}function Ls(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dn=typeof Object.is=="function"?Object.is:Ls;function Nn(t,r){if(Dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var m=l[f];if(!Ie.call(r,m)||!Dn(t[m],r[m]))return!1}return!0}function zo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nu(t,r){var l=zo(t);t=0;for(var f;l;){if(l.nodeType===3){if(f=t+l.textContent.length,t<=r&&f>=r)return{node:l,offset:r-t};t=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zo(l)}}function Da(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Da(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function jo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xt(t.document);r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=xt(t.document)}return r}function Bo(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Na=yi&&"documentMode"in document&&11>=document.documentMode,ri=null,Is=null,Ur=null,Ua=!1;function of(t,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ua||ri==null||ri!==xt(f)||(f=ri,"selectionStart"in f&&Bo(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ur&&Nn(Ur,f)||(Ur=f,f=Zf(Is,"onSelect"),0<f.length&&(r=new Po("onSelect","select",null,r,l),t.push({event:r,listeners:f}),r.target=ri)))}function Si(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var ks={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},za={},af={};yi&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ar(t){if(za[t])return za[t];if(!ks[t])return t;var r=ks[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in af)return za[t]=r[l];return t}var lf=ar("animationend"),si=ar("animationiteration"),Ho=ar("animationstart"),Gd=ar("transitionrun"),ja=ar("transitionstart"),Yd=ar("transitioncancel"),iu=ar("transitionend"),uf=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zr.push("scrollEnd");function oi(t,r){uf.set(t,r),xr(r,[t])}var jr=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var l=jr.get(t);return l!==void 0?l:(r={value:t,source:r,stack:Tt(r)},jr.set(t,r),r)}return{value:t,source:r,stack:Tt(r)}}var zn=[],Ps=0,ai=0;function Fo(){for(var t=Ps,r=ai=Ps=0;r<t;){var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var m=zn[r];zn[r++]=null;var y=zn[r];if(zn[r++]=null,f!==null&&m!==null){var I=f.pending;I===null?m.next=m:(m.next=I.next,I.next=m),f.pending=m}y!==0&&Wo(l,m,y)}}function qo(t,r,l,f){zn[Ps++]=t,zn[Ps++]=r,zn[Ps++]=l,zn[Ps++]=f,ai|=f,t.lanes|=f,t=t.alternate,t!==null&&(t.lanes|=f)}function Br(t,r,l,f){return qo(t,r,l,f),lr(t)}function Ds(t,r){return qo(t,null,null,r),lr(t)}function Wo(t,r,l){t.lanes|=l;var f=t.alternate;f!==null&&(f.lanes|=l);for(var m=!1,y=t.return;y!==null;)y.childLanes|=l,f=y.alternate,f!==null&&(f.childLanes|=l),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(m=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,m&&r!==null&&(m=31-Nt(l),t=y.hiddenUpdates,f=t[m],f===null?t[m]=[r]:f.push(r),r.lane=l|536870912),y):null}function lr(t){if(50<Cu)throw Cu=0,Vp=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Hr={};function cf(t,r,l,f){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,r,l,f){return new cf(t,r,l,f)}function Ba(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,r){var l=t.alternate;return l===null?(l=jn(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function ru(t,r){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,r=l.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Vo(t,r,l,f,m,y){var I=0;if(f=t,typeof t=="function")Ba(t)&&(I=1);else if(typeof t=="string")I=Ax(t,l,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=jn(31,l,r,m),t.elementType=A,t.lanes=y,t;case R:return ur(l.children,m,y,r);case D:I=8,m|=24;break;case Y:return t=jn(12,l,r,m|2),t.elementType=Y,t.lanes=y,t;case W:return t=jn(13,l,r,m),t.elementType=W,t.lanes=y,t;case z:return t=jn(19,l,r,m),t.elementType=z,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case $:I=10;break e;case J:I=9;break e;case ne:I=11;break e;case X:I=14;break e;case B:I=16,f=null;break e}I=29,l=Error(s(130,t===null?"null":typeof t,"")),f=null}return r=jn(I,l,r,m),r.elementType=t,r.type=f,r.lanes=y,r}function ur(t,r,l,f){return t=jn(7,t,f,r),t.lanes=l,t}function su(t,r,l){return t=jn(6,t,null,r),t.lanes=l,t}function Ha(t,r,l){return r=jn(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Fr=[],Ns=0,o=null,c=0,p=[],T=0,C=null,q=1,re="";function ce(t,r){Fr[Ns++]=c,Fr[Ns++]=o,o=t,c=r}function me(t,r,l){p[T++]=q,p[T++]=re,p[T++]=C,C=t;var f=q;t=re;var m=32-Nt(f)-1;f&=~(1<<m),l+=1;var y=32-Nt(r)+m;if(30<y){var I=m-m%5;y=(f&(1<<I)-1).toString(32),f>>=I,m-=I,q=1<<32-Nt(r)+m|l<<m|f,re=y+t}else q=1<<y|l<<m|f,re=t}function be(t){t.return!==null&&(ce(t,1),me(t,1,0))}function xe(t){for(;t===o;)o=Fr[--Ns],Fr[Ns]=null,c=Fr[--Ns],Fr[Ns]=null;for(;t===C;)C=p[--T],p[T]=null,re=p[--T],p[T]=null,q=p[--T],p[T]=null}var Re=null,Me=null,We=!1,Ct=null,zt=!1,cn=Error(s(519));function Zn(t){var r=Error(s(418,""));throw zs(Un(r,t)),cn}function ff(t){var r=t.stateNode,l=t.type,f=t.memoizedProps;switch(r[ln]=t,r[Rn]=f,l){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(l=0;l<Ru.length;l++)it(Ru[l],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":it("invalid",r),Wc(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ys(r);break;case"select":it("invalid",r);break;case"textarea":it("invalid",r),rr(r,f.value,f.defaultValue,f.children),ys(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||_0(r.textContent,l)?(f.popover!=null&&(it("beforetoggle",r),it("toggle",r)),f.onScroll!=null&&it("scroll",r),f.onScrollEnd!=null&&it("scrollend",r),f.onClick!=null&&(r.onclick=Gf),r=!0):r=!1,r||Zn(t)}function hf(t){for(Re=t.return;Re;)switch(Re.tag){case 5:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:Re=Re.return}}function Zo(t){if(t!==Re)return!1;if(!We)return hf(t),We=!0,!1;var r=t.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||am(t.type,t.memoizedProps)),l=!l),l&&Me&&Zn(t),hf(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(r===0){Me=qi(t.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;t=t.nextSibling}Me=null}}else r===27?(r=Me,Js(t.type)?(t=fm,fm=null,Me=t):Me=r):Me=Re?qi(t.stateNode.nextSibling):null;return!0}function Us(){Me=Re=null,We=!1}function df(){var t=Ct;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),Ct=null),t}function zs(t){Ct===null?Ct=[t]:Ct.push(t)}var It=k(null),Ti=null,Bi=null;function cr(t,r,l){ie(It,r._currentValue),r._currentValue=l}function Hi(t){t._currentValue=It.current,K(It)}function Go(t,r,l){for(;t!==null;){var f=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),t===l)break;t=t.return}}function Fa(t,r,l,f){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var y=m.dependencies;if(y!==null){var I=m.child;y=y.firstContext;e:for(;y!==null;){var Z=y;y=m;for(var se=0;se<r.length;se++)if(Z.context===r[se]){y.lanes|=l,Z=y.alternate,Z!==null&&(Z.lanes|=l),Go(y.return,l,t),f||(I=null);break e}y=Z.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(s(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),Go(I,l,t),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===t){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function Yo(t,r,l,f){t=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(s(387));if(I=I.memoizedProps,I!==null){var Z=m.type;Dn(m.pendingProps.value,I.value)||(t!==null?t.push(Z):t=[Z])}}else if(m===ge.current){if(I=m.alternate,I===null)throw Error(s(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Pu):t=[Pu])}m=m.return}t!==null&&Fa(r,t,l,f),r.flags|=262144}function pf(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ko(t){Ti=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return iv(Ti,t)}function mf(t,r){return Ti===null&&Ko(t),iv(t,r)}function iv(t,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Bi=Bi.next=r;return l}var RT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(l,f){t.push(f)}};this.abort=function(){r.aborted=!0,t.forEach(function(l){return l()})}},AT=n.unstable_scheduleCallback,MT=n.unstable_NormalPriority,tn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new RT,data:new Map,refCount:0}}function ou(t){t.refCount--,t.refCount===0&&AT(MT,function(){t.controller.abort()})}var au=null,Xd=0,qa=0,Wa=null;function LT(t,r){if(au===null){var l=au=[];Xd=0,qa=$p(),Wa={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Xd++,r.then(rv,rv),r}function rv(){if(--Xd===0&&au!==null){Wa!==null&&(Wa.status="fulfilled");var t=au;au=null,qa=0,Wa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function IT(t,r){var l=[],f={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return t.then(function(){f.status="fulfilled",f.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(f.status="rejected",f.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),f}var sv=O.S;O.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&LT(t,r),sv!==null&&sv(t,r)};var Xo=k(null);function Qd(){var t=Xo.current;return t!==null?t:Ot.pooledCache}function gf(t,r){r===null?ie(Xo,Xo.current):ie(Xo,r.pool)}function ov(){var t=Qd();return t===null?null:{parent:tn._currentValue,pool:t}}var lu=Error(s(460)),av=Error(s(474)),_f=Error(s(542)),$d={then:function(){}};function lv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vf(){}function uv(t,r,l){switch(l=t[l],l===void 0?t.push(r):l!==r&&(r.then(vf,vf),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fv(t),t;default:if(typeof r.status=="string")r.then(vf,vf);else{if(t=Ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(f){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=f}},function(f){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fv(t),t}throw uu=r,lu}}var uu=null;function cv(){if(uu===null)throw Error(s(459));var t=uu;return uu=null,t}function fv(t){if(t===lu||t===_f)throw Error(s(483))}var js=!1;function Jd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,r,l){var f=t.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var m=f.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),f.pending=r,r=lr(t),Wo(t,null,l),r}return qo(t,f,r,l),lr(t)}function cu(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=t.pendingLanes,l|=f,r.lanes=l,tr(t,l)}}function tp(t,r){var l=t.updateQueue,f=t.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=r:y=y.next=r}else m=y=r;l={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}var np=!1;function fu(){if(np){var t=Wa;if(t!==null)throw t}}function hu(t,r,l,f){np=!1;var m=t.updateQueue;js=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,Z=m.shared.pending;if(Z!==null){m.shared.pending=null;var se=Z,he=se.next;se.next=null,I===null?y=he:I.next=he,I=se;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,Z=_e.lastBaseUpdate,Z!==I&&(Z===null?_e.firstBaseUpdate=he:Z.next=he,_e.lastBaseUpdate=se))}if(y!==null){var ye=m.baseState;I=0,_e=he=se=null,Z=y;do{var de=Z.lane&-536870913,pe=de!==Z.lane;if(pe?(lt&de)===de:(f&de)===de){de!==0&&de===qa&&(np=!0),_e!==null&&(_e=_e.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var qe=t,ze=Z;de=r;var yt=l;switch(ze.tag){case 1:if(qe=ze.payload,typeof qe=="function"){ye=qe.call(yt,ye,de);break e}ye=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ze.payload,de=typeof qe=="function"?qe.call(yt,ye,de):qe,de==null)break e;ye=b({},ye,de);break e;case 2:js=!0}}de=Z.callback,de!==null&&(t.flags|=64,pe&&(t.flags|=8192),pe=m.callbacks,pe===null?m.callbacks=[de]:pe.push(de))}else pe={lane:de,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},_e===null?(he=_e=pe,se=ye):_e=_e.next=pe,I|=de;if(Z=Z.next,Z===null){if(Z=m.shared.pending,Z===null)break;pe=Z,Z=pe.next,pe.next=null,m.lastBaseUpdate=pe,m.shared.pending=null}}while(!0);_e===null&&(se=ye),m.baseState=se,m.firstBaseUpdate=he,m.lastBaseUpdate=_e,y===null&&(m.shared.lanes=0),Ks|=I,t.lanes=I,t.memoizedState=ye}}function hv(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function dv(t,r){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)hv(l[t],r)}var Va=k(null),yf=k(0);function pv(t,r){t=Kr,ie(yf,t),ie(Va,r),Kr=t|r.baseLanes}function ip(){ie(yf,Kr),ie(Va,Va.current)}function rp(){Kr=yf.current,K(Va),K(yf)}var Fs=0,$e=null,_t=null,$t=null,bf=!1,Za=!1,Qo=!1,wf=0,du=0,Ga=null,kT=0;function Zt(){throw Error(s(321))}function sp(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!Dn(t[l],r[l]))return!1;return!0}function op(t,r,l,f,m,y){return Fs=y,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,O.H=t===null||t.memoizedState===null?Qv:$v,Qo=!1,y=l(f,m),Qo=!1,Za&&(y=gv(r,l,f,m)),mv(t),y}function mv(t){O.H=Of;var r=_t!==null&&_t.next!==null;if(Fs=0,$t=_t=$e=null,bf=!1,du=0,Ga=null,r)throw Error(s(300));t===null||fn||(t=t.dependencies,t!==null&&pf(t)&&(fn=!0))}function gv(t,r,l,f){$e=t;var m=0;do{if(Za&&(Ga=null),du=0,Za=!1,25<=m)throw Error(s(301));if(m+=1,$t=_t=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=BT,y=r(l,f)}while(Za);return y}function PT(){var t=O.H,r=t.useState()[0];return r=typeof r.then=="function"?pu(r):r,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&($e.flags|=1024),r}function ap(){var t=wf!==0;return wf=0,t}function lp(t,r,l){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l}function up(t){if(bf){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}bf=!1}Fs=0,$t=_t=$e=null,Za=!1,du=wf=0,Ga=null}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?$e.memoizedState=$t=t:$t=$t.next=t,$t}function Jt(){if(_t===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var r=$t===null?$e.memoizedState:$t.next;if(r!==null)$t=r,_t=t;else{if(t===null)throw $e.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},$t===null?$e.memoizedState=$t=t:$t=$t.next=t}return $t}function cp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var r=du;return du+=1,Ga===null&&(Ga=[]),t=uv(Ga,t,r),r=$e,($t===null?r.memoizedState:$t.next)===null&&(r=r.alternate,O.H=r===null||r.memoizedState===null?Qv:$v),t}function Sf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===$)return Ln(t)}throw Error(s(438,String(t)))}function fp(t){var r=null,l=$e.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=$e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=cp(),$e.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(t),f=0;f<t;f++)l[f]=M;return r.index++,l}function qr(t,r){return typeof r=="function"?r(t):r}function Ef(t){var r=Jt();return hp(r,_t,t)}function hp(t,r,l){var f=t.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var m=t.baseQueue,y=f.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}r.baseQueue=m=y,f.pending=null}if(y=t.baseState,m===null)t.memoizedState=y;else{r=m.next;var Z=I=null,se=null,he=r,_e=!1;do{var ye=he.lane&-536870913;if(ye!==he.lane?(lt&ye)===ye:(Fs&ye)===ye){var de=he.revertLane;if(de===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),ye===qa&&(_e=!0);else if((Fs&de)===de){he=he.next,de===qa&&(_e=!0);continue}else ye={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},se===null?(Z=se=ye,I=y):se=se.next=ye,$e.lanes|=de,Ks|=de;ye=he.action,Qo&&l(y,ye),y=he.hasEagerState?he.eagerState:l(y,ye)}else de={lane:ye,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},se===null?(Z=se=de,I=y):se=se.next=de,$e.lanes|=ye,Ks|=ye;he=he.next}while(he!==null&&he!==r);if(se===null?I=y:se.next=Z,!Dn(y,t.memoizedState)&&(fn=!0,_e&&(l=Wa,l!==null)))throw l;t.memoizedState=y,t.baseState=I,t.baseQueue=se,f.lastRenderedState=y}return m===null&&(f.lanes=0),[t.memoizedState,f.dispatch]}function dp(t){var r=Jt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var f=l.dispatch,m=l.pending,y=r.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=t(y,I.action),I=I.next;while(I!==m);Dn(y,r.memoizedState)||(fn=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,f]}function _v(t,r,l){var f=$e,m=Jt(),y=We;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=r();var I=!Dn((_t||m).memoizedState,l);I&&(m.memoizedState=l,fn=!0),m=m.queue;var Z=bv.bind(null,f,m,t);if(mu(2048,8,Z,[t]),m.getSnapshot!==r||I||$t!==null&&$t.memoizedState.tag&1){if(f.flags|=2048,Ya(9,Tf(),yv.bind(null,f,m,l,r),null),Ot===null)throw Error(s(349));y||(Fs&124)!==0||vv(f,r,l)}return l}function vv(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=$e.updateQueue,r===null?(r=cp(),$e.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function yv(t,r,l,f){r.value=l,r.getSnapshot=f,wv(r)&&Sv(t)}function bv(t,r,l){return l(function(){wv(r)&&Sv(t)})}function wv(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!Dn(t,l)}catch{return!0}}function Sv(t){var r=Ds(t,2);r!==null&&hi(r,t,2)}function pp(t){var r=Gn();if(typeof t=="function"){var l=t;if(t=l(),Qo){ot(!0);try{l()}finally{ot(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:t},r}function Ev(t,r,l,f){return t.baseState=l,hp(t,_t,typeof f=="function"?f:qr)}function DT(t,r,l,f,m){if(Cf(t))throw Error(s(485));if(t=r.action,t!==null){var y={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};O.T!==null?l(!0):y.isTransition=!1,f(y),l=r.pending,l===null?(y.next=r.pending=y,Tv(r,y)):(y.next=l.next,r.pending=l.next=y)}}function Tv(t,r){var l=r.action,f=r.payload,m=t.state;if(r.isTransition){var y=O.T,I={};O.T=I;try{var Z=l(m,f),se=O.S;se!==null&&se(I,Z),xv(t,r,Z)}catch(he){mp(t,r,he)}finally{O.T=y}}else try{y=l(m,f),xv(t,r,y)}catch(he){mp(t,r,he)}}function xv(t,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Cv(t,r,f)},function(f){return mp(t,r,f)}):Cv(t,r,l)}function Cv(t,r,l){r.status="fulfilled",r.value=l,Ov(r),t.state=l,r=t.pending,r!==null&&(l=r.next,l===r?t.pending=null:(l=l.next,r.next=l,Tv(t,l)))}function mp(t,r,l){var f=t.pending;if(t.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,Ov(r),r=r.next;while(r!==f)}t.action=null}function Ov(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Rv(t,r){return r}function Av(t,r){if(We){var l=Ot.formState;if(l!==null){e:{var f=$e;if(We){if(Me){t:{for(var m=Me,y=zt;m.nodeType!==8;){if(!y){m=null;break t}if(m=qi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Me=qi(m.nextSibling),f=m.data==="F!";break e}}Zn(f)}f=!1}f&&(r=l[0])}}return l=Gn(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rv,lastRenderedState:r},l.queue=f,l=Yv.bind(null,$e,f),f.dispatch=l,f=pp(!1),y=bp.bind(null,$e,!1,f.queue),f=Gn(),m={state:r,dispatch:null,action:t,pending:null},f.queue=m,l=DT.bind(null,$e,m,y,l),m.dispatch=l,f.memoizedState=t,[r,l,!1]}function Mv(t){var r=Jt();return Lv(r,_t,t)}function Lv(t,r,l){if(r=hp(t,r,Rv)[0],t=Ef(qr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=pu(r)}catch(I){throw I===lu?_f:I}else f=r;r=Jt();var m=r.queue,y=m.dispatch;return l!==r.memoizedState&&($e.flags|=2048,Ya(9,Tf(),NT.bind(null,m,l),null)),[f,y,t]}function NT(t,r){t.action=r}function Iv(t){var r=Jt(),l=_t;if(l!==null)return Lv(r,l,t);Jt(),r=r.memoizedState,l=Jt();var f=l.queue.dispatch;return l.memoizedState=t,[r,f,!1]}function Ya(t,r,l,f){return t={tag:t,create:l,deps:f,inst:r,next:null},r=$e.updateQueue,r===null&&(r=cp(),$e.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=t.next=t:(f=l.next,l.next=t,t.next=f,r.lastEffect=t),t}function Tf(){return{destroy:void 0,resource:void 0}}function kv(){return Jt().memoizedState}function xf(t,r,l,f){var m=Gn();f=f===void 0?null:f,$e.flags|=t,m.memoizedState=Ya(1|r,Tf(),l,f)}function mu(t,r,l,f){var m=Jt();f=f===void 0?null:f;var y=m.memoizedState.inst;_t!==null&&f!==null&&sp(f,_t.memoizedState.deps)?m.memoizedState=Ya(r,y,l,f):($e.flags|=t,m.memoizedState=Ya(1|r,y,l,f))}function Pv(t,r){xf(8390656,8,t,r)}function Dv(t,r){mu(2048,8,t,r)}function Nv(t,r){return mu(4,2,t,r)}function Uv(t,r){return mu(4,4,t,r)}function zv(t,r){if(typeof r=="function"){t=t();var l=r(t);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function jv(t,r,l){l=l!=null?l.concat([t]):null,mu(4,4,zv.bind(null,r,t),l)}function gp(){}function Bv(t,r){var l=Jt();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&sp(r,f[1])?f[0]:(l.memoizedState=[t,r],t)}function Hv(t,r){var l=Jt();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&sp(r,f[1]))return f[0];if(f=t(),Qo){ot(!0);try{t()}finally{ot(!1)}}return l.memoizedState=[f,r],f}function _p(t,r,l){return l===void 0||(Fs&1073741824)!==0?t.memoizedState=r:(t.memoizedState=l,t=Wy(),$e.lanes|=t,Ks|=t,l)}function Fv(t,r,l,f){return Dn(l,r)?l:Va.current!==null?(t=_p(t,l,f),Dn(t,r)||(fn=!0),t):(Fs&42)===0?(fn=!0,t.memoizedState=l):(t=Wy(),$e.lanes|=t,Ks|=t,r)}function qv(t,r,l,f,m){var y=_.p;_.p=y!==0&&8>y?y:8;var I=O.T,Z={};O.T=Z,bp(t,!1,r,l);try{var se=m(),he=O.S;if(he!==null&&he(Z,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var _e=IT(se,f);gu(t,r,_e,fi(t))}else gu(t,r,f,fi(t))}catch(ye){gu(t,r,{then:function(){},status:"rejected",reason:ye},fi())}finally{_.p=y,O.T=I}}function UT(){}function vp(t,r,l,f){if(t.tag!==5)throw Error(s(476));var m=Wv(t).queue;qv(t,m,r,Q,l===null?UT:function(){return Vv(t),l(f)})}function Wv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:Q},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:l},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Vv(t){var r=Wv(t).next.queue;gu(t,r,{},fi())}function yp(){return Ln(Pu)}function Zv(){return Jt().memoizedState}function Gv(){return Jt().memoizedState}function zT(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var l=fi();t=Bs(l);var f=Hs(r,t,l);f!==null&&(hi(f,r,l),cu(f,r,l)),r={cache:Kd()},t.payload=r;return}r=r.return}}function jT(t,r,l){var f=fi();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Cf(t)?Kv(r,l):(l=Br(t,r,l,f),l!==null&&(hi(l,t,f),Xv(l,r,f)))}function Yv(t,r,l){var f=fi();gu(t,r,l,f)}function gu(t,r,l,f){var m={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cf(t))Kv(r,m);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var I=r.lastRenderedState,Z=y(I,l);if(m.hasEagerState=!0,m.eagerState=Z,Dn(Z,I))return qo(t,r,m,0),Ot===null&&Fo(),!1}catch{}finally{}if(l=Br(t,r,m,f),l!==null)return hi(l,t,f),Xv(l,r,f),!0}return!1}function bp(t,r,l,f){if(f={lane:2,revertLane:$p(),action:f,hasEagerState:!1,eagerState:null,next:null},Cf(t)){if(r)throw Error(s(479))}else r=Br(t,l,f,2),r!==null&&hi(r,t,2)}function Cf(t){var r=t.alternate;return t===$e||r!==null&&r===$e}function Kv(t,r){Za=bf=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function Xv(t,r,l){if((l&4194048)!==0){var f=r.lanes;f&=t.pendingLanes,l|=f,r.lanes=l,tr(t,l)}}var Of={readContext:Ln,use:Sf,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},Qv={readContext:Ln,use:Sf,useCallback:function(t,r){return Gn().memoizedState=[t,r===void 0?null:r],t},useContext:Ln,useEffect:Pv,useImperativeHandle:function(t,r,l){l=l!=null?l.concat([t]):null,xf(4194308,4,zv.bind(null,r,t),l)},useLayoutEffect:function(t,r){return xf(4194308,4,t,r)},useInsertionEffect:function(t,r){xf(4,2,t,r)},useMemo:function(t,r){var l=Gn();r=r===void 0?null:r;var f=t();if(Qo){ot(!0);try{t()}finally{ot(!1)}}return l.memoizedState=[f,r],f},useReducer:function(t,r,l){var f=Gn();if(l!==void 0){var m=l(r);if(Qo){ot(!0);try{l(r)}finally{ot(!1)}}}else m=r;return f.memoizedState=f.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},f.queue=t,t=t.dispatch=jT.bind(null,$e,t),[f.memoizedState,t]},useRef:function(t){var r=Gn();return t={current:t},r.memoizedState=t},useState:function(t){t=pp(t);var r=t.queue,l=Yv.bind(null,$e,r);return r.dispatch=l,[t.memoizedState,l]},useDebugValue:gp,useDeferredValue:function(t,r){var l=Gn();return _p(l,t,r)},useTransition:function(){var t=pp(!1);return t=qv.bind(null,$e,t.queue,!0,!1),Gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,l){var f=$e,m=Gn();if(We){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ot===null)throw Error(s(349));(lt&124)!==0||vv(f,r,l)}m.memoizedState=l;var y={value:l,getSnapshot:r};return m.queue=y,Pv(bv.bind(null,f,y,t),[t]),f.flags|=2048,Ya(9,Tf(),yv.bind(null,f,y,l,r),null),l},useId:function(){var t=Gn(),r=Ot.identifierPrefix;if(We){var l=re,f=q;l=(f&~(1<<32-Nt(f)-1)).toString(32)+l,r="«"+r+"R"+l,l=wf++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=kT++,r="«"+r+"r"+l.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:yp,useFormState:Av,useActionState:Av,useOptimistic:function(t){var r=Gn();r.memoizedState=r.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=bp.bind(null,$e,!0,l),l.dispatch=r,[t,r]},useMemoCache:fp,useCacheRefresh:function(){return Gn().memoizedState=zT.bind(null,$e)}},$v={readContext:Ln,use:Sf,useCallback:Bv,useContext:Ln,useEffect:Dv,useImperativeHandle:jv,useInsertionEffect:Nv,useLayoutEffect:Uv,useMemo:Hv,useReducer:Ef,useRef:kv,useState:function(){return Ef(qr)},useDebugValue:gp,useDeferredValue:function(t,r){var l=Jt();return Fv(l,_t.memoizedState,t,r)},useTransition:function(){var t=Ef(qr)[0],r=Jt().memoizedState;return[typeof t=="boolean"?t:pu(t),r]},useSyncExternalStore:_v,useId:Zv,useHostTransitionStatus:yp,useFormState:Mv,useActionState:Mv,useOptimistic:function(t,r){var l=Jt();return Ev(l,_t,t,r)},useMemoCache:fp,useCacheRefresh:Gv},BT={readContext:Ln,use:Sf,useCallback:Bv,useContext:Ln,useEffect:Dv,useImperativeHandle:jv,useInsertionEffect:Nv,useLayoutEffect:Uv,useMemo:Hv,useReducer:dp,useRef:kv,useState:function(){return dp(qr)},useDebugValue:gp,useDeferredValue:function(t,r){var l=Jt();return _t===null?_p(l,t,r):Fv(l,_t.memoizedState,t,r)},useTransition:function(){var t=dp(qr)[0],r=Jt().memoizedState;return[typeof t=="boolean"?t:pu(t),r]},useSyncExternalStore:_v,useId:Zv,useHostTransitionStatus:yp,useFormState:Iv,useActionState:Iv,useOptimistic:function(t,r){var l=Jt();return _t!==null?Ev(l,_t,t,r):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:fp,useCacheRefresh:Gv},Ka=null,_u=0;function Rf(t){var r=_u;return _u+=1,Ka===null&&(Ka=[]),uv(Ka,t,r)}function vu(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Af(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Jv(t){var r=t._init;return r(t._payload)}function ey(t){function r(ue,le){if(t){var fe=ue.deletions;fe===null?(ue.deletions=[le],ue.flags|=16):fe.push(le)}}function l(ue,le){if(!t)return null;for(;le!==null;)r(ue,le),le=le.sibling;return null}function f(ue){for(var le=new Map;ue!==null;)ue.key!==null?le.set(ue.key,ue):le.set(ue.index,ue),ue=ue.sibling;return le}function m(ue,le){return ue=Ei(ue,le),ue.index=0,ue.sibling=null,ue}function y(ue,le,fe){return ue.index=fe,t?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<le?(ue.flags|=67108866,le):fe):(ue.flags|=67108866,le)):(ue.flags|=1048576,le)}function I(ue){return t&&ue.alternate===null&&(ue.flags|=67108866),ue}function Z(ue,le,fe,ve){return le===null||le.tag!==6?(le=su(fe,ue.mode,ve),le.return=ue,le):(le=m(le,fe),le.return=ue,le)}function se(ue,le,fe,ve){var Ae=fe.type;return Ae===R?_e(ue,le,fe.props.children,ve,fe.key):le!==null&&(le.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===B&&Jv(Ae)===le.type)?(le=m(le,fe.props),vu(le,fe),le.return=ue,le):(le=Vo(fe.type,fe.key,fe.props,null,ue.mode,ve),vu(le,fe),le.return=ue,le)}function he(ue,le,fe,ve){return le===null||le.tag!==4||le.stateNode.containerInfo!==fe.containerInfo||le.stateNode.implementation!==fe.implementation?(le=Ha(fe,ue.mode,ve),le.return=ue,le):(le=m(le,fe.children||[]),le.return=ue,le)}function _e(ue,le,fe,ve,Ae){return le===null||le.tag!==7?(le=ur(fe,ue.mode,ve,Ae),le.return=ue,le):(le=m(le,fe),le.return=ue,le)}function ye(ue,le,fe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=su(""+le,ue.mode,fe),le.return=ue,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return fe=Vo(le.type,le.key,le.props,null,ue.mode,fe),vu(fe,le),fe.return=ue,fe;case x:return le=Ha(le,ue.mode,fe),le.return=ue,le;case B:var ve=le._init;return le=ve(le._payload),ye(ue,le,fe)}if(G(le)||U(le))return le=ur(le,ue.mode,fe,null),le.return=ue,le;if(typeof le.then=="function")return ye(ue,Rf(le),fe);if(le.$$typeof===$)return ye(ue,mf(ue,le),fe);Af(ue,le)}return null}function de(ue,le,fe,ve){var Ae=le!==null?le.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ae!==null?null:Z(ue,le,""+fe,ve);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case S:return fe.key===Ae?se(ue,le,fe,ve):null;case x:return fe.key===Ae?he(ue,le,fe,ve):null;case B:return Ae=fe._init,fe=Ae(fe._payload),de(ue,le,fe,ve)}if(G(fe)||U(fe))return Ae!==null?null:_e(ue,le,fe,ve,null);if(typeof fe.then=="function")return de(ue,le,Rf(fe),ve);if(fe.$$typeof===$)return de(ue,le,mf(ue,fe),ve);Af(ue,fe)}return null}function pe(ue,le,fe,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ue=ue.get(fe)||null,Z(le,ue,""+ve,Ae);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return ue=ue.get(ve.key===null?fe:ve.key)||null,se(le,ue,ve,Ae);case x:return ue=ue.get(ve.key===null?fe:ve.key)||null,he(le,ue,ve,Ae);case B:var et=ve._init;return ve=et(ve._payload),pe(ue,le,fe,ve,Ae)}if(G(ve)||U(ve))return ue=ue.get(fe)||null,_e(le,ue,ve,Ae,null);if(typeof ve.then=="function")return pe(ue,le,fe,Rf(ve),Ae);if(ve.$$typeof===$)return pe(ue,le,fe,mf(le,ve),Ae);Af(le,ve)}return null}function qe(ue,le,fe,ve){for(var Ae=null,et=null,De=le,je=le=0,dn=null;De!==null&&je<fe.length;je++){De.index>je?(dn=De,De=null):dn=De.sibling;var ft=de(ue,De,fe[je],ve);if(ft===null){De===null&&(De=dn);break}t&&De&&ft.alternate===null&&r(ue,De),le=y(ft,le,je),et===null?Ae=ft:et.sibling=ft,et=ft,De=dn}if(je===fe.length)return l(ue,De),We&&ce(ue,je),Ae;if(De===null){for(;je<fe.length;je++)De=ye(ue,fe[je],ve),De!==null&&(le=y(De,le,je),et===null?Ae=De:et.sibling=De,et=De);return We&&ce(ue,je),Ae}for(De=f(De);je<fe.length;je++)dn=pe(De,ue,je,fe[je],ve),dn!==null&&(t&&dn.alternate!==null&&De.delete(dn.key===null?je:dn.key),le=y(dn,le,je),et===null?Ae=dn:et.sibling=dn,et=dn);return t&&De.forEach(function(ro){return r(ue,ro)}),We&&ce(ue,je),Ae}function ze(ue,le,fe,ve){if(fe==null)throw Error(s(151));for(var Ae=null,et=null,De=le,je=le=0,dn=null,ft=fe.next();De!==null&&!ft.done;je++,ft=fe.next()){De.index>je?(dn=De,De=null):dn=De.sibling;var ro=de(ue,De,ft.value,ve);if(ro===null){De===null&&(De=dn);break}t&&De&&ro.alternate===null&&r(ue,De),le=y(ro,le,je),et===null?Ae=ro:et.sibling=ro,et=ro,De=dn}if(ft.done)return l(ue,De),We&&ce(ue,je),Ae;if(De===null){for(;!ft.done;je++,ft=fe.next())ft=ye(ue,ft.value,ve),ft!==null&&(le=y(ft,le,je),et===null?Ae=ft:et.sibling=ft,et=ft);return We&&ce(ue,je),Ae}for(De=f(De);!ft.done;je++,ft=fe.next())ft=pe(De,ue,je,ft.value,ve),ft!==null&&(t&&ft.alternate!==null&&De.delete(ft.key===null?je:ft.key),le=y(ft,le,je),et===null?Ae=ft:et.sibling=ft,et=ft);return t&&De.forEach(function(Hx){return r(ue,Hx)}),We&&ce(ue,je),Ae}function yt(ue,le,fe,ve){if(typeof fe=="object"&&fe!==null&&fe.type===R&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case S:e:{for(var Ae=fe.key;le!==null;){if(le.key===Ae){if(Ae=fe.type,Ae===R){if(le.tag===7){l(ue,le.sibling),ve=m(le,fe.props.children),ve.return=ue,ue=ve;break e}}else if(le.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===B&&Jv(Ae)===le.type){l(ue,le.sibling),ve=m(le,fe.props),vu(ve,fe),ve.return=ue,ue=ve;break e}l(ue,le);break}else r(ue,le);le=le.sibling}fe.type===R?(ve=ur(fe.props.children,ue.mode,ve,fe.key),ve.return=ue,ue=ve):(ve=Vo(fe.type,fe.key,fe.props,null,ue.mode,ve),vu(ve,fe),ve.return=ue,ue=ve)}return I(ue);case x:e:{for(Ae=fe.key;le!==null;){if(le.key===Ae)if(le.tag===4&&le.stateNode.containerInfo===fe.containerInfo&&le.stateNode.implementation===fe.implementation){l(ue,le.sibling),ve=m(le,fe.children||[]),ve.return=ue,ue=ve;break e}else{l(ue,le);break}else r(ue,le);le=le.sibling}ve=Ha(fe,ue.mode,ve),ve.return=ue,ue=ve}return I(ue);case B:return Ae=fe._init,fe=Ae(fe._payload),yt(ue,le,fe,ve)}if(G(fe))return qe(ue,le,fe,ve);if(U(fe)){if(Ae=U(fe),typeof Ae!="function")throw Error(s(150));return fe=Ae.call(fe),ze(ue,le,fe,ve)}if(typeof fe.then=="function")return yt(ue,le,Rf(fe),ve);if(fe.$$typeof===$)return yt(ue,le,mf(ue,fe),ve);Af(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,le!==null&&le.tag===6?(l(ue,le.sibling),ve=m(le,fe),ve.return=ue,ue=ve):(l(ue,le),ve=su(fe,ue.mode,ve),ve.return=ue,ue=ve),I(ue)):l(ue,le)}return function(ue,le,fe,ve){try{_u=0;var Ae=yt(ue,le,fe,ve);return Ka=null,Ae}catch(De){if(De===lu||De===_f)throw De;var et=jn(29,De,null,ue.mode);return et.lanes=ve,et.return=ue,et}finally{}}}var Xa=ey(!0),ty=ey(!1),xi=k(null),fr=null;function qs(t){var r=t.alternate;ie(nn,nn.current&1),ie(xi,t),fr===null&&(r===null||Va.current!==null||r.memoizedState!==null)&&(fr=t)}function ny(t){if(t.tag===22){if(ie(nn,nn.current),ie(xi,t),fr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fr=t)}}else Ws()}function Ws(){ie(nn,nn.current),ie(xi,xi.current)}function Wr(t){K(xi),fr===t&&(fr=null),K(nn)}var nn=k(0);function Mf(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||cm(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function wp(t,r,l,f){r=t.memoizedState,l=l(f,r),l=l==null?r:b({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Sp={enqueueSetState:function(t,r,l){t=t._reactInternals;var f=fi(),m=Bs(f);m.payload=r,l!=null&&(m.callback=l),r=Hs(t,m,f),r!==null&&(hi(r,t,f),cu(r,t,f))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var f=fi(),m=Bs(f);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=Hs(t,m,f),r!==null&&(hi(r,t,f),cu(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=fi(),f=Bs(l);f.tag=2,r!=null&&(f.callback=r),r=Hs(t,f,l),r!==null&&(hi(r,t,l),cu(r,t,l))}};function iy(t,r,l,f,m,y,I){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(f,y,I):r.prototype&&r.prototype.isPureReactComponent?!Nn(l,f)||!Nn(m,y):!0}function ry(t,r,l,f){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==t&&Sp.enqueueReplaceState(r,r.state,null)}function $o(t,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(t=t.defaultProps){l===r&&(l=b({},l));for(var m in t)l[m]===void 0&&(l[m]=t[m])}return l}var Lf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sy(t){Lf(t)}function oy(t){console.error(t)}function ay(t){Lf(t)}function If(t,r){try{var l=t.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function ly(t,r,l){try{var f=t.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ep(t,r,l){return l=Bs(l),l.tag=3,l.payload={element:null},l.callback=function(){If(t,r)},l}function uy(t){return t=Bs(t),t.tag=3,t}function cy(t,r,l,f){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;t.payload=function(){return m(y)},t.callback=function(){ly(r,l,f)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(t.callback=function(){ly(r,l,f),typeof m!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var Z=f.stack;this.componentDidCatch(f.value,{componentStack:Z!==null?Z:""})})}function HT(t,r,l,f,m){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&Yo(r,l,m,!0),l=xi.current,l!==null){switch(l.tag){case 13:return fr===null?Gp():l.alternate===null&&Ht===0&&(Ht=3),l.flags&=-257,l.flags|=65536,l.lanes=m,f===$d?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),Kp(t,f,m)),!1;case 22:return l.flags|=65536,f===$d?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),Kp(t,f,m)),!1}throw Error(s(435,l.tag))}return Kp(t,f,m),Gp(),!1}if(We)return r=xi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,f!==cn&&(t=Error(s(422),{cause:f}),zs(Un(t,l)))):(f!==cn&&(r=Error(s(423),{cause:f}),zs(Un(r,l))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,f=Un(f,l),m=Ep(t.stateNode,f,m),tp(t,m),Ht!==4&&(Ht=2)),!1;var y=Error(s(520),{cause:f});if(y=Un(y,l),xu===null?xu=[y]:xu.push(y),Ht!==4&&(Ht=2),r===null)return!0;f=Un(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,t=m&-m,l.lanes|=t,t=Ep(l.stateNode,f,t),tp(l,t),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xs===null||!Xs.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=uy(m),cy(m,t,l,f),tp(l,m),!1}l=l.return}while(l!==null);return!1}var fy=Error(s(461)),fn=!1;function wn(t,r,l,f){r.child=t===null?ty(r,null,l,f):Xa(r,t.child,l,f)}function hy(t,r,l,f,m){l=l.render;var y=r.ref;if("ref"in f){var I={};for(var Z in f)Z!=="ref"&&(I[Z]=f[Z])}else I=f;return Ko(r),f=op(t,r,l,I,y,m),Z=ap(),t!==null&&!fn?(lp(t,r,m),Vr(t,r,m)):(We&&Z&&be(r),r.flags|=1,wn(t,r,f,m),r.child)}function dy(t,r,l,f,m){if(t===null){var y=l.type;return typeof y=="function"&&!Ba(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,py(t,r,y,f,m)):(t=Vo(l.type,null,f,r,r.mode,m),t.ref=r.ref,t.return=r,r.child=t)}if(y=t.child,!Lp(t,m)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:Nn,l(I,f)&&t.ref===r.ref)return Vr(t,r,m)}return r.flags|=1,t=Ei(y,f),t.ref=r.ref,t.return=r,r.child=t}function py(t,r,l,f,m){if(t!==null){var y=t.memoizedProps;if(Nn(y,f)&&t.ref===r.ref)if(fn=!1,r.pendingProps=f=y,Lp(t,m))(t.flags&131072)!==0&&(fn=!0);else return r.lanes=t.lanes,Vr(t,r,m)}return Tp(t,r,l,f,m)}function my(t,r,l){var f=r.pendingProps,m=f.children,y=t!==null?t.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=y!==null?y.baseLanes|l:l,t!==null){for(m=r.child=t.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;r.childLanes=y&~f}else r.childLanes=0,r.child=null;return gy(t,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&gf(r,y!==null?y.cachePool:null),y!==null?pv(r,y):ip(),ny(r);else return r.lanes=r.childLanes=536870912,gy(t,r,y!==null?y.baseLanes|l:l,l)}else y!==null?(gf(r,y.cachePool),pv(r,y),Ws(),r.memoizedState=null):(t!==null&&gf(r,null),ip(),Ws());return wn(t,r,m,l),r.child}function gy(t,r,l,f){var m=Qd();return m=m===null?null:{parent:tn._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},t!==null&&gf(r,null),ip(),ny(r),t!==null&&Yo(t,r,f,!0),null}function kf(t,r){var l=r.ref;if(l===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(r.flags|=4194816)}}function Tp(t,r,l,f,m){return Ko(r),l=op(t,r,l,f,void 0,m),f=ap(),t!==null&&!fn?(lp(t,r,m),Vr(t,r,m)):(We&&f&&be(r),r.flags|=1,wn(t,r,l,m),r.child)}function _y(t,r,l,f,m,y){return Ko(r),r.updateQueue=null,l=gv(r,f,l,m),mv(t),f=ap(),t!==null&&!fn?(lp(t,r,y),Vr(t,r,y)):(We&&f&&be(r),r.flags|=1,wn(t,r,l,y),r.child)}function vy(t,r,l,f,m){if(Ko(r),r.stateNode===null){var y=Hr,I=l.contextType;typeof I=="object"&&I!==null&&(y=Ln(I)),y=new l(f,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=f,y.state=r.memoizedState,y.refs={},Jd(r),I=l.contextType,y.context=typeof I=="object"&&I!==null?Ln(I):Hr,y.state=r.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(wp(r,l,I,f),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&Sp.enqueueReplaceState(y,y.state,null),hu(r,f,y,m),fu(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(t===null){y=r.stateNode;var Z=r.memoizedProps,se=$o(l,Z);y.props=se;var he=y.context,_e=l.contextType;I=Hr,typeof _e=="object"&&_e!==null&&(I=Ln(_e));var ye=l.getDerivedStateFromProps;_e=typeof ye=="function"||typeof y.getSnapshotBeforeUpdate=="function",Z=r.pendingProps!==Z,_e||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(Z||he!==I)&&ry(r,y,f,I),js=!1;var de=r.memoizedState;y.state=de,hu(r,f,y,m),fu(),he=r.memoizedState,Z||de!==he||js?(typeof ye=="function"&&(wp(r,l,ye,f),he=r.memoizedState),(se=js||iy(r,l,se,f,de,he,I))?(_e||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=he),y.props=f,y.state=he,y.context=I,f=se):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{y=r.stateNode,ep(t,r),I=r.memoizedProps,_e=$o(l,I),y.props=_e,ye=r.pendingProps,de=y.context,he=l.contextType,se=Hr,typeof he=="object"&&he!==null&&(se=Ln(he)),Z=l.getDerivedStateFromProps,(he=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==ye||de!==se)&&ry(r,y,f,se),js=!1,de=r.memoizedState,y.state=de,hu(r,f,y,m),fu();var pe=r.memoizedState;I!==ye||de!==pe||js||t!==null&&t.dependencies!==null&&pf(t.dependencies)?(typeof Z=="function"&&(wp(r,l,Z,f),pe=r.memoizedState),(_e=js||iy(r,l,_e,f,de,pe,se)||t!==null&&t.dependencies!==null&&pf(t.dependencies))?(he||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,pe,se),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,pe,se)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===t.memoizedProps&&de===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&de===t.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=pe),y.props=f,y.state=pe,y.context=se,f=_e):(typeof y.componentDidUpdate!="function"||I===t.memoizedProps&&de===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&de===t.memoizedState||(r.flags|=1024),f=!1)}return y=f,kf(t,r),f=(r.flags&128)!==0,y||f?(y=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,t!==null&&f?(r.child=Xa(r,t.child,null,m),r.child=Xa(r,null,l,m)):wn(t,r,l,m),r.memoizedState=y.state,t=r.child):t=Vr(t,r,m),t}function yy(t,r,l,f){return Us(),r.flags|=256,wn(t,r,l,f),r.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(t){return{baseLanes:t,cachePool:ov()}}function Op(t,r,l){return t=t!==null?t.childLanes&~l:0,r&&(t|=Ci),t}function by(t,r,l){var f=r.pendingProps,m=!1,y=(r.flags&128)!==0,I;if((I=y)||(I=t!==null&&t.memoizedState===null?!1:(nn.current&2)!==0),I&&(m=!0,r.flags&=-129),I=(r.flags&32)!==0,r.flags&=-33,t===null){if(We){if(m?qs(r):Ws(),We){var Z=Me,se;if(se=Z){e:{for(se=Z,Z=zt;se.nodeType!==8;){if(!Z){Z=null;break e}if(se=qi(se.nextSibling),se===null){Z=null;break e}}Z=se}Z!==null?(r.memoizedState={dehydrated:Z,treeContext:C!==null?{id:q,overflow:re}:null,retryLane:536870912,hydrationErrors:null},se=jn(18,null,null,0),se.stateNode=Z,se.return=r,r.child=se,Re=r,Me=null,se=!0):se=!1}se||Zn(r)}if(Z=r.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return cm(Z)?r.lanes=32:r.lanes=536870912,null;Wr(r)}return Z=f.children,f=f.fallback,m?(Ws(),m=r.mode,Z=Pf({mode:"hidden",children:Z},m),f=ur(f,m,l,null),Z.return=r,f.return=r,Z.sibling=f,r.child=Z,m=r.child,m.memoizedState=Cp(l),m.childLanes=Op(t,I,l),r.memoizedState=xp,f):(qs(r),Rp(r,Z))}if(se=t.memoizedState,se!==null&&(Z=se.dehydrated,Z!==null)){if(y)r.flags&256?(qs(r),r.flags&=-257,r=Ap(t,r,l)):r.memoizedState!==null?(Ws(),r.child=t.child,r.flags|=128,r=null):(Ws(),m=f.fallback,Z=r.mode,f=Pf({mode:"visible",children:f.children},Z),m=ur(m,Z,l,null),m.flags|=2,f.return=r,m.return=r,f.sibling=m,r.child=f,Xa(r,t.child,null,l),f=r.child,f.memoizedState=Cp(l),f.childLanes=Op(t,I,l),r.memoizedState=xp,r=m);else if(qs(r),cm(Z)){if(I=Z.nextSibling&&Z.nextSibling.dataset,I)var he=I.dgst;I=he,f=Error(s(419)),f.stack="",f.digest=I,zs({value:f,source:null,stack:null}),r=Ap(t,r,l)}else if(fn||Yo(t,r,l,!1),I=(l&t.childLanes)!==0,fn||I){if(I=Ot,I!==null&&(f=l&-l,f=(f&42)!==0?1:ps(f),f=(f&(I.suspendedLanes|l))!==0?0:f,f!==0&&f!==se.retryLane))throw se.retryLane=f,Ds(t,f),hi(I,t,f),fy;Z.data==="$?"||Gp(),r=Ap(t,r,l)}else Z.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=se.treeContext,Me=qi(Z.nextSibling),Re=r,We=!0,Ct=null,zt=!1,t!==null&&(p[T++]=q,p[T++]=re,p[T++]=C,q=t.id,re=t.overflow,C=r),r=Rp(r,f.children),r.flags|=4096);return r}return m?(Ws(),m=f.fallback,Z=r.mode,se=t.child,he=se.sibling,f=Ei(se,{mode:"hidden",children:f.children}),f.subtreeFlags=se.subtreeFlags&65011712,he!==null?m=Ei(he,m):(m=ur(m,Z,l,null),m.flags|=2),m.return=r,f.return=r,f.sibling=m,r.child=f,f=m,m=r.child,Z=t.child.memoizedState,Z===null?Z=Cp(l):(se=Z.cachePool,se!==null?(he=tn._currentValue,se=se.parent!==he?{parent:he,pool:he}:se):se=ov(),Z={baseLanes:Z.baseLanes|l,cachePool:se}),m.memoizedState=Z,m.childLanes=Op(t,I,l),r.memoizedState=xp,f):(qs(r),l=t.child,t=l.sibling,l=Ei(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,t!==null&&(I=r.deletions,I===null?(r.deletions=[t],r.flags|=16):I.push(t)),r.child=l,r.memoizedState=null,l)}function Rp(t,r){return r=Pf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Pf(t,r){return t=jn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ap(t,r,l){return Xa(r,t.child,null,l),t=Rp(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function wy(t,r,l){t.lanes|=r;var f=t.alternate;f!==null&&(f.lanes|=r),Go(t.return,r,l)}function Mp(t,r,l,f,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=m)}function Sy(t,r,l){var f=r.pendingProps,m=f.revealOrder,y=f.tail;if(wn(t,r,f.children,l),f=nn.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,l,r);else if(t.tag===19)wy(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}f&=1}switch(ie(nn,f),m){case"forwards":for(l=r.child,m=null;l!==null;)t=l.alternate,t!==null&&Mf(t)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Mp(r,!1,m,l,y);break;case"backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(t=m.alternate,t!==null&&Mf(t)===null){r.child=m;break}t=m.sibling,m.sibling=l,l=m,m=t}Mp(r,!0,l,null,y);break;case"together":Mp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Vr(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),Ks|=r.lanes,(l&r.childLanes)===0)if(t!==null){if(Yo(t,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,l=Ei(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=Ei(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function Lp(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&pf(t)))}function FT(t,r,l){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),cr(r,tn,t.memoizedState.cache),Us();break;case 27:case 5:Oe(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:cr(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(qs(r),r.flags|=128,null):(l&r.child.childLanes)!==0?by(t,r,l):(qs(r),t=Vr(t,r,l),t!==null?t.sibling:null);qs(r);break;case 19:var m=(t.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(Yo(t,r,l,!1),f=(l&r.childLanes)!==0),m){if(f)return Sy(t,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ie(nn,nn.current),f)break;return null;case 22:case 23:return r.lanes=0,my(t,r,l);case 24:cr(r,tn,t.memoizedState.cache)}return Vr(t,r,l)}function Ey(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps)fn=!0;else{if(!Lp(t,l)&&(r.flags&128)===0)return fn=!1,FT(t,r,l);fn=(t.flags&131072)!==0}else fn=!1,We&&(r.flags&1048576)!==0&&me(r,c,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var f=r.elementType,m=f._init;if(f=m(f._payload),r.type=f,typeof f=="function")Ba(f)?(t=$o(f,t),r.tag=1,r=vy(null,r,f,t,l)):(r.tag=0,r=Tp(null,r,f,t,l));else{if(f!=null){if(m=f.$$typeof,m===ne){r.tag=11,r=hy(null,r,f,t,l);break e}else if(m===X){r.tag=14,r=dy(null,r,f,t,l);break e}}throw r=N(f)||f,Error(s(306,r,""))}}return r;case 0:return Tp(t,r,r.type,r.pendingProps,l);case 1:return f=r.type,m=$o(f,r.pendingProps),vy(t,r,f,m,l);case 3:e:{if(we(r,r.stateNode.containerInfo),t===null)throw Error(s(387));f=r.pendingProps;var y=r.memoizedState;m=y.element,ep(t,r),hu(r,f,null,l);var I=r.memoizedState;if(f=I.cache,cr(r,tn,f),f!==y.cache&&Fa(r,[tn],l,!0),fu(),f=I.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:I.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=yy(t,r,f,l);break e}else if(f!==m){m=Un(Error(s(424)),r),zs(m),r=yy(t,r,f,l);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Me=qi(t.firstChild),Re=r,We=!0,Ct=null,zt=!0,l=ty(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Us(),f===m){r=Vr(t,r,l);break e}wn(t,r,f,l)}r=r.child}return r;case 26:return kf(t,r),t===null?(l=O0(r.type,null,r.pendingProps,null))?r.memoizedState=l:We||(l=r.type,t=r.pendingProps,f=Yf(ae.current).createElement(l),f[ln]=r,f[Rn]=t,En(f,l,t),Qt(f),r.stateNode=f):r.memoizedState=O0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Oe(r),t===null&&We&&(f=r.stateNode=T0(r.type,r.pendingProps,ae.current),Re=r,zt=!0,m=Me,Js(r.type)?(fm=m,Me=qi(f.firstChild)):Me=m),wn(t,r,r.pendingProps.children,l),kf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&We&&((m=f=Me)&&(f=gx(f,r.type,r.pendingProps,zt),f!==null?(r.stateNode=f,Re=r,Me=qi(f.firstChild),zt=!1,m=!0):m=!1),m||Zn(r)),Oe(r),m=r.type,y=r.pendingProps,I=t!==null?t.memoizedProps:null,f=y.children,am(m,y)?f=null:I!==null&&am(m,I)&&(r.flags|=32),r.memoizedState!==null&&(m=op(t,r,PT,null,null,l),Pu._currentValue=m),kf(t,r),wn(t,r,f,l),r.child;case 6:return t===null&&We&&((t=l=Me)&&(l=_x(l,r.pendingProps,zt),l!==null?(r.stateNode=l,Re=r,Me=null,t=!0):t=!1),t||Zn(r)),null;case 13:return by(t,r,l);case 4:return we(r,r.stateNode.containerInfo),f=r.pendingProps,t===null?r.child=Xa(r,null,f,l):wn(t,r,f,l),r.child;case 11:return hy(t,r,r.type,r.pendingProps,l);case 7:return wn(t,r,r.pendingProps,l),r.child;case 8:return wn(t,r,r.pendingProps.children,l),r.child;case 12:return wn(t,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,cr(r,r.type,f.value),wn(t,r,f.children,l),r.child;case 9:return m=r.type._context,f=r.pendingProps.children,Ko(r),m=Ln(m),f=f(m),r.flags|=1,wn(t,r,f,l),r.child;case 14:return dy(t,r,r.type,r.pendingProps,l);case 15:return py(t,r,r.type,r.pendingProps,l);case 19:return Sy(t,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},t===null?(l=Pf(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=Ei(t.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return my(t,r,l);case 24:return Ko(r),f=Ln(tn),t===null?(m=Qd(),m===null&&(m=Ot,y=Kd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),r.memoizedState={parent:f,cache:m},Jd(r),cr(r,tn,m)):((t.lanes&l)!==0&&(ep(t,r),hu(r,null,null,l),fu()),m=t.memoizedState,y=r.memoizedState,m.parent!==f?(m={parent:f,cache:f},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),cr(r,tn,f)):(f=y.cache,cr(r,tn,f),f!==m.cache&&Fa(r,[tn],l,!0))),wn(t,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zr(t){t.flags|=4}function Ty(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!I0(r)){if(r=xi.current,r!==null&&((lt&4194048)===lt?fr!==null:(lt&62914560)!==lt&&(lt&536870912)===0||r!==fr))throw uu=$d,av;t.flags|=8192}}function Df(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Pi():536870912,t.lanes|=r,el|=r)}function yu(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:f.sibling=null}}function jt(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,f=0;if(r)for(var m=t.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=f,t.childLanes=l,r}function qT(t,r,l){var f=r.pendingProps;switch(xe(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return l=r.stateNode,f=null,t!==null&&(f=t.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Hi(tn),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Zo(r)?Zr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,df())),jt(r),null;case 26:return l=r.memoizedState,t===null?(Zr(r),l!==null?(jt(r),Ty(r,l)):(jt(r),r.flags&=-16777217)):l?l!==t.memoizedState?(Zr(r),jt(r),Ty(r,l)):(jt(r),r.flags&=-16777217):(t.memoizedProps!==f&&Zr(r),jt(r),r.flags&=-16777217),null;case 27:Le(r),l=ae.current;var m=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==f&&Zr(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return jt(r),null}t=ee.current,Zo(r)?ff(r):(t=T0(m,f,l),r.stateNode=t,Zr(r))}return jt(r),null;case 5:if(Le(r),l=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==f&&Zr(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return jt(r),null}if(t=ee.current,Zo(r))ff(r);else{switch(m=Yf(ae.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?t.multiple=!0:f.size&&(t.size=f.size);break;default:t=typeof f.is=="string"?m.createElement(l,{is:f.is}):m.createElement(l)}}t[ln]=r,t[Rn]=f;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=t;e:switch(En(t,l,f),l){case"button":case"input":case"select":case"textarea":t=!!f.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zr(r)}}return jt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==f&&Zr(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(s(166));if(t=ae.current,Zo(r)){if(t=r.stateNode,l=r.memoizedProps,f=null,m=Re,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}t[ln]=r,t=!!(t.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||_0(t.nodeValue,l)),t||Zn(r)}else t=Yf(t).createTextNode(f),t[ln]=r,r.stateNode=t}return jt(r),null;case 13:if(f=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Zo(r),f!==null&&f.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ln]=r}else Us(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),m=!1}else m=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Wr(r),r):(Wr(r),null)}if(Wr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,t=t!==null&&t.memoizedState!==null,l){f=r.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return l!==t&&l&&(r.child.flags|=8192),Df(r,r.updateQueue),jt(r),null;case 4:return Ee(),t===null&&nm(r.stateNode.containerInfo),jt(r),null;case 10:return Hi(r.type),jt(r),null;case 19:if(K(nn),m=r.memoizedState,m===null)return jt(r),null;if(f=(r.flags&128)!==0,y=m.rendering,y===null)if(f)yu(m,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Mf(t),y!==null){for(r.flags|=128,yu(m,!1),t=y.updateQueue,r.updateQueue=t,Df(r,t),r.subtreeFlags=0,t=l,l=r.child;l!==null;)ru(l,t),l=l.sibling;return ie(nn,nn.current&1|2),r.child}t=t.sibling}m.tail!==null&&Te()>zf&&(r.flags|=128,f=!0,yu(m,!1),r.lanes=4194304)}else{if(!f)if(t=Mf(y),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Df(r,t),yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!We)return jt(r),null}else 2*Te()-m.renderingStartTime>zf&&l!==536870912&&(r.flags|=128,f=!0,yu(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(t=m.last,t!==null?t.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Te(),r.sibling=null,t=nn.current,ie(nn,f?t&1|2:t&1),r):(jt(r),null);case 22:case 23:return Wr(r),rp(),f=r.memoizedState!==null,t!==null?t.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),l=r.updateQueue,l!==null&&Df(r,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),t!==null&&K(Xo),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hi(tn),jt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WT(t,r){switch(xe(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hi(tn),Ee(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Le(r),null;case 13:if(Wr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Us()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return K(nn),null;case 4:return Ee(),null;case 10:return Hi(r.type),null;case 22:case 23:return Wr(r),rp(),t!==null&&K(Xo),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Hi(tn),null;case 25:return null;default:return null}}function xy(t,r){switch(xe(r),r.tag){case 3:Hi(tn),Ee();break;case 26:case 27:case 5:Le(r);break;case 4:Ee();break;case 13:Wr(r);break;case 19:K(nn);break;case 10:Hi(r.type);break;case 22:case 23:Wr(r),rp(),t!==null&&K(Xo);break;case 24:Hi(tn)}}function bu(t,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){f=void 0;var y=l.create,I=l.inst;f=y(),I.destroy=f}l=l.next}while(l!==m)}}catch(Z){St(r,r.return,Z)}}function Vs(t,r,l){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&t)===t){var I=f.inst,Z=I.destroy;if(Z!==void 0){I.destroy=void 0,m=r;var se=l,he=Z;try{he()}catch(_e){St(m,se,_e)}}}f=f.next}while(f!==y)}}catch(_e){St(r,r.return,_e)}}function Cy(t){var r=t.updateQueue;if(r!==null){var l=t.stateNode;try{dv(r,l)}catch(f){St(t,t.return,f)}}}function Oy(t,r,l){l.props=$o(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(f){St(t,r,f)}}function wu(t,r){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var f=t.stateNode;break;case 30:f=t.stateNode;break;default:f=t.stateNode}typeof l=="function"?t.refCleanup=l(f):l.current=f}}catch(m){St(t,r,m)}}function hr(t,r){var l=t.ref,f=t.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(m){St(t,r,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){St(t,r,m)}else l.current=null}function Ry(t){var r=t.type,l=t.memoizedProps,f=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(m){St(t,t.return,m)}}function Ip(t,r,l){try{var f=t.stateNode;fx(f,t.type,l,r),f[Rn]=r}catch(m){St(t,t.return,m)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pp(t,r,l){var f=t.tag;if(f===5||f===6)t=t.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(t),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Gf));else if(f!==4&&(f===27&&Js(t.type)&&(l=t.stateNode,r=null),t=t.child,t!==null))for(Pp(t,r,l),t=t.sibling;t!==null;)Pp(t,r,l),t=t.sibling}function Nf(t,r,l){var f=t.tag;if(f===5||f===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(f!==4&&(f===27&&Js(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Nf(t,r,l),t=t.sibling;t!==null;)Nf(t,r,l),t=t.sibling}function My(t){var r=t.stateNode,l=t.memoizedProps;try{for(var f=t.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);En(r,f,l),r[ln]=t,r[Rn]=l}catch(y){St(t,t.return,y)}}var Gr=!1,Gt=!1,Dp=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,hn=null;function VT(t,r){if(t=t.containerInfo,sm=eh,t=jo(t),Bo(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,Z=-1,se=-1,he=0,_e=0,ye=t,de=null;t:for(;;){for(var pe;ye!==l||m!==0&&ye.nodeType!==3||(Z=I+m),ye!==y||f!==0&&ye.nodeType!==3||(se=I+f),ye.nodeType===3&&(I+=ye.nodeValue.length),(pe=ye.firstChild)!==null;)de=ye,ye=pe;for(;;){if(ye===t)break t;if(de===l&&++he===m&&(Z=I),de===y&&++_e===f&&(se=I),(pe=ye.nextSibling)!==null)break;ye=de,de=ye.parentNode}ye=pe}l=Z===-1||se===-1?null:{start:Z,end:se}}else l=null}l=l||{start:0,end:0}}else l=null;for(om={focusedElem:t,selectionRange:l},eh=!1,hn=r;hn!==null;)if(r=hn,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,hn=t;else for(;hn!==null;){switch(r=hn,y=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,l=r,m=y.memoizedProps,y=y.memoizedState,f=l.stateNode;try{var qe=$o(l.type,m,l.elementType===l.type);t=f.getSnapshotBeforeUpdate(qe,y),f.__reactInternalSnapshotBeforeUpdate=t}catch(ze){St(l,l.return,ze)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,l=t.nodeType,l===9)um(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,hn=t;break}hn=r.return}}function Iy(t,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Zs(t,l),f&4&&bu(5,l);break;case 1:if(Zs(t,l),f&4)if(t=l.stateNode,r===null)try{t.componentDidMount()}catch(I){St(l,l.return,I)}else{var m=$o(l.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(m,r,t.__reactInternalSnapshotBeforeUpdate)}catch(I){St(l,l.return,I)}}f&64&&Cy(l),f&512&&wu(l,l.return);break;case 3:if(Zs(t,l),f&64&&(t=l.updateQueue,t!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{dv(t,r)}catch(I){St(l,l.return,I)}}break;case 27:r===null&&f&4&&My(l);case 26:case 5:Zs(t,l),r===null&&f&4&&Ry(l),f&512&&wu(l,l.return);break;case 12:Zs(t,l);break;case 13:Zs(t,l),f&4&&Dy(t,l),f&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=ex.bind(null,l),vx(t,l))));break;case 22:if(f=l.memoizedState!==null||Gr,!f){r=r!==null&&r.memoizedState!==null||Gt,m=Gr;var y=Gt;Gr=f,(Gt=r)&&!y?Gs(t,l,(l.subtreeFlags&8772)!==0):Zs(t,l),Gr=m,Gt=y}break;case 30:break;default:Zs(t,l)}}function ky(t){var r=t.alternate;r!==null&&(t.alternate=null,ky(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ea(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,Yn=!1;function Yr(t,r,l){for(l=l.child;l!==null;)Py(t,r,l),l=l.sibling}function Py(t,r,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Kt,l)}catch{}switch(l.tag){case 26:Gt||hr(l,r),Yr(t,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||hr(l,r);var f=kt,m=Yn;Js(l.type)&&(kt=l.stateNode,Yn=!1),Yr(t,r,l),Mu(l.stateNode),kt=f,Yn=m;break;case 5:Gt||hr(l,r);case 6:if(f=kt,m=Yn,kt=null,Yr(t,r,l),kt=f,Yn=m,kt!==null)if(Yn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(y){St(l,r,y)}else try{kt.removeChild(l.stateNode)}catch(y){St(l,r,y)}break;case 18:kt!==null&&(Yn?(t=kt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),zu(t)):S0(kt,l.stateNode));break;case 4:f=kt,m=Yn,kt=l.stateNode.containerInfo,Yn=!0,Yr(t,r,l),kt=f,Yn=m;break;case 0:case 11:case 14:case 15:Gt||Vs(2,l,r),Gt||Vs(4,l,r),Yr(t,r,l);break;case 1:Gt||(hr(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Oy(l,r,f)),Yr(t,r,l);break;case 21:Yr(t,r,l);break;case 22:Gt=(f=Gt)||l.memoizedState!==null,Yr(t,r,l),Gt=f;break;default:Yr(t,r,l)}}function Dy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zu(t)}catch(l){St(r,r.return,l)}}function ZT(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ly),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ly),r;default:throw Error(s(435,t.tag))}}function Np(t,r){var l=ZT(t);r.forEach(function(f){var m=tx.bind(null,t,f);l.has(f)||(l.add(f),f.then(m,m))})}function li(t,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var m=l[f],y=t,I=r,Z=I;e:for(;Z!==null;){switch(Z.tag){case 27:if(Js(Z.type)){kt=Z.stateNode,Yn=!1;break e}break;case 5:kt=Z.stateNode,Yn=!1;break e;case 3:case 4:kt=Z.stateNode.containerInfo,Yn=!0;break e}Z=Z.return}if(kt===null)throw Error(s(160));Py(y,I,m),kt=null,Yn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ny(r,t),r=r.sibling}var Fi=null;function Ny(t,r){var l=t.alternate,f=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:li(r,t),ui(t),f&4&&(Vs(3,t,t.return),bu(3,t),Vs(5,t,t.return));break;case 1:li(r,t),ui(t),f&512&&(Gt||l===null||hr(l,l.return)),f&64&&Gr&&(t=t.updateQueue,t!==null&&(f=t.callbacks,f!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var m=Fi;if(li(r,t),ui(t),f&512&&(Gt||l===null||hr(l,l.return)),f&4){var y=l!==null?l.memoizedState:null;if(f=t.memoizedState,l===null)if(f===null)if(t.stateNode===null){e:{f=t.type,l=t.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[gs]||y[ln]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),En(y,f,l),y[ln]=t,Qt(y),f=y;break e;case"link":var I=M0("link","href",m).get(f+(l.href||""));if(I){for(var Z=0;Z<I.length;Z++)if(y=I[Z],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(Z,1);break t}}y=m.createElement(f),En(y,f,l),m.head.appendChild(y);break;case"meta":if(I=M0("meta","content",m).get(f+(l.content||""))){for(Z=0;Z<I.length;Z++)if(y=I[Z],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(Z,1);break t}}y=m.createElement(f),En(y,f,l),m.head.appendChild(y);break;default:throw Error(s(468,f))}y[ln]=t,Qt(y),f=y}t.stateNode=f}else L0(m,t.type,t.stateNode);else t.stateNode=A0(m,f,t.memoizedProps);else y!==f?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,f===null?L0(m,t.type,t.stateNode):A0(m,f,t.memoizedProps)):f===null&&t.stateNode!==null&&Ip(t,t.memoizedProps,l.memoizedProps)}break;case 27:li(r,t),ui(t),f&512&&(Gt||l===null||hr(l,l.return)),l!==null&&f&4&&Ip(t,t.memoizedProps,l.memoizedProps);break;case 5:if(li(r,t),ui(t),f&512&&(Gt||l===null||hr(l,l.return)),t.flags&32){m=t.stateNode;try{vi(m,"")}catch(pe){St(t,t.return,pe)}}f&4&&t.stateNode!=null&&(m=t.memoizedProps,Ip(t,m,l!==null?l.memoizedProps:m)),f&1024&&(Dp=!0);break;case 6:if(li(r,t),ui(t),f&4){if(t.stateNode===null)throw Error(s(162));f=t.memoizedProps,l=t.stateNode;try{l.nodeValue=f}catch(pe){St(t,t.return,pe)}}break;case 3:if(Qf=null,m=Fi,Fi=Kf(r.containerInfo),li(r,t),Fi=m,ui(t),f&4&&l!==null&&l.memoizedState.isDehydrated)try{zu(r.containerInfo)}catch(pe){St(t,t.return,pe)}Dp&&(Dp=!1,Uy(t));break;case 4:f=Fi,Fi=Kf(t.stateNode.containerInfo),li(r,t),ui(t),Fi=f;break;case 12:li(r,t),ui(t);break;case 13:li(r,t),ui(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fp=Te()),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,Np(t,f)));break;case 22:m=t.memoizedState!==null;var se=l!==null&&l.memoizedState!==null,he=Gr,_e=Gt;if(Gr=he||m,Gt=_e||se,li(r,t),Gt=_e,Gr=he,ui(t),f&8192)e:for(r=t.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||se||Gr||Gt||Jo(t)),l=null,r=t;;){if(r.tag===5||r.tag===26){if(l===null){se=l=r;try{if(y=se.stateNode,m)I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{Z=se.stateNode;var ye=se.memoizedProps.style,de=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;Z.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(pe){St(se,se.return,pe)}}}else if(r.tag===6){if(l===null){se=r;try{se.stateNode.nodeValue=m?"":se.memoizedProps}catch(pe){St(se,se.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=t.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Np(t,l))));break;case 19:li(r,t),ui(t),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,Np(t,f)));break;case 30:break;case 21:break;default:li(r,t),ui(t)}}function ui(t){var r=t.flags;if(r&2){try{for(var l,f=t.return;f!==null;){if(Ay(f)){l=f;break}f=f.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,y=kp(t);Nf(t,y,m);break;case 5:var I=l.stateNode;l.flags&32&&(vi(I,""),l.flags&=-33);var Z=kp(t);Nf(t,Z,I);break;case 3:case 4:var se=l.stateNode.containerInfo,he=kp(t);Pp(t,he,se);break;default:throw Error(s(161))}}catch(_e){St(t,t.return,_e)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Uy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Zs(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iy(t,r.alternate,r),r=r.sibling}function Jo(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Vs(4,r,r.return),Jo(r);break;case 1:hr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Oy(r,r.return,l),Jo(r);break;case 27:Mu(r.stateNode);case 26:case 5:hr(r,r.return),Jo(r);break;case 22:r.memoizedState===null&&Jo(r);break;case 30:Jo(r);break;default:Jo(r)}t=t.sibling}}function Gs(t,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,m=t,y=r,I=y.flags;switch(y.tag){case 0:case 11:case 15:Gs(m,y,l),bu(4,y);break;case 1:if(Gs(m,y,l),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(he){St(f,f.return,he)}if(f=y,m=f.updateQueue,m!==null){var Z=f.stateNode;try{var se=m.shared.hiddenCallbacks;if(se!==null)for(m.shared.hiddenCallbacks=null,m=0;m<se.length;m++)hv(se[m],Z)}catch(he){St(f,f.return,he)}}l&&I&64&&Cy(y),wu(y,y.return);break;case 27:My(y);case 26:case 5:Gs(m,y,l),l&&f===null&&I&4&&Ry(y),wu(y,y.return);break;case 12:Gs(m,y,l);break;case 13:Gs(m,y,l),l&&I&4&&Dy(m,y);break;case 22:y.memoizedState===null&&Gs(m,y,l),wu(y,y.return);break;case 30:break;default:Gs(m,y,l)}r=r.sibling}}function Up(t,r){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&ou(l))}function zp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ou(t))}function dr(t,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zy(t,r,l,f),r=r.sibling}function zy(t,r,l,f){var m=r.flags;switch(r.tag){case 0:case 11:case 15:dr(t,r,l,f),m&2048&&bu(9,r);break;case 1:dr(t,r,l,f);break;case 3:dr(t,r,l,f),m&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ou(t)));break;case 12:if(m&2048){dr(t,r,l,f),t=r.stateNode;try{var y=r.memoizedProps,I=y.id,Z=y.onPostCommit;typeof Z=="function"&&Z(I,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(se){St(r,r.return,se)}}else dr(t,r,l,f);break;case 13:dr(t,r,l,f);break;case 23:break;case 22:y=r.stateNode,I=r.alternate,r.memoizedState!==null?y._visibility&2?dr(t,r,l,f):Su(t,r):y._visibility&2?dr(t,r,l,f):(y._visibility|=2,Qa(t,r,l,f,(r.subtreeFlags&10256)!==0)),m&2048&&Up(I,r);break;case 24:dr(t,r,l,f),m&2048&&zp(r.alternate,r);break;default:dr(t,r,l,f)}}function Qa(t,r,l,f,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=t,I=r,Z=l,se=f,he=I.flags;switch(I.tag){case 0:case 11:case 15:Qa(y,I,Z,se,m),bu(8,I);break;case 23:break;case 22:var _e=I.stateNode;I.memoizedState!==null?_e._visibility&2?Qa(y,I,Z,se,m):Su(y,I):(_e._visibility|=2,Qa(y,I,Z,se,m)),m&&he&2048&&Up(I.alternate,I);break;case 24:Qa(y,I,Z,se,m),m&&he&2048&&zp(I.alternate,I);break;default:Qa(y,I,Z,se,m)}r=r.sibling}}function Su(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=t,f=r,m=f.flags;switch(f.tag){case 22:Su(l,f),m&2048&&Up(f.alternate,f);break;case 24:Su(l,f),m&2048&&zp(f.alternate,f);break;default:Su(l,f)}r=r.sibling}}var Eu=8192;function $a(t){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 26:$a(t),t.flags&Eu&&t.memoizedState!==null&&Lx(Fi,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var r=Fi;Fi=Kf(t.stateNode.containerInfo),$a(t),Fi=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Eu,Eu=16777216,$a(t),Eu=r):$a(t));break;default:$a(t)}}function By(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];hn=f,Fy(f,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Uf(t)):Tu(t);break;default:Tu(t)}}function Uf(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];hn=f,Fy(f,t)}By(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Vs(8,r,r.return),Uf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Uf(r));break;default:Uf(r)}t=t.sibling}}function Fy(t,r){for(;hn!==null;){var l=hn;switch(l.tag){case 0:case 11:case 15:Vs(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ou(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,hn=f;else e:for(l=t;hn!==null;){f=hn;var m=f.sibling,y=f.return;if(ky(f),f===l){hn=null;break e}if(m!==null){m.return=y,hn=m;break e}hn=y}}}var GT={getCacheForType:function(t){var r=Ln(tn),l=r.data.get(t);return l===void 0&&(l=t(),r.data.set(t,l)),l}},YT=typeof WeakMap=="function"?WeakMap:Map,mt=0,Ot=null,nt=null,lt=0,gt=0,ci=null,Ys=!1,Ja=!1,jp=!1,Kr=0,Ht=0,Ks=0,ea=0,Bp=0,Ci=0,el=0,xu=null,Kn=null,Hp=!1,Fp=0,zf=1/0,jf=null,Xs=null,Sn=0,Qs=null,tl=null,nl=0,qp=0,Wp=null,qy=null,Cu=0,Vp=null;function fi(){if((mt&2)!==0&&lt!==0)return lt&-lt;if(O.T!==null){var t=qa;return t!==0?t:$p()}return gi()}function Wy(){Ci===0&&(Ci=(lt&536870912)===0||We?Oo():536870912);var t=xi.current;return t!==null&&(t.flags|=32),Ci}function hi(t,r,l){(t===Ot&&(gt===2||gt===9)||t.cancelPendingCommit!==null)&&(il(t,0),$s(t,lt,Ci,!1)),_n(t,l),((mt&2)===0||t!==Ot)&&(t===Ot&&((mt&2)===0&&(ea|=l),Ht===4&&$s(t,lt,Ci,!1)),pr(t))}function Vy(t,r,l){if((mt&6)!==0)throw Error(s(327));var f=!l&&(r&124)===0&&(r&t.expiredLanes)===0||Jn(t,r),m=f?QT(t,r):Yp(t,r,!0),y=f;do{if(m===0){Ja&&!f&&$s(t,r,0,!1);break}else{if(l=t.current.alternate,y&&!KT(l)){m=Yp(t,r,!1),y=!1;continue}if(m===2){if(y=r,t.errorRecoveryDisabledLanes&y)var I=0;else I=t.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){r=I;e:{var Z=t;m=xu;var se=Z.current.memoizedState.isDehydrated;if(se&&(il(Z,I).flags|=256),I=Yp(Z,I,!1),I!==2){if(jp&&!se){Z.errorRecoveryDisabledLanes|=y,ea|=y,m=4;break e}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=I}if(y=!1,m!==2)continue}}if(m===1){il(t,0),$s(t,r,0,!0);break}e:{switch(f=t,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$s(f,r,Ci,!Ys);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Fp+300-Te(),10<m)){if($s(f,r,Ci,!Ys),er(f,0,!0)!==0)break e;f.timeoutHandle=b0(Zy.bind(null,f,l,Kn,jf,Hp,r,Ci,ea,el,Ys,y,2,-0,0),m);break e}Zy(f,l,Kn,jf,Hp,r,Ci,ea,el,Ys,y,0,-0,0)}}break}while(!0);pr(t)}function Zy(t,r,l,f,m,y,I,Z,se,he,_e,ye,de,pe){if(t.timeoutHandle=-1,ye=r.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:Mx},jy(r),ye=Ix(),ye!==null)){t.cancelPendingCommit=ye(Jy.bind(null,t,r,y,l,f,m,I,Z,se,_e,1,de,pe)),$s(t,y,I,!he);return}Jy(t,r,y,l,f,m,I,Z,se)}function KT(t){for(var r=t;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var m=l[f],y=m.getSnapshot;m=m.value;try{if(!Dn(y(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $s(t,r,l,f){r&=~Bp,r&=~ea,t.suspendedLanes|=r,t.pingedLanes&=~r,f&&(t.warmLanes|=r),f=t.expirationTimes;for(var m=r;0<m;){var y=31-Nt(m),I=1<<y;f[y]=-1,m&=~I}l!==0&&Di(t,l,r)}function Bf(){return(mt&6)===0?(Ou(0),!1):!0}function Zp(){if(nt!==null){if(gt===0)var t=nt.return;else t=nt,Bi=Ti=null,up(t),Ka=null,_u=0,t=nt;for(;t!==null;)xy(t.alternate,t),t=t.return;nt=null}}function il(t,r){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,dx(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Zp(),Ot=t,nt=l=Ei(t.current,null),lt=r,gt=0,ci=null,Ys=!1,Ja=Jn(t,r),jp=!1,el=Ci=Bp=ea=Ks=Ht=0,Kn=xu=null,Hp=!1,(r&8)!==0&&(r|=r&32);var f=t.entangledLanes;if(f!==0)for(t=t.entanglements,f&=r;0<f;){var m=31-Nt(f),y=1<<m;r|=t[m],f&=~y}return Kr=r,Fo(),l}function Gy(t,r){$e=null,O.H=Of,r===lu||r===_f?(r=cv(),gt=3):r===av?(r=cv(),gt=4):gt=r===fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ci=r,nt===null&&(Ht=1,If(t,Un(r,t.current)))}function Yy(){var t=O.H;return O.H=Of,t===null?Of:t}function Ky(){var t=O.A;return O.A=GT,t}function Gp(){Ht=4,Ys||(lt&4194048)!==lt&&xi.current!==null||(Ja=!0),(Ks&134217727)===0&&(ea&134217727)===0||Ot===null||$s(Ot,lt,Ci,!1)}function Yp(t,r,l){var f=mt;mt|=2;var m=Yy(),y=Ky();(Ot!==t||lt!==r)&&(jf=null,il(t,r)),r=!1;var I=Ht;e:do try{if(gt!==0&&nt!==null){var Z=nt,se=ci;switch(gt){case 8:Zp(),I=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(r=!0);var he=gt;if(gt=0,ci=null,rl(t,Z,se,he),l&&Ja){I=0;break e}break;default:he=gt,gt=0,ci=null,rl(t,Z,se,he)}}XT(),I=Ht;break}catch(_e){Gy(t,_e)}while(!0);return r&&t.shellSuspendCounter++,Bi=Ti=null,mt=f,O.H=m,O.A=y,nt===null&&(Ot=null,lt=0,Fo()),I}function XT(){for(;nt!==null;)Xy(nt)}function QT(t,r){var l=mt;mt|=2;var f=Yy(),m=Ky();Ot!==t||lt!==r?(jf=null,zf=Te()+500,il(t,r)):Ja=Jn(t,r);e:do try{if(gt!==0&&nt!==null){r=nt;var y=ci;t:switch(gt){case 1:gt=0,ci=null,rl(t,r,y,1);break;case 2:case 9:if(lv(y)){gt=0,ci=null,Qy(r);break}r=function(){gt!==2&&gt!==9||Ot!==t||(gt=7),pr(t)},y.then(r,r);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:lv(y)?(gt=0,ci=null,Qy(r)):(gt=0,ci=null,rl(t,r,y,7));break;case 5:var I=null;switch(nt.tag){case 26:I=nt.memoizedState;case 5:case 27:var Z=nt;if(!I||I0(I)){gt=0,ci=null;var se=Z.sibling;if(se!==null)nt=se;else{var he=Z.return;he!==null?(nt=he,Hf(he)):nt=null}break t}}gt=0,ci=null,rl(t,r,y,5);break;case 6:gt=0,ci=null,rl(t,r,y,6);break;case 8:Zp(),Ht=6;break e;default:throw Error(s(462))}}$T();break}catch(_e){Gy(t,_e)}while(!0);return Bi=Ti=null,O.H=f,O.A=m,mt=l,nt!==null?0:(Ot=null,lt=0,Fo(),Ht)}function $T(){for(;nt!==null&&!ke();)Xy(nt)}function Xy(t){var r=Ey(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,r===null?Hf(t):nt=r}function Qy(t){var r=t,l=r.alternate;switch(r.tag){case 15:case 0:r=_y(l,r,r.pendingProps,r.type,void 0,lt);break;case 11:r=_y(l,r,r.pendingProps,r.type.render,r.ref,lt);break;case 5:up(r);default:xy(l,r),r=nt=ru(r,Kr),r=Ey(l,r,Kr)}t.memoizedProps=t.pendingProps,r===null?Hf(t):nt=r}function rl(t,r,l,f){Bi=Ti=null,up(r),Ka=null,_u=0;var m=r.return;try{if(HT(t,m,r,l,lt)){Ht=1,If(t,Un(l,t.current)),nt=null;return}}catch(y){if(m!==null)throw nt=m,y;Ht=1,If(t,Un(l,t.current)),nt=null;return}r.flags&32768?(We||f===1?t=!0:Ja||(lt&536870912)!==0?t=!1:(Ys=t=!0,(f===2||f===9||f===3||f===6)&&(f=xi.current,f!==null&&f.tag===13&&(f.flags|=16384))),$y(r,t)):Hf(r)}function Hf(t){var r=t;do{if((r.flags&32768)!==0){$y(r,Ys);return}t=r.return;var l=qT(r.alternate,r,Kr);if(l!==null){nt=l;return}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);Ht===0&&(Ht=5)}function $y(t,r){do{var l=WT(t.alternate,t);if(l!==null){l.flags&=32767,nt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(t=t.sibling,t!==null)){nt=t;return}nt=t=l}while(t!==null);Ht=6,nt=null}function Jy(t,r,l,f,m,y,I,Z,se){t.cancelPendingCommit=null;do Ff();while(Sn!==0);if((mt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=ai,mi(t,l,y,I,Z,se),t===Ot&&(nt=Ot=null,lt=0),tl=r,Qs=t,nl=l,qp=y,Wp=m,qy=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nx(Ze,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=O.T,O.T=null,m=_.p,_.p=2,I=mt,mt|=4;try{VT(t,r,l)}finally{mt=I,_.p=m,O.T=f}}Sn=1,e0(),t0(),n0()}}function e0(){if(Sn===1){Sn=0;var t=Qs,r=tl,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var f=_.p;_.p=2;var m=mt;mt|=4;try{Ny(r,t);var y=om,I=jo(t.containerInfo),Z=y.focusedElem,se=y.selectionRange;if(I!==Z&&Z&&Z.ownerDocument&&Da(Z.ownerDocument.documentElement,Z)){if(se!==null&&Bo(Z)){var he=se.start,_e=se.end;if(_e===void 0&&(_e=he),"selectionStart"in Z)Z.selectionStart=he,Z.selectionEnd=Math.min(_e,Z.value.length);else{var ye=Z.ownerDocument||document,de=ye&&ye.defaultView||window;if(de.getSelection){var pe=de.getSelection(),qe=Z.textContent.length,ze=Math.min(se.start,qe),yt=se.end===void 0?ze:Math.min(se.end,qe);!pe.extend&&ze>yt&&(I=yt,yt=ze,ze=I);var ue=nu(Z,ze),le=nu(Z,yt);if(ue&&le&&(pe.rangeCount!==1||pe.anchorNode!==ue.node||pe.anchorOffset!==ue.offset||pe.focusNode!==le.node||pe.focusOffset!==le.offset)){var fe=ye.createRange();fe.setStart(ue.node,ue.offset),pe.removeAllRanges(),ze>yt?(pe.addRange(fe),pe.extend(le.node,le.offset)):(fe.setEnd(le.node,le.offset),pe.addRange(fe))}}}}for(ye=[],pe=Z;pe=pe.parentNode;)pe.nodeType===1&&ye.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<ye.length;Z++){var ve=ye[Z];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}eh=!!sm,om=sm=null}finally{mt=m,_.p=f,O.T=l}}t.current=r,Sn=2}}function t0(){if(Sn===2){Sn=0;var t=Qs,r=tl,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var f=_.p;_.p=2;var m=mt;mt|=4;try{Iy(t,r.alternate,r)}finally{mt=m,_.p=f,O.T=l}}Sn=3}}function n0(){if(Sn===4||Sn===3){Sn=0,Ye();var t=Qs,r=tl,l=nl,f=qy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Sn=5:(Sn=0,tl=Qs=null,i0(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Xs=null),ei(l),r=r.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Kt,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=O.T,m=_.p,_.p=2,O.T=null;try{for(var y=t.onRecoverableError,I=0;I<f.length;I++){var Z=f[I];y(Z.value,{componentStack:Z.stack})}}finally{O.T=r,_.p=m}}(nl&3)!==0&&Ff(),pr(t),m=t.pendingLanes,(l&4194090)!==0&&(m&42)!==0?t===Vp?Cu++:(Cu=0,Vp=t):Cu=0,Ou(0)}}function i0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ou(r)))}function Ff(t){return e0(),t0(),n0(),r0()}function r0(){if(Sn!==5)return!1;var t=Qs,r=qp;qp=0;var l=ei(nl),f=O.T,m=_.p;try{_.p=32>l?32:l,O.T=null,l=Wp,Wp=null;var y=Qs,I=nl;if(Sn=0,tl=Qs=null,nl=0,(mt&6)!==0)throw Error(s(331));var Z=mt;if(mt|=4,Hy(y.current),zy(y,y.current,I,l),mt=Z,Ou(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Kt,y)}catch{}return!0}finally{_.p=m,O.T=f,i0(t,r)}}function s0(t,r,l){r=Un(l,r),r=Ep(t.stateNode,r,2),t=Hs(t,r,2),t!==null&&(_n(t,2),pr(t))}function St(t,r,l){if(t.tag===3)s0(t,t,l);else for(;r!==null;){if(r.tag===3){s0(r,t,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))){t=Un(l,t),l=uy(2),f=Hs(r,l,2),f!==null&&(cy(l,f,r,t),_n(f,2),pr(f));break}}r=r.return}}function Kp(t,r,l){var f=t.pingCache;if(f===null){f=t.pingCache=new YT;var m=new Set;f.set(r,m)}else m=f.get(r),m===void 0&&(m=new Set,f.set(r,m));m.has(l)||(jp=!0,m.add(l),t=JT.bind(null,t,r,l),r.then(t,t))}function JT(t,r,l){var f=t.pingCache;f!==null&&f.delete(r),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ot===t&&(lt&l)===l&&(Ht===4||Ht===3&&(lt&62914560)===lt&&300>Te()-Fp?(mt&2)===0&&il(t,0):Bp|=l,el===lt&&(el=0)),pr(t)}function o0(t,r){r===0&&(r=Pi()),t=Ds(t,r),t!==null&&(_n(t,r),pr(t))}function ex(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),o0(t,l)}function tx(t,r){var l=0;switch(t.tag){case 13:var f=t.stateNode,m=t.memoizedState;m!==null&&(l=m.retryLane);break;case 19:f=t.stateNode;break;case 22:f=t.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(r),o0(t,l)}function nx(t,r){return Fe(t,r)}var qf=null,sl=null,Xp=!1,Wf=!1,Qp=!1,ta=0;function pr(t){t!==sl&&t.next===null&&(sl===null?qf=sl=t:sl=sl.next=t),Wf=!0,Xp||(Xp=!0,rx())}function Ou(t,r){if(!Qp&&Wf){Qp=!0;do for(var l=!1,f=qf;f!==null;){if(t!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var I=f.suspendedLanes,Z=f.pingedLanes;y=(1<<31-Nt(42|t)+1)-1,y&=m&~(I&~Z),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,c0(f,y))}else y=lt,y=er(f,f===Ot?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Jn(f,y)||(l=!0,c0(f,y));f=f.next}while(l);Qp=!1}}function ix(){a0()}function a0(){Wf=Xp=!1;var t=0;ta!==0&&(hx()&&(t=ta),ta=0);for(var r=Te(),l=null,f=qf;f!==null;){var m=f.next,y=l0(f,r);y===0?(f.next=null,l===null?qf=m:l.next=m,m===null&&(sl=l)):(l=f,(t!==0||(y&3)!==0)&&(Wf=!0)),f=m}Ou(t)}function l0(t,r){for(var l=t.suspendedLanes,f=t.pingedLanes,m=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var I=31-Nt(y),Z=1<<I,se=m[I];se===-1?((Z&l)===0||(Z&f)!==0)&&(m[I]=Co(Z,r)):se<=r&&(t.expiredLanes|=Z),y&=~Z}if(r=Ot,l=lt,l=er(t,t===r?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f=t.callbackNode,l===0||t===r&&(gt===2||gt===9)||t.cancelPendingCommit!==null)return f!==null&&f!==null&&Ne(f),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Jn(t,l)){if(r=l&-l,r===t.callbackPriority)return r;switch(f!==null&&Ne(f),ei(l)){case 2:case 8:l=Qe;break;case 32:l=Ze;break;case 268435456:l=dt;break;default:l=Ze}return f=u0.bind(null,t),l=Fe(l,f),t.callbackPriority=r,t.callbackNode=l,r}return f!==null&&f!==null&&Ne(f),t.callbackPriority=2,t.callbackNode=null,2}function u0(t,r){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Ff()&&t.callbackNode!==l)return null;var f=lt;return f=er(t,t===Ot?f:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f===0?null:(Vy(t,f,r),l0(t,Te()),t.callbackNode!=null&&t.callbackNode===l?u0.bind(null,t):null)}function c0(t,r){if(Ff())return null;Vy(t,r,!0)}function rx(){px(function(){(mt&6)!==0?Fe(Ke,ix):a0()})}function $p(){return ta===0&&(ta=Oo()),ta}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ss(""+t)}function h0(t,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,t.id&&l.setAttribute("form",t.id),r.parentNode.insertBefore(l,r),t=new FormData(t),l.parentNode.removeChild(l),t}function sx(t,r,l,f,m){if(r==="submit"&&l&&l.stateNode===m){var y=f0((m[Rn]||null).action),I=f.submitter;I&&(r=(r=I[Rn]||null)?f0(r.formAction):I.getAttribute("formAction"),r!==null&&(y=r,I=null));var Z=new Po("action","action",null,f,m);t.push({event:Z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ta!==0){var se=I?h0(m,I):new FormData(m);vp(l,{pending:!0,data:se,method:m.method,action:y},null,se)}}else typeof y=="function"&&(Z.preventDefault(),se=I?h0(m,I):new FormData(m),vp(l,{pending:!0,data:se,method:m.method,action:y},y,se))},currentTarget:m}]})}}for(var Jp=0;Jp<zr.length;Jp++){var em=zr[Jp],ox=em.toLowerCase(),ax=em[0].toUpperCase()+em.slice(1);oi(ox,"on"+ax)}oi(lf,"onAnimationEnd"),oi(si,"onAnimationIteration"),oi(Ho,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Gd,"onTransitionRun"),oi(ja,"onTransitionStart"),oi(Yd,"onTransitionCancel"),oi(iu,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function d0(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var f=t[l],m=f.event;f=f.listeners;e:{var y=void 0;if(r)for(var I=f.length-1;0<=I;I--){var Z=f[I],se=Z.instance,he=Z.currentTarget;if(Z=Z.listener,se!==y&&m.isPropagationStopped())break e;y=Z,m.currentTarget=he;try{y(m)}catch(_e){Lf(_e)}m.currentTarget=null,y=se}else for(I=0;I<f.length;I++){if(Z=f[I],se=Z.instance,he=Z.currentTarget,Z=Z.listener,se!==y&&m.isPropagationStopped())break e;y=Z,m.currentTarget=he;try{y(m)}catch(_e){Lf(_e)}m.currentTarget=null,y=se}}}}function it(t,r){var l=r[Wn];l===void 0&&(l=r[Wn]=new Set);var f=t+"__bubble";l.has(f)||(p0(r,t,2,!1),l.add(f))}function tm(t,r,l){var f=0;r&&(f|=4),p0(l,t,f,r)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Vf]){t[Vf]=!0,Hc.forEach(function(l){l!=="selectionchange"&&(lx.has(l)||tm(l,!1,t),tm(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Vf]||(r[Vf]=!0,tm("selectionchange",!1,r))}}function p0(t,r,l,f){switch(z0(r)){case 2:var m=Dx;break;case 8:m=Nx;break;default:m=gm}l=m.bind(null,r,l,t),m=void 0,!ko||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),f?m!==void 0?t.addEventListener(r,l,{capture:!0,passive:m}):t.addEventListener(r,l,!0):m!==void 0?t.addEventListener(r,l,{passive:m}):t.addEventListener(r,l,!1)}function im(t,r,l,f,m){var y=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var Z=f.stateNode.containerInfo;if(Z===m)break;if(I===4)for(I=f.return;I!==null;){var se=I.tag;if((se===3||se===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;Z!==null;){if(I=ir(Z),I===null)return;if(se=I.tag,se===5||se===6||se===26||se===27){f=y=I;continue e}Z=Z.parentNode}}f=f.return}ti(function(){var he=y,_e=Es(l),ye=[];e:{var de=uf.get(t);if(de!==void 0){var pe=Po,qe=t;switch(t){case"keypress":if(Bt(l)===0)break e;case"keydown":case"keyup":pe=jd;break;case"focusin":qe="focus",pe=Gl;break;case"focusout":qe="blur",pe=Gl;break;case"beforeblur":case"afterblur":pe=Gl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Hd;break;case lf:case si:case Ho:pe=Dd;break;case iu:pe=Fd;break;case"scroll":case"scrollend":pe=kd;break;case"wheel":pe=$c;break;case"copy":case"cut":case"paste":pe=Yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Xl;break;case"toggle":case"beforetoggle":pe=Pr}var ze=(r&4)!==0,yt=!ze&&(t==="scroll"||t==="scrollend"),ue=ze?de!==null?de+"Capture":null:de;ze=[];for(var le=he,fe;le!==null;){var ve=le;if(fe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||fe===null||ue===null||(ve=ct(le,ue),ve!=null&&ze.push(Au(le,ve,fe))),yt)break;le=le.return}0<ze.length&&(de=new pe(de,qe,null,l,_e),ye.push({event:de,listeners:ze}))}}if((r&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",de&&l!==Io&&(qe=l.relatedTarget||l.fromElement)&&(ir(qe)||qe[ms]))break e;if((pe||de)&&(de=_e.window===_e?_e:(de=_e.ownerDocument)?de.defaultView||de.parentWindow:window,pe?(qe=l.relatedTarget||l.toElement,pe=he,qe=qe?ir(qe):null,qe!==null&&(yt=u(qe),ze=qe.tag,qe!==yt||ze!==5&&ze!==27&&ze!==6)&&(qe=null)):(pe=null,qe=he),pe!==qe)){if(ze=Cs,ve="onMouseLeave",ue="onMouseEnter",le="mouse",(t==="pointerout"||t==="pointerover")&&(ze=Xl,ve="onPointerLeave",ue="onPointerEnter",le="pointer"),yt=pe==null?de:_i(pe),fe=qe==null?de:_i(qe),de=new ze(ve,le+"leave",pe,l,_e),de.target=yt,de.relatedTarget=fe,ve=null,ir(_e)===he&&(ze=new ze(ue,le+"enter",qe,l,_e),ze.target=fe,ze.relatedTarget=yt,ve=ze),yt=ve,pe&&qe)t:{for(ze=pe,ue=qe,le=0,fe=ze;fe;fe=ol(fe))le++;for(fe=0,ve=ue;ve;ve=ol(ve))fe++;for(;0<le-fe;)ze=ol(ze),le--;for(;0<fe-le;)ue=ol(ue),fe--;for(;le--;){if(ze===ue||ue!==null&&ze===ue.alternate)break t;ze=ol(ze),ue=ol(ue)}ze=null}else ze=null;pe!==null&&m0(ye,de,pe,ze,!1),qe!==null&&yt!==null&&m0(ye,yt,qe,ze,!0)}}e:{if(de=he?_i(he):window,pe=de.nodeName&&de.nodeName.toLowerCase(),pe==="select"||pe==="input"&&de.type==="file")var Ae=As;else if(Nr(de))if(Jl)Ae=Zd;else{Ae=Vd;var et=tu}else pe=de.nodeName,!pe||pe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?he&&Lo(he.elementType)&&(Ae=As):Ae=ji;if(Ae&&(Ae=Ae(t,he))){rf(ye,Ae,l,_e);break e}et&&et(t,de,he),t==="focusout"&&he&&de.type==="number"&&he.memoizedProps.value!=null&&bs(de,"number",de.value)}switch(et=he?_i(he):window,t){case"focusin":(Nr(et)||et.contentEditable==="true")&&(ri=et,Is=he,Ur=null);break;case"focusout":Ur=Is=ri=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,of(ye,l,_e);break;case"selectionchange":if(Na)break;case"keydown":case"keyup":of(ye,l,_e)}var De;if(Dr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Os?ka(t,l)&&(je="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&($l&&l.locale!=="ko"&&(Os||je!=="onCompositionStart"?je==="onCompositionEnd"&&Os&&(De=xs()):(bi=_e,Ui="value"in bi?bi.value:bi.textContent,Os=!0)),et=Zf(he,je),0<et.length&&(je=new ni(je,t,null,l,_e),ye.push({event:je,listeners:et}),De?je.data=De:(De=tf(l),De!==null&&(je.data=De)))),(De=Jc?nf(t,l):Wd(t,l))&&(je=Zf(he,"onBeforeInput"),0<je.length&&(et=new ni("onBeforeInput","beforeinput",null,l,_e),ye.push({event:et,listeners:je}),et.data=De)),sx(ye,t,he,l,_e)}d0(ye,r)})}function Au(t,r,l){return{instance:t,listener:r,currentTarget:l}}function Zf(t,r){for(var l=r+"Capture",f=[];t!==null;){var m=t,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ct(t,l),m!=null&&f.unshift(Au(t,m,y)),m=ct(t,r),m!=null&&f.push(Au(t,m,y))),t.tag===3)return f;t=t.return}return[]}function ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m0(t,r,l,f,m){for(var y=r._reactName,I=[];l!==null&&l!==f;){var Z=l,se=Z.alternate,he=Z.stateNode;if(Z=Z.tag,se!==null&&se===f)break;Z!==5&&Z!==26&&Z!==27||he===null||(se=he,m?(he=ct(l,y),he!=null&&I.unshift(Au(l,he,se))):m||(he=ct(l,y),he!=null&&I.push(Au(l,he,se)))),l=l.return}I.length!==0&&t.push({event:r,listeners:I})}var ux=/\r\n?/g,cx=/\u0000|\uFFFD/g;function g0(t){return(typeof t=="string"?t:""+t).replace(ux,`
`).replace(cx,"")}function _0(t,r){return r=g0(r),g0(t)===r}function Gf(){}function vt(t,r,l,f,m,y){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||vi(t,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&vi(t,""+f);break;case"className":xa(t,"class",f);break;case"tabIndex":xa(t,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(t,l,f);break;case"style":ws(t,f,y);break;case"data":if(r!=="object"){xa(t,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){t.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(l);break}f=Ss(""+f),t.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&vt(t,r,"name",m.name,m,null),vt(t,r,"formEncType",m.formEncType,m,null),vt(t,r,"formMethod",m.formMethod,m,null),vt(t,r,"formTarget",m.formTarget,m,null)):(vt(t,r,"encType",m.encType,m,null),vt(t,r,"method",m.method,m,null),vt(t,r,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(l);break}f=Ss(""+f),t.setAttribute(l,f);break;case"onClick":f!=null&&(t.onclick=Gf);break;case"onScroll":f!=null&&it("scroll",t);break;case"onScrollEnd":f!=null&&it("scrollend",t);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":t.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){t.removeAttribute("xlink:href");break}l=Ss(""+f),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(l,""+f):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":f===!0?t.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(l,f):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?t.setAttribute(l,f):t.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?t.removeAttribute(l):t.setAttribute(l,f);break;case"popover":it("beforetoggle",t),it("toggle",t),Ta(t,"popover",f);break;case"xlinkActuate":Ni(t,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ni(t,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ni(t,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ni(t,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ni(t,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ni(t,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ni(t,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ni(t,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ni(t,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ta(t,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wl.get(l)||l,Ta(t,l,f))}}function rm(t,r,l,f,m,y){switch(l){case"style":ws(t,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof f=="string"?vi(t,f):(typeof f=="number"||typeof f=="bigint")&&vi(t,""+f);break;case"onScroll":f!=null&&it("scroll",t);break;case"onScrollEnd":f!=null&&it("scrollend",t);break;case"onClick":f!=null&&(t.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),y=t[Rn]||null,y=y!=null?y[l]:null,typeof y=="function"&&t.removeEventListener(r,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(r,f,m);break e}l in t?t[l]=f:f===!0?t.setAttribute(l,""):Ta(t,l,f)}}}function En(t,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",t),it("load",t);var f=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(t,r,y,I,l,null)}}m&&vt(t,r,"srcSet",l.srcSet,l,null),f&&vt(t,r,"src",l.src,l,null);return;case"input":it("invalid",t);var Z=y=I=m=null,se=null,he=null;for(f in l)if(l.hasOwnProperty(f)){var _e=l[f];if(_e!=null)switch(f){case"name":m=_e;break;case"type":I=_e;break;case"checked":se=_e;break;case"defaultChecked":he=_e;break;case"value":y=_e;break;case"defaultValue":Z=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,r));break;default:vt(t,r,f,_e,l,null)}}Wc(t,y,Z,se,he,I,m,!1),ys(t);return;case"select":it("invalid",t),f=I=y=null;for(m in l)if(l.hasOwnProperty(m)&&(Z=l[m],Z!=null))switch(m){case"value":y=Z;break;case"defaultValue":I=Z;break;case"multiple":f=Z;default:vt(t,r,m,Z,l,null)}r=y,l=I,t.multiple=!!f,r!=null?Vn(t,!!f,r,!1):l!=null&&Vn(t,!!f,l,!0);return;case"textarea":it("invalid",t),y=m=f=null;for(I in l)if(l.hasOwnProperty(I)&&(Z=l[I],Z!=null))switch(I){case"value":f=Z;break;case"defaultValue":m=Z;break;case"children":y=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(91));break;default:vt(t,r,I,Z,l,null)}rr(t,f,m,y),ys(t);return;case"option":for(se in l)if(l.hasOwnProperty(se)&&(f=l[se],f!=null))switch(se){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:vt(t,r,se,f,l,null)}return;case"dialog":it("beforetoggle",t),it("toggle",t),it("cancel",t),it("close",t);break;case"iframe":case"object":it("load",t);break;case"video":case"audio":for(f=0;f<Ru.length;f++)it(Ru[f],t);break;case"image":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"embed":case"source":case"link":it("error",t),it("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in l)if(l.hasOwnProperty(he)&&(f=l[he],f!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(t,r,he,f,l,null)}return;default:if(Lo(r)){for(_e in l)l.hasOwnProperty(_e)&&(f=l[_e],f!==void 0&&rm(t,r,_e,f,l,void 0));return}}for(Z in l)l.hasOwnProperty(Z)&&(f=l[Z],f!=null&&vt(t,r,Z,f,l,null))}function fx(t,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,I=null,Z=null,se=null,he=null,_e=null;for(pe in l){var ye=l[pe];if(l.hasOwnProperty(pe)&&ye!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":se=ye;default:f.hasOwnProperty(pe)||vt(t,r,pe,null,f,ye)}}for(var de in f){var pe=f[de];if(ye=l[de],f.hasOwnProperty(de)&&(pe!=null||ye!=null))switch(de){case"type":y=pe;break;case"name":m=pe;break;case"checked":he=pe;break;case"defaultChecked":_e=pe;break;case"value":I=pe;break;case"defaultValue":Z=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,r));break;default:pe!==ye&&vt(t,r,de,pe,f,ye)}}An(t,I,Z,se,he,_e,y,m);return;case"select":pe=I=Z=de=null;for(y in l)if(se=l[y],l.hasOwnProperty(y)&&se!=null)switch(y){case"value":break;case"multiple":pe=se;default:f.hasOwnProperty(y)||vt(t,r,y,null,f,se)}for(m in f)if(y=f[m],se=l[m],f.hasOwnProperty(m)&&(y!=null||se!=null))switch(m){case"value":de=y;break;case"defaultValue":Z=y;break;case"multiple":I=y;default:y!==se&&vt(t,r,m,y,f,se)}r=Z,l=I,f=pe,de!=null?Vn(t,!!l,de,!1):!!f!=!!l&&(r!=null?Vn(t,!!l,r,!0):Vn(t,!!l,l?[]:"",!1));return;case"textarea":pe=de=null;for(Z in l)if(m=l[Z],l.hasOwnProperty(Z)&&m!=null&&!f.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:vt(t,r,Z,null,f,m)}for(I in f)if(m=f[I],y=l[I],f.hasOwnProperty(I)&&(m!=null||y!=null))switch(I){case"value":de=m;break;case"defaultValue":pe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&vt(t,r,I,m,f,y)}Ut(t,de,pe);return;case"option":for(var qe in l)if(de=l[qe],l.hasOwnProperty(qe)&&de!=null&&!f.hasOwnProperty(qe))switch(qe){case"selected":t.selected=!1;break;default:vt(t,r,qe,null,f,de)}for(se in f)if(de=f[se],pe=l[se],f.hasOwnProperty(se)&&de!==pe&&(de!=null||pe!=null))switch(se){case"selected":t.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:vt(t,r,se,de,f,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)de=l[ze],l.hasOwnProperty(ze)&&de!=null&&!f.hasOwnProperty(ze)&&vt(t,r,ze,null,f,de);for(he in f)if(de=f[he],pe=l[he],f.hasOwnProperty(he)&&de!==pe&&(de!=null||pe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,r));break;default:vt(t,r,he,de,f,pe)}return;default:if(Lo(r)){for(var yt in l)de=l[yt],l.hasOwnProperty(yt)&&de!==void 0&&!f.hasOwnProperty(yt)&&rm(t,r,yt,void 0,f,de);for(_e in f)de=f[_e],pe=l[_e],!f.hasOwnProperty(_e)||de===pe||de===void 0&&pe===void 0||rm(t,r,_e,de,f,pe);return}}for(var ue in l)de=l[ue],l.hasOwnProperty(ue)&&de!=null&&!f.hasOwnProperty(ue)&&vt(t,r,ue,null,f,de);for(ye in f)de=f[ye],pe=l[ye],!f.hasOwnProperty(ye)||de===pe||de==null&&pe==null||vt(t,r,ye,de,f,pe)}var sm=null,om=null;function Yf(t){return t.nodeType===9?t:t.ownerDocument}function v0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function am(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lm=null;function hx(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(mx)}:b0;function mx(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function S0(t,r){var l=r,f=0,m=0;do{var y=l.nextSibling;if(t.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<f&&8>f){l=f;var I=t.ownerDocument;if(l&1&&Mu(I.documentElement),l&2&&Mu(I.body),l&4)for(l=I.head,Mu(l),I=l.firstChild;I;){var Z=I.nextSibling,se=I.nodeName;I[gs]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=Z}}if(m===0){t.removeChild(y),zu(r);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:f=l.charCodeAt(0)-48;else f=0;l=y}while(l);zu(r)}function um(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":um(l),Ea(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function gx(t,r,l,f){for(;t.nodeType===1;){var m=l;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(f){if(!t[gs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=qi(t.nextSibling),t===null)break}return null}function _x(t,r,l){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=qi(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vx(t,r){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),t._reactRetry=f}}function qi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var fm=null;function E0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}function T0(t,r,l){switch(r=Yf(l),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Mu(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ea(t)}var Oi=new Map,x0=new Set;function Kf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xr=_.d;_.d={f:yx,r:bx,D:wx,C:Sx,L:Ex,m:Tx,X:Cx,S:xx,M:Ox};function yx(){var t=Xr.f(),r=Bf();return t||r}function bx(t){var r=Er(t);r!==null&&r.tag===5&&r.type==="form"?Vv(r):Xr.r(t)}var al=typeof document>"u"?null:document;function C0(t,r,l){var f=al;if(f&&typeof r=="string"&&r){var m=yn(r);m='link[rel="'+t+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),x0.has(m)||(x0.add(m),t={rel:t,crossOrigin:l,href:r},f.querySelector(m)===null&&(r=f.createElement("link"),En(r,"link",t),Qt(r),f.head.appendChild(r)))}}function wx(t){Xr.D(t),C0("dns-prefetch",t,null)}function Sx(t,r){Xr.C(t,r),C0("preconnect",t,r)}function Ex(t,r,l){Xr.L(t,r,l);var f=al;if(f&&t&&r){var m='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+yn(l.imageSizes)+'"]')):m+='[href="'+yn(t)+'"]';var y=m;switch(r){case"style":y=ll(t);break;case"script":y=ul(t)}Oi.has(y)||(t=b({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:t,as:r},l),Oi.set(y,t),f.querySelector(m)!==null||r==="style"&&f.querySelector(Lu(y))||r==="script"&&f.querySelector(Iu(y))||(r=f.createElement("link"),En(r,"link",t),Qt(r),f.head.appendChild(r)))}}function Tx(t,r){Xr.m(t,r);var l=al;if(l&&t){var f=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+yn(f)+'"][href="'+yn(t)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ul(t)}if(!Oi.has(y)&&(t=b({rel:"modulepreload",href:t},r),Oi.set(y,t),l.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Iu(y)))return}f=l.createElement("link"),En(f,"link",t),Qt(f),l.head.appendChild(f)}}}function xx(t,r,l){Xr.S(t,r,l);var f=al;if(f&&t){var m=Tr(f).hoistableStyles,y=ll(t);r=r||"default";var I=m.get(y);if(!I){var Z={loading:0,preload:null};if(I=f.querySelector(Lu(y)))Z.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},l),(l=Oi.get(y))&&hm(t,l);var se=I=f.createElement("link");Qt(se),En(se,"link",t),se._p=new Promise(function(he,_e){se.onload=he,se.onerror=_e}),se.addEventListener("load",function(){Z.loading|=1}),se.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Xf(I,r,f)}I={type:"stylesheet",instance:I,count:1,state:Z},m.set(y,I)}}}function Cx(t,r){Xr.X(t,r);var l=al;if(l&&t){var f=Tr(l).hoistableScripts,m=ul(t),y=f.get(m);y||(y=l.querySelector(Iu(m)),y||(t=b({src:t,async:!0},r),(r=Oi.get(m))&&dm(t,r),y=l.createElement("script"),Qt(y),En(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Ox(t,r){Xr.M(t,r);var l=al;if(l&&t){var f=Tr(l).hoistableScripts,m=ul(t),y=f.get(m);y||(y=l.querySelector(Iu(m)),y||(t=b({src:t,async:!0,type:"module"},r),(r=Oi.get(m))&&dm(t,r),y=l.createElement("script"),Qt(y),En(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function O0(t,r,l,f){var m=(m=ae.current)?Kf(m):null;if(!m)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ll(l.href),l=Tr(m).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ll(l.href);var y=Tr(m).hoistableStyles,I=y.get(t);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,I),(y=m.querySelector(Lu(t)))&&!y._p&&(I.instance=y,I.state.loading=5),Oi.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Oi.set(t,l),y||Rx(m,t,l,I.state))),r&&f===null)throw Error(s(528,""));return I}if(r&&f!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ul(l),l=Tr(m).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ll(t){return'href="'+yn(t)+'"'}function Lu(t){return'link[rel="stylesheet"]['+t+"]"}function R0(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Rx(t,r,l,f){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=t.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),En(r,"link",l),Qt(r),t.head.appendChild(r))}function ul(t){return'[src="'+yn(t)+'"]'}function Iu(t){return"script[async]"+t}function A0(t,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=t.querySelector('style[data-href~="'+yn(l.href)+'"]');if(f)return r.instance=f,Qt(f),f;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(t.ownerDocument||t).createElement("style"),Qt(f),En(f,"style",m),Xf(f,l.precedence,t),r.instance=f;case"stylesheet":m=ll(l.href);var y=t.querySelector(Lu(m));if(y)return r.state.loading|=4,r.instance=y,Qt(y),y;f=R0(l),(m=Oi.get(m))&&hm(f,m),y=(t.ownerDocument||t).createElement("link"),Qt(y);var I=y;return I._p=new Promise(function(Z,se){I.onload=Z,I.onerror=se}),En(y,"link",f),r.state.loading|=4,Xf(y,l.precedence,t),r.instance=y;case"script":return y=ul(l.src),(m=t.querySelector(Iu(y)))?(r.instance=m,Qt(m),m):(f=l,(m=Oi.get(y))&&(f=b({},l),dm(f,m)),t=t.ownerDocument||t,m=t.createElement("script"),Qt(m),En(m,"link",f),t.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Xf(f,l.precedence,t));return r.instance}function Xf(t,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,I=0;I<f.length;I++){var Z=f[I];if(Z.dataset.precedence===r)y=Z;else if(y!==m)break}y?y.parentNode.insertBefore(t,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(t,r.firstChild))}function hm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Qf=null;function M0(t,r,l){if(Qf===null){var f=new Map,m=Qf=new Map;m.set(l,f)}else m=Qf,f=m.get(l),f||(f=new Map,m.set(l,f));if(f.has(t))return f;for(f.set(t,null),l=l.getElementsByTagName(t),m=0;m<l.length;m++){var y=l[m];if(!(y[gs]||y[ln]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(r)||"";I=t+I;var Z=f.get(I);Z?Z.push(y):f.set(I,[y])}}return f}function L0(t,r,l){t=t.ownerDocument||t,t.head.insertBefore(l,r==="title"?t.querySelector("head > title"):null)}function Ax(t,r,l){if(l===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function I0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ku=null;function Mx(){}function Lx(t,r,l){if(ku===null)throw Error(s(475));var f=ku;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=ll(l.href),y=t.querySelector(Lu(m));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(f.count++,f=$f.bind(f),t.then(f,f)),r.state.loading|=4,r.instance=y,Qt(y);return}y=t.ownerDocument||t,l=R0(l),(m=Oi.get(m))&&hm(l,m),y=y.createElement("link"),Qt(y);var I=y;I._p=new Promise(function(Z,se){I.onload=Z,I.onerror=se}),En(y,"link",l),r.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=$f.bind(f),t.addEventListener("load",r),t.addEventListener("error",r))}}function Ix(){if(ku===null)throw Error(s(475));var t=ku;return t.stylesheets&&t.count===0&&pm(t,t.stylesheets),0<t.count?function(r){var l=setTimeout(function(){if(t.stylesheets&&pm(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jf=null;function pm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jf=new Map,r.forEach(kx,t),Jf=null,$f.call(t))}function kx(t,r){if(!(r.state.loading&4)){var l=Jf.get(t);if(l)var f=l.get(null);else{l=new Map,Jf.set(t,l);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var I=m[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),f=I)}f&&l.set(null,f)}m=r.instance,I=m.getAttribute("data-precedence"),y=l.get(I)||f,y===f&&l.set(null,m),l.set(I,m),this.count++,f=$f.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),r.state.loading|=4}}var Pu={$$typeof:$,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Px(t,r,l,f,m,y,I,Z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function k0(t,r,l,f,m,y,I,Z,se,he,_e,ye){return t=new Px(t,r,l,I,Z,se,he,ye),r=1,y===!0&&(r|=24),y=jn(3,null,null,r),t.current=y,y.stateNode=t,r=Kd(),r.refCount++,t.pooledCache=r,r.refCount++,y.memoizedState={element:f,isDehydrated:l,cache:r},Jd(y),t}function P0(t){return t?(t=Hr,t):Hr}function D0(t,r,l,f,m,y){m=P0(m),f.context===null?f.context=m:f.pendingContext=m,f=Bs(r),f.payload={element:l},y=y===void 0?null:y,y!==null&&(f.callback=y),l=Hs(t,f,r),l!==null&&(hi(l,t,r),cu(l,t,r))}function N0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function mm(t,r){N0(t,r),(t=t.alternate)&&N0(t,r)}function U0(t){if(t.tag===13){var r=Ds(t,67108864);r!==null&&hi(r,t,67108864),mm(t,67108864)}}var eh=!0;function Dx(t,r,l,f){var m=O.T;O.T=null;var y=_.p;try{_.p=2,gm(t,r,l,f)}finally{_.p=y,O.T=m}}function Nx(t,r,l,f){var m=O.T;O.T=null;var y=_.p;try{_.p=8,gm(t,r,l,f)}finally{_.p=y,O.T=m}}function gm(t,r,l,f){if(eh){var m=_m(f);if(m===null)im(t,r,f,th,l),j0(t,f);else if(zx(m,t,r,l,f))f.stopPropagation();else if(j0(t,f),r&4&&-1<Ux.indexOf(t)){for(;m!==null;){var y=Er(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=an(y.pendingLanes);if(I!==0){var Z=y;for(Z.pendingLanes|=2,Z.entangledLanes|=2;I;){var se=1<<31-Nt(I);Z.entanglements[1]|=se,I&=~se}pr(y),(mt&6)===0&&(zf=Te()+500,Ou(0))}}break;case 13:Z=Ds(y,2),Z!==null&&hi(Z,y,2),Bf(),mm(y,2)}if(y=_m(f),y===null&&im(t,r,f,th,l),y===m)break;m=y}m!==null&&f.stopPropagation()}else im(t,r,f,null,l)}}function _m(t){return t=Es(t),vm(t)}var th=null;function vm(t){if(th=null,t=ir(t),t!==null){var r=u(t);if(r===null)t=null;else{var l=r.tag;if(l===13){if(t=h(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return th=t,null}function z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case Ke:return 2;case Qe:return 8;case Ze:case Et:return 32;case dt:return 268435456;default:return 32}default:return 32}}var ym=!1,eo=null,to=null,no=null,Du=new Map,Nu=new Map,io=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,r){switch(t){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Du.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(r.pointerId)}}function Uu(t,r,l,f,m,y){return t===null||t.nativeEvent!==y?(t={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Er(r),r!==null&&U0(r)),t):(t.eventSystemFlags|=f,r=t.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),t)}function zx(t,r,l,f,m){switch(r){case"focusin":return eo=Uu(eo,t,r,l,f,m),!0;case"dragenter":return to=Uu(to,t,r,l,f,m),!0;case"mouseover":return no=Uu(no,t,r,l,f,m),!0;case"pointerover":var y=m.pointerId;return Du.set(y,Uu(Du.get(y)||null,t,r,l,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Nu.set(y,Uu(Nu.get(y)||null,t,r,l,f,m)),!0}return!1}function B0(t){var r=ir(t.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=h(l),r!==null){t.blockedOn=r,Hl(t.priority,function(){if(l.tag===13){var f=fi();f=ps(f);var m=Ds(l,f);m!==null&&hi(m,l,f),mm(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=_m(t.nativeEvent);if(l===null){l=t.nativeEvent;var f=new l.constructor(l.type,l);Io=f,l.target.dispatchEvent(f),Io=null}else return r=Er(l),r!==null&&U0(r),t.blockedOn=l,!1;r.shift()}return!0}function H0(t,r,l){nh(t)&&l.delete(r)}function jx(){ym=!1,eo!==null&&nh(eo)&&(eo=null),to!==null&&nh(to)&&(to=null),no!==null&&nh(no)&&(no=null),Du.forEach(H0),Nu.forEach(H0)}function ih(t,r){t.blockedOn===r&&(t.blockedOn=null,ym||(ym=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jx)))}var rh=null;function F0(t){rh!==t&&(rh=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rh===t&&(rh=null);for(var r=0;r<t.length;r+=3){var l=t[r],f=t[r+1],m=t[r+2];if(typeof f!="function"){if(vm(f||l)===null)continue;break}var y=Er(l);y!==null&&(t.splice(r,3),r-=3,vp(y,{pending:!0,data:m,method:l.method,action:f},f,m))}}))}function zu(t){function r(se){return ih(se,t)}eo!==null&&ih(eo,t),to!==null&&ih(to,t),no!==null&&ih(no,t),Du.forEach(r),Nu.forEach(r);for(var l=0;l<io.length;l++){var f=io[l];f.blockedOn===t&&(f.blockedOn=null)}for(;0<io.length&&(l=io[0],l.blockedOn===null);)B0(l),l.blockedOn===null&&io.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var m=l[f],y=l[f+1],I=m[Rn]||null;if(typeof y=="function")I||F0(l);else if(I){var Z=null;if(y&&y.hasAttribute("formAction")){if(m=y,I=y[Rn]||null)Z=I.formAction;else if(vm(m)!==null)continue}else Z=I.action;typeof Z=="function"?l[f+1]=Z:(l.splice(f,3),f-=3),F0(l)}}}function bm(t){this._internalRoot=t}sh.prototype.render=bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,f=fi();D0(l,f,t,r,null,null)},sh.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;D0(t.current,2,null,t,null,null),Bf(),r[ms]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var r=gi();t={blockedOn:null,target:t,priority:r};for(var l=0;l<io.length&&r!==0&&r<io[l].priority;l++);io.splice(l,0,t),l===0&&B0(t)}};var q0=e.version;if(q0!=="19.1.0")throw Error(s(527,q0,"19.1.0"));_.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Bx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Kt=oh.inject(Bx),pt=oh}catch{}}return Bu.createRoot=function(t,r){if(!a(t))throw Error(s(299));var l=!1,f="",m=sy,y=oy,I=ay,Z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(Z=r.unstable_transitionCallbacks)),r=k0(t,1,!1,null,null,l,f,m,y,I,Z,null),t[ms]=r.current,nm(t),new bm(r)},Bu.hydrateRoot=function(t,r,l){if(!a(t))throw Error(s(299));var f=!1,m="",y=sy,I=oy,Z=ay,se=null,he=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(Z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(se=l.unstable_transitionCallbacks),l.formState!==void 0&&(he=l.formState)),r=k0(t,1,!0,r,l??null,f,m,y,I,Z,se,he),r.context=P0(null),l=r.current,f=fi(),f=ps(f),m=Bs(f),m.callback=null,Hs(l,m,f),l=f,r.current.lanes=l,_n(r,l),pr(r),t[ms]=r.current,nm(t),new sh(r)},Bu.version="19.1.0",Bu}var J0;function Kx(){if(J0)return Em.exports;J0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Em.exports=Yx(),Em.exports}var Xx=Kx(),Hu={},eb;function Qx(){if(eb)return Hu;eb=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.parse=h,Hu.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,x){const R=new u,D=S.length;if(D<2)return R;const Y=(x==null?void 0:x.decode)||b;let V=0;do{const J=S.indexOf("=",V);if(J===-1)break;const $=S.indexOf(";",V),ne=$===-1?D:$;if(J>ne){V=S.lastIndexOf(";",J-1)+1;continue}const W=d(S,V,J),z=g(S,J,W),X=S.slice(W,z);if(R[X]===void 0){let B=d(S,J+1,ne),A=g(S,ne,B);const M=Y(S.slice(B,A));R[X]=M}V=ne+1}while(V<D);return R}function d(S,x,R){do{const D=S.charCodeAt(x);if(D!==32&&D!==9)return x}while(++x<R);return R}function g(S,x,R){for(;x>R;){const D=S.charCodeAt(--x);if(D!==32&&D!==9)return x+1}return R}function v(S,x,R){const D=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const Y=D(x);if(!e.test(Y))throw new TypeError(`argument val is invalid: ${x}`);let V=S+"="+Y;if(!R)return V;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);V+="; Max-Age="+R.maxAge}if(R.domain){if(!i.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);V+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);V+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);V+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(V+="; HttpOnly"),R.secure&&(V+="; Secure"),R.partitioned&&(V+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return V}function b(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function E(S){return a.call(S)==="[object Date]"}return Hu}Qx();var tb="popstate";function $x(n={}){function e(s,a){let{pathname:u,search:h,hash:d}=s.location;return fg("",{pathname:u,search:h,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(s,a){return typeof a=="string"?a:fc(a)}return eC(e,i,null,n)}function Pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jx(){return Math.random().toString(36).substring(2,10)}function nb(n,e){return{usr:n.state,key:n.key,idx:e}}function fg(n,e,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:i,key:e&&e.key||s||Jx()}}function fc({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Al(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function eC(n,e,i,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,d="POP",g=null,v=b();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function b(){return(h.state||{idx:null}).idx}function E(){d="POP";let Y=b(),V=Y==null?null:Y-v;v=Y,g&&g({action:d,location:D.location,delta:V})}function S(Y,V){d="PUSH";let J=fg(D.location,Y,V);v=b()+1;let $=nb(J,v),ne=D.createHref(J);try{h.pushState($,"",ne)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(ne)}u&&g&&g({action:d,location:D.location,delta:1})}function x(Y,V){d="REPLACE";let J=fg(D.location,Y,V);v=b();let $=nb(J,v),ne=D.createHref(J);h.replaceState($,"",ne),u&&g&&g({action:d,location:D.location,delta:0})}function R(Y){return tC(Y)}let D={get action(){return d},get location(){return n(a,h)},listen(Y){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(tb,E),g=Y,()=>{a.removeEventListener(tb,E),g=null}},createHref(Y){return e(a,Y)},createURL:R,encodeLocation(Y){let V=R(Y);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:x,go(Y){return h.go(Y)}};return D}function tC(n,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(i,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:fc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function l1(n,e,i="/"){return nC(n,e,i,!1)}function nC(n,e,i,s){let a=typeof e=="string"?Al(e):e,u=ss(a.pathname||"/",i);if(u==null)return null;let h=u1(n);iC(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let v=pC(u);d=hC(h[g],v,s)}return d}function u1(n,e=[],i=[],s=""){let a=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Pt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=is([s,g.relativePath]),b=i.concat(g);u.children&&u.children.length>0&&(Pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),u1(u.children,e,b,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:cC(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,h);else for(let g of c1(u.path))a(u,h,g)}),e}function c1(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,a=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=c1(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&d.push(...h),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function iC(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:fC(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var rC=/^:[\w-]+$/,sC=3,oC=2,aC=1,lC=10,uC=-2,ib=n=>n==="*";function cC(n,e){let i=n.split("/"),s=i.length;return i.some(ib)&&(s+=uC),e&&(s+=oC),i.filter(a=>!ib(a)).reduce((a,u)=>a+(rC.test(u)?sC:u===""?aC:lC),s)}function fC(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function hC(n,e,i=!1){let{routesMeta:s}=n,a={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],v=d===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},b),S=g.route;if(!E&&v&&i&&!s[s.length-1].route.index&&(E=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(a,E.params),h.push({params:a,pathname:is([u,E.pathname]),pathnameBase:vC(is([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=is([u,E.pathnameBase]))}return h}function Oh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=dC(n.path,n.caseSensitive,n.end),a=e.match(i);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((v,{paramName:b,isOptional:E},S)=>{if(b==="*"){let R=d[S]||"";h=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const x=d[S];return E&&!x?v[b]=void 0:v[b]=(x||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:n}}function dC(n,e=!1,i=!0){Xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function pC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ss(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function mC(n,e="/"){let{pathname:i,search:s="",hash:a=""}=typeof n=="string"?Al(n):n;return{pathname:i?i.startsWith("/")?i:gC(i,e):e,search:yC(s),hash:bC(a)}}function gC(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Om(n,e,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _C(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function zg(n){let e=_C(n);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function jg(n,e,i,s=!1){let a;typeof n=="string"?a=Al(n):(a={...n},Pt(!a.pathname||!a.pathname.includes("?"),Om("?","pathname","search",a)),Pt(!a.pathname||!a.pathname.includes("#"),Om("#","pathname","hash",a)),Pt(!a.search||!a.search.includes("#"),Om("#","search","hash",a)));let u=n===""||a.pathname==="",h=u?"/":a.pathname,d;if(h==null)d=i;else{let E=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;a.pathname=S.join("/")}d=E>=0?e[E]:"/"}let g=mC(a,d),v=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(v||b)&&(g.pathname+="/"),g}var is=n=>n.join("/").replace(/\/\/+/g,"/"),vC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var f1=["POST","PUT","PATCH","DELETE"];new Set(f1);var SC=["GET",...f1];new Set(SC);var Ml=oe.createContext(null);Ml.displayName="DataRouter";var id=oe.createContext(null);id.displayName="DataRouterState";var h1=oe.createContext({isTransitioning:!1});h1.displayName="ViewTransition";var EC=oe.createContext(new Map);EC.displayName="Fetchers";var TC=oe.createContext(null);TC.displayName="Await";var $i=oe.createContext(null);$i.displayName="Navigation";var xc=oe.createContext(null);xc.displayName="Location";var Ji=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var Bg=oe.createContext(null);Bg.displayName="RouteError";function xC(n,{relative:e}={}){Pt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=oe.useContext($i),{hash:a,pathname:u,search:h}=Oc(n,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:is([i,u])),s.createHref({pathname:d,search:h,hash:a})}function Ll(){return oe.useContext(xc)!=null}function Eo(){return Pt(Ll(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(xc).location}var d1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p1(n){oe.useContext($i).static||oe.useLayoutEffect(n)}function Cc(){let{isDataRoute:n}=oe.useContext(Ji);return n?jC():CC()}function CC(){Pt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(Ml),{basename:e,navigator:i}=oe.useContext($i),{matches:s}=oe.useContext(Ji),{pathname:a}=Eo(),u=JSON.stringify(zg(s)),h=oe.useRef(!1);return p1(()=>{h.current=!0}),oe.useCallback((g,v={})=>{if(Xi(h.current,d1),!h.current)return;if(typeof g=="number"){i.go(g);return}let b=jg(g,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:is([e,b.pathname])),(v.replace?i.replace:i.push)(b,v.state,v)},[e,i,u,a,n])}oe.createContext(null);function OC(){let{matches:n}=oe.useContext(Ji),e=n[n.length-1];return e?e.params:{}}function Oc(n,{relative:e}={}){let{matches:i}=oe.useContext(Ji),{pathname:s}=Eo(),a=JSON.stringify(zg(i));return oe.useMemo(()=>jg(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function RC(n,e){return m1(n,e)}function m1(n,e,i,s){var V;Pt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=oe.useContext($i),{matches:u}=oe.useContext(Ji),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let J=b&&b.path||"";g1(g,!b||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let E=Eo(),S;if(e){let J=typeof e=="string"?Al(e):e;Pt(v==="/"||((V=J.pathname)==null?void 0:V.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${J.pathname}" was given in the \`location\` prop.`),S=J}else S=E;let x=S.pathname||"/",R=x;if(v!=="/"){let J=v.replace(/^\//,"").split("/");R="/"+x.replace(/^\//,"").split("/").slice(J.length).join("/")}let D=l1(n,{pathname:R});Xi(b||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Xi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=kC(D&&D.map(J=>Object.assign({},J,{params:Object.assign({},d,J.params),pathname:is([v,a.encodeLocation?a.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?v:is([v,a.encodeLocation?a.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,i,s);return e&&Y?oe.createElement(xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},Y):Y}function AC(){let n=zC(),e=wC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=oe.createElement(oe.Fragment,null,oe.createElement("p",null,"💿 Hey developer 👋"),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:u},"ErrorBoundary")," or"," ",oe.createElement("code",{style:u},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),i?oe.createElement("pre",{style:a},i):null,h)}var MC=oe.createElement(AC,null),LC=class extends oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?oe.createElement(Ji.Provider,{value:this.props.routeContext},oe.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IC({routeContext:n,match:e,children:i}){let s=oe.useContext(Ml);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Ji.Provider,{value:n},i)}function kC(n,e=[],i=null,s=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let a=n,u=i==null?void 0:i.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Pt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,d=-1;if(i)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:b,errors:E}=i,S=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||S){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,v,b)=>{let E,S=!1,x=null,R=null;i&&(E=u&&v.route.id?u[v.route.id]:void 0,x=v.route.errorElement||MC,h&&(d<0&&b===0?(g1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):d===b&&(S=!0,R=v.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,b+1)),Y=()=>{let V;return E?V=x:S?V=R:v.route.Component?V=oe.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=g,oe.createElement(IC,{match:v,routeContext:{outlet:g,matches:D,isDataRoute:i!=null},children:V})};return i&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?oe.createElement(LC,{location:i.location,revalidation:i.revalidation,component:x,error:E,children:Y(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):Y()},null)}function Hg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(n){let e=oe.useContext(Ml);return Pt(e,Hg(n)),e}function DC(n){let e=oe.useContext(id);return Pt(e,Hg(n)),e}function NC(n){let e=oe.useContext(Ji);return Pt(e,Hg(n)),e}function Fg(n){let e=NC(n),i=e.matches[e.matches.length-1];return Pt(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function UC(){return Fg("useRouteId")}function zC(){var s;let n=oe.useContext(Bg),e=DC("useRouteError"),i=Fg("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[i]}function jC(){let{router:n}=PC("useNavigate"),e=Fg("useNavigate"),i=oe.useRef(!1);return p1(()=>{i.current=!0}),oe.useCallback(async(a,u={})=>{Xi(i.current,d1),i.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var rb={};function g1(n,e,i){!e&&!rb[n]&&(rb[n]=!0,Xi(!1,i))}oe.memo(BC);function BC({routes:n,future:e,state:i}){return m1(n,void 0,i,e)}function _1({to:n,replace:e,state:i,relative:s}){Pt(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=oe.useContext($i);Xi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=oe.useContext(Ji),{pathname:h}=Eo(),d=Cc(),g=jg(n,zg(u),h,s==="path"),v=JSON.stringify(g);return oe.useEffect(()=>{d(JSON.parse(v),{replace:e,state:i,relative:s})},[d,v,s,e,i]),null}function Jr(n){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HC({basename:n="/",children:e=null,location:i,navigationType:s="POP",navigator:a,static:u=!1}){Pt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=oe.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof i=="string"&&(i=Al(i));let{pathname:g="/",search:v="",hash:b="",state:E=null,key:S="default"}=i,x=oe.useMemo(()=>{let R=ss(g,h);return R==null?null:{location:{pathname:R,search:v,hash:b,state:E,key:S},navigationType:s}},[h,g,v,b,E,S,s]);return Xi(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:oe.createElement($i.Provider,{value:d},oe.createElement(xc.Provider,{children:e,value:x}))}function FC({children:n,location:e}){return RC(hg(n),e)}function hg(n,e=[]){let i=[];return oe.Children.forEach(n,(s,a)=>{if(!oe.isValidElement(s))return;let u=[...e,a];if(s.type===oe.Fragment){i.push.apply(i,hg(s.props.children,u));return}Pt(s.type===Jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hg(s.props.children,u)),i.push(h)}),i}var vh="get",yh="application/x-www-form-urlencoded";function rd(n){return n!=null&&typeof n.tagName=="string"}function qC(n){return rd(n)&&n.tagName.toLowerCase()==="button"}function WC(n){return rd(n)&&n.tagName.toLowerCase()==="form"}function VC(n){return rd(n)&&n.tagName.toLowerCase()==="input"}function ZC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GC(n,e){return n.button===0&&(!e||e==="_self")&&!ZC(n)}var lh=null;function YC(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var KC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(n){return n!=null&&!KC.has(n)?(Xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):n}function XC(n,e){let i,s,a,u,h;if(WC(n)){let d=n.getAttribute("action");s=d?ss(d,e):null,i=n.getAttribute("method")||vh,a=Rm(n.getAttribute("enctype"))||yh,u=new FormData(n)}else if(qC(n)||VC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(s=g?ss(g,e):null,i=n.getAttribute("formmethod")||d.getAttribute("method")||vh,a=Rm(n.getAttribute("formenctype"))||Rm(d.getAttribute("enctype"))||yh,u=new FormData(d,n),!YC()){let{name:v,type:b,value:E}=n;if(b==="image"){let S=v?`${v}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else v&&u.append(v,E)}}else{if(rd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vh,s=null,a=yh,h=n}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:i.toLowerCase(),encType:a,formData:u,body:h}}function qg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function QC(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $C(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function JC(n,e,i){let s=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await QC(u,i);return h.links?h.links():[]}return[]}));return iO(s.flat(1).filter($C).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sb(n,e,i,s,a,u){let h=(g,v)=>i[v]?g.route.id!==i[v].route.id:!0,d=(g,v)=>{var b;return i[v].pathname!==g.pathname||((b=i[v].route.path)==null?void 0:b.endsWith("*"))&&i[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||d(g,v)):u==="data"?e.filter((g,v)=>{var E;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eO(n,e,{includeHydrateFallback:i}={}){return tO(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),i&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function tO(n){return[...new Set(n)]}function nO(n){let e={},i=Object.keys(n).sort();for(let s of i)e[s]=n[s];return e}function iO(n,e){let i=new Set;return new Set(e),n.reduce((s,a)=>{let u=JSON.stringify(nO(a));return i.has(u)||(i.add(u),s.push({key:u,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rO=new Set([100,101,204,205]);function sO(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&ss(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function v1(){let n=oe.useContext(Ml);return qg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oO(){let n=oe.useContext(id);return qg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wg=oe.createContext(void 0);Wg.displayName="FrameworkContext";function y1(){let n=oe.useContext(Wg);return qg(n,"You must render this element inside a <HydratedRouter> element"),n}function aO(n,e){let i=oe.useContext(Wg),[s,a]=oe.useState(!1),[u,h]=oe.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:b,onTouchStart:E}=e,S=oe.useRef(null);oe.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let D=V=>{V.forEach(J=>{h(J.isIntersecting)})},Y=new IntersectionObserver(D,{threshold:.5});return S.current&&Y.observe(S.current),()=>{Y.disconnect()}}},[n]),oe.useEffect(()=>{if(s){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[s]);let x=()=>{a(!0)},R=()=>{a(!1),h(!1)};return i?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Fu(d,x),onBlur:Fu(g,R),onMouseEnter:Fu(v,x),onMouseLeave:Fu(b,R),onTouchStart:Fu(E,x)}]:[!1,S,{}]}function Fu(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function lO({page:n,...e}){let{router:i}=v1(),s=oe.useMemo(()=>l1(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?oe.createElement(cO,{page:n,matches:s,...e}):null}function uO(n){let{manifest:e,routeModules:i}=y1(),[s,a]=oe.useState([]);return oe.useEffect(()=>{let u=!1;return JC(n,e,i).then(h=>{u||a(h)}),()=>{u=!0}},[n,e,i]),s}function cO({page:n,matches:e,...i}){let s=Eo(),{manifest:a,routeModules:u}=y1(),{basename:h}=v1(),{loaderData:d,matches:g}=oO(),v=oe.useMemo(()=>sb(n,e,g,a,s,"data"),[n,e,g,a,s]),b=oe.useMemo(()=>sb(n,e,g,a,s,"assets"),[n,e,g,a,s]),E=oe.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let R=new Set,D=!1;if(e.forEach(V=>{var $;let J=a.routes[V.route.id];!J||!J.hasLoader||(!v.some(ne=>ne.route.id===V.route.id)&&V.route.id in d&&(($=u[V.route.id])!=null&&$.shouldRevalidate)||J.hasClientLoader?D=!0:R.add(V.route.id))}),R.size===0)return[];let Y=sO(n,h);return D&&R.size>0&&Y.searchParams.set("_routes",e.filter(V=>R.has(V.route.id)).map(V=>V.route.id).join(",")),[Y.pathname+Y.search]},[h,d,s,a,v,e,n,u]),S=oe.useMemo(()=>eO(b,a),[b,a]),x=uO(b);return oe.createElement(oe.Fragment,null,E.map(R=>oe.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),S.map(R=>oe.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),x.map(({key:R,link:D})=>oe.createElement("link",{key:R,...D})))}function fO(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b1&&(window.__reactRouterVersion="7.6.2")}catch{}function hO({basename:n,children:e,window:i}){let s=oe.useRef();s.current==null&&(s.current=$x({window:i,v5Compat:!0}));let a=s.current,[u,h]=oe.useState({action:a.action,location:a.location}),d=oe.useCallback(g=>{oe.startTransition(()=>h(g))},[h]);return oe.useLayoutEffect(()=>a.listen(d),[a,d]),oe.createElement(HC,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a})}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rh=oe.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:d,target:g,to:v,preventScrollReset:b,viewTransition:E,...S},x){let{basename:R}=oe.useContext($i),D=typeof v=="string"&&w1.test(v),Y,V=!1;if(typeof v=="string"&&D&&(Y=v,b1))try{let A=new URL(window.location.href),M=v.startsWith("//")?new URL(A.protocol+v):new URL(v),P=ss(M.pathname,R);M.origin===A.origin&&P!=null?v=P+M.search+M.hash:V=!0}catch{Xi(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=xC(v,{relative:a}),[$,ne,W]=aO(s,S),z=gO(v,{replace:h,state:d,target:g,preventScrollReset:b,relative:a,viewTransition:E});function X(A){e&&e(A),A.defaultPrevented||z(A)}let B=oe.createElement("a",{...S,...W,href:Y||J,onClick:V||u?e:X,ref:fO(x,ne),target:g,"data-discover":!D&&i==="render"?"true":void 0});return $&&!D?oe.createElement(oe.Fragment,null,B,oe.createElement(lO,{page:J})):B});Rh.displayName="Link";var dO=oe.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:d,children:g,...v},b){let E=Oc(h,{relative:v.relative}),S=Eo(),x=oe.useContext(id),{navigator:R,basename:D}=oe.useContext($i),Y=x!=null&&wO(E)&&d===!0,V=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,J=S.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(J=J.toLowerCase(),$=$?$.toLowerCase():null,V=V.toLowerCase()),$&&D&&($=ss($,D)||$);const ne=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let W=J===V||!a&&J.startsWith(V)&&J.charAt(ne)==="/",z=$!=null&&($===V||!a&&$.startsWith(V)&&$.charAt(V.length)==="/"),X={isActive:W,isPending:z,isTransitioning:Y},B=W?e:void 0,A;typeof s=="function"?A=s(X):A=[s,W?"active":null,z?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(X):u;return oe.createElement(Rh,{...v,"aria-current":B,className:A,ref:b,style:M,to:h,viewTransition:d},typeof g=="function"?g(X):g)});dO.displayName="NavLink";var pO=oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:a,state:u,method:h=vh,action:d,onSubmit:g,relative:v,preventScrollReset:b,viewTransition:E,...S},x)=>{let R=yO(),D=bO(d,{relative:v}),Y=h.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&w1.test(d),J=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let ne=$.nativeEvent.submitter,W=(ne==null?void 0:ne.getAttribute("formmethod"))||h;R(ne||$.currentTarget,{fetcherKey:e,method:W,navigate:i,replace:a,state:u,relative:v,preventScrollReset:b,viewTransition:E})};return oe.createElement("form",{ref:x,method:Y,action:D,onSubmit:s?g:J,...S,"data-discover":!V&&n==="render"?"true":void 0})});pO.displayName="Form";function mO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(n){let e=oe.useContext(Ml);return Pt(e,mO(n)),e}function gO(n,{target:e,replace:i,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let d=Cc(),g=Eo(),v=Oc(n,{relative:u});return oe.useCallback(b=>{if(GC(b,e)){b.preventDefault();let E=i!==void 0?i:fc(g)===fc(v);d(n,{replace:E,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,d,v,i,s,e,n,a,u,h])}var _O=0,vO=()=>`__${String(++_O)}__`;function yO(){let{router:n}=S1("useSubmit"),{basename:e}=oe.useContext($i),i=UC();return oe.useCallback(async(s,a={})=>{let{action:u,method:h,encType:d,formData:g,body:v}=XC(s,e);if(a.navigate===!1){let b=a.fetcherKey||vO();await n.fetch(b,i,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,i])}function bO(n,{relative:e}={}){let{basename:i}=oe.useContext($i),s=oe.useContext(Ji);Pt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Oc(n||".",{relative:e})},h=Eo();if(n==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(b=>b==="")){d.delete("index"),g.filter(E=>E).forEach(E=>d.append("index",E));let b=d.toString();u.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:is([i,u.pathname])),fc(u)}function wO(n,e={}){let i=oe.useContext(h1);Pt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=S1("useViewTransitionState"),a=Oc(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=ss(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=ss(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Oh(a.pathname,h)!=null||Oh(a.pathname,u)!=null}[...rO];var SO=Ug();const EO=()=>{};var ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se=function(n,e){if(!n)throw Il(e)},Il=function(n){return new Error("Firebase Database ("+E1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},TO=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const a=n[i++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[i++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[i++],h=n[i++],d=n[i++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],h=n[i++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,d=h?n[a+1]:0,g=a+2<n.length,v=g?n[a+2]:0,b=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|v>>6,x=v&63;g||(x=64,h||(S=64)),s.push(i[b],i[E],i[S],i[x])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(T1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const u=i[n.charAt(a++)],d=a<n.length?i[n.charAt(a)]:0;++a;const v=a<n.length?i[n.charAt(a)]:64;++a;const E=a<n.length?i[n.charAt(a)]:64;if(++a,u==null||d==null||v==null||E==null)throw new xO;const S=u<<2|d>>4;if(s.push(S),v!==64){const x=d<<4&240|v>>2;if(s.push(x),E!==64){const R=v<<6&192|E;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x1=function(n){const e=T1(n);return Vg.encodeByteArray(e,!0)},Ah=function(n){return x1(n).replace(/\./g,"")},Mh=function(n){try{return Vg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){return C1(void 0,n)}function C1(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!OO(i)||(n[i]=C1(n[i],e[i]));return n}function OO(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=()=>RO().__FIREBASE_DEFAULTS__,MO=()=>{if(typeof process>"u"||typeof ob>"u")return;const n=ob.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mh(n[1]);return e&&JSON.parse(e)},Zg=()=>{try{return EO()||AO()||MO()||LO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O1=n=>{var e,i;return(i=(e=Zg())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},R1=n=>{const e=O1(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},A1=()=>{var n;return(n=Zg())===null||n===void 0?void 0:n.config},M1=n=>{var e;return(e=Zg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(n){return n.endsWith(".cloudworkstations.dev")}async function Gg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ah(JSON.stringify(i)),Ah(JSON.stringify(h)),""].join(".")}const ic={};function IO(){const n={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?n.emulator.push(e):n.prod.push(e);return n}function kO(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let ab=!1;function Yg(n,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||ic[n]===e||ic[n]||ab)return;ic[n]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=IO().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ab=!0,h()},S}function b(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=kO(s),x=i("text"),R=document.getElementById(x)||document.createElement("span"),D=i("learnmore"),Y=document.getElementById(D)||document.createElement("a"),V=i("preprendIcon"),J=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;d($),b(Y,D);const ne=v();g(J,V),$.append(J,R,Y,ne),document.body.appendChild($)}u?(R.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function PO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function I1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NO(){const n=qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UO(){return E1.NODE_ADMIN===!0}function zO(){try{return typeof indexedDB=="object"}catch{return!1}}function jO(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="FirebaseError";class us extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=BO,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?HO(u,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new us(a,d,s)}}function HO(n,e){return n.replace(FO,(i,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const FO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){return JSON.parse(n)}function on(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(n){let e={},i={},s={},a="";try{const u=n.split(".");e=hc(Mh(u[0])||""),i=hc(Mh(u[1])||""),a=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:a}},qO=function(n){const e=k1(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},WO=function(n){const e=k1(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function dg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lh(n,e,i){const s={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=e.call(i,n[a],a,n));return s}function fa(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const a of i){if(!s.includes(a))return!1;const u=n[a],h=e[a];if(lb(u)&&lb(h)){if(!fa(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!i.includes(a))return!1;return!0}function lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,u]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function tc(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)s[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)s[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const S=s[E-3]^s[E-8]^s[E-14]^s[E-16];s[E]=(S<<1|S>>>31)&4294967295}let a=this.chain_[0],u=this.chain_[1],h=this.chain_[2],d=this.chain_[3],g=this.chain_[4],v,b;for(let E=0;E<80;E++){E<40?E<20?(v=d^u&(h^d),b=1518500249):(v=u^h^d,b=1859775393):E<60?(v=u&h|d&(u|h),b=2400959708):(v=u^h^d,b=3395469782);const S=(a<<5|a>>>27)+v+g+b+s[E]&4294967295;g=d,d=h,h=(u<<30|u>>>2)&4294967295,u=a,a=S}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let a=0;const u=this.buf_;let h=this.inbuf_;for(;a<i;){if(h===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<i;)if(u[h]=e.charCodeAt(a),++h,++a,h===this.blockSize){this.compress_(u),h=0;break}}else for(;a<i;)if(u[h]=e[a],++h,++a,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[a]>>u&255,++s;return e}}function ZO(n,e){const i=new GO(n,e);return i.subscribe.bind(i)}class GO{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let a;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");YO(e,["next","error","complete"])?a=e:a={next:e,error:i,complete:s},a.next===void 0&&(a.next=Am),a.error===void 0&&(a.error=Am),a.complete===void 0&&(a.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YO(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Am(){}function sd(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);if(a>=55296&&a<=56319){const u=a-55296;s++,Se(s<n.length,"Surrogate pair missing trail surrogate.");const h=n.charCodeAt(s)-56320;a=65536+(u<<10)+h}a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):a<65536?(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},od=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class yo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Rc;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($O(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(a)}return a}onInit(e,i){var s;const a=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const a of s)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QO(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QO(n){return n===oa?void 0:n}function $O(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XO(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bt||(bt={}));const eR={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},tR=bt.INFO,nR={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},iR=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=nR[e];if(a)console[a](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const rR=(n,e)=>e.some(i=>n instanceof i);let ub,cb;function sR(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,pg=new WeakMap,D1=new WeakMap,Mm=new WeakMap,Qg=new WeakMap;function aR(n){const e=new Promise((i,s)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(po(n.result)),a()},h=()=>{s(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&P1.set(i,n)}).catch(()=>{}),Qg.set(e,n),e}function lR(n){if(pg.has(n))return;const e=new Promise((i,s)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),a()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});pg.set(n,e)}let mg={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return pg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||D1.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return po(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uR(n){mg=n(mg)}function cR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(Lm(this),e,...i);return D1.set(s,e.sort?e.sort():[e]),po(s)}:oR().includes(n)?function(...e){return n.apply(Lm(this),e),po(P1.get(this))}:function(...e){return po(n.apply(Lm(this),e))}}function fR(n){return typeof n=="function"?cR(n):(n instanceof IDBTransaction&&lR(n),rR(n,sR())?new Proxy(n,mg):n)}function po(n){if(n instanceof IDBRequest)return aR(n);if(Mm.has(n))return Mm.get(n);const e=fR(n);return e!==n&&(Mm.set(n,e),Qg.set(e,n)),e}const Lm=n=>Qg.get(n);function hR(n,e,{blocked:i,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),d=po(h);return s&&h.addEventListener("upgradeneeded",g=>{s(po(h.result),g.oldVersion,g.newVersion,po(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const dR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],Im=new Map;function fb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,a=pR.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(a||dR.includes(i)))return;const u=async function(h,...d){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[i](...d),a&&g.done]))[0]};return Im.set(e,u),u}uR(n=>({...n,get:(e,i,s)=>fb(e,i)||n.get(e,i,s),has:(e,i)=>!!fb(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gR(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function gR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",hb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Xg("@firebase/app"),_R="@firebase/app-compat",vR="@firebase/analytics-compat",yR="@firebase/analytics",bR="@firebase/app-check-compat",wR="@firebase/app-check",SR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",xR="@firebase/data-connect",CR="@firebase/database-compat",OR="@firebase/functions",RR="@firebase/functions-compat",AR="@firebase/installations",MR="@firebase/installations-compat",LR="@firebase/messaging",IR="@firebase/messaging-compat",kR="@firebase/performance",PR="@firebase/performance-compat",DR="@firebase/remote-config",NR="@firebase/remote-config-compat",UR="@firebase/storage",zR="@firebase/storage-compat",jR="@firebase/firestore",BR="@firebase/ai",HR="@firebase/firestore-compat",FR="firebase",qR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",WR={[gg]:"fire-core",[_R]:"fire-core-compat",[yR]:"fire-analytics",[vR]:"fire-analytics-compat",[wR]:"fire-app-check",[bR]:"fire-app-check-compat",[SR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[xR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[OR]:"fire-fn",[RR]:"fire-fn-compat",[AR]:"fire-iid",[MR]:"fire-iid-compat",[LR]:"fire-fcm",[IR]:"fire-fcm-compat",[kR]:"fire-perf",[PR]:"fire-perf-compat",[DR]:"fire-rc",[NR]:"fire-rc-compat",[UR]:"fire-gcs",[zR]:"fire-gcs-compat",[jR]:"fire-fst",[HR]:"fire-fst-compat",[BR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,VR=new Map,vg=new Map;function db(n,e){try{n.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function ha(n){const e=n.name;if(vg.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,n);for(const i of Ih.values())db(i,n);for(const i of VR.values())db(i,n);return!0}function ad(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Ai(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new Ac("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=qR;function N1(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_g,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw mo.create("bad-app-name",{appName:String(a)});if(i||(i=A1()),!i)throw mo.create("no-options");const u=Ih.get(a);if(u){if(fa(i,u.options)&&fa(s,u.config))return u;throw mo.create("duplicate-app",{appName:a})}const h=new JO(a);for(const g of vg.values())h.addComponent(g);const d=new GR(i,s,h);return Ih.set(a,d),d}function $g(n=_g){const e=Ih.get(n);if(!e&&n===_g&&A1())return N1();if(!e)throw mo.create("no-app",{appName:n});return e}function yr(n,e,i){var s;let a=(s=WR[n])!==null&&s!==void 0?s:n;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}ha(new yo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebase-heartbeat-database",KR=1,dc="firebase-heartbeat-store";let km=null;function U1(){return km||(km=hR(YR,KR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dc)}catch(i){console.warn(i)}}}}).catch(n=>{throw mo.create("idb-open",{originalErrorMessage:n.message})})),km}async function XR(n){try{const i=(await U1()).transaction(dc),s=await i.objectStore(dc).get(z1(n));return await i.done,s}catch(e){if(e instanceof us)os.warn(e.message);else{const i=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(i.message)}}}async function pb(n,e){try{const s=(await U1()).transaction(dc,"readwrite");await s.objectStore(dc).put(e,z1(n)),await s.done}catch(i){if(i instanceof us)os.warn(i.message);else{const s=mo.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});os.warn(s.message)}}}function z1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1024,$R=30;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=mb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>$R){const h=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){os.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=mb(),{heartbeatsToSend:s,unsentEntries:a}=eA(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return os.warn(i),""}}}function mb(){return new Date().toISOString().substring(0,10)}function eA(n,e=QR){const i=[];let s=n.slice();for(const a of n){const u=i.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),gb(i)>e){u.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),gb(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zO()?jO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await XR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const a=await this.read();return pb(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const a=await this.read();return pb(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gb(n){return Ah(JSON.stringify({version:2,heartbeats:n})).length}function nA(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n){ha(new yo("platform-logger",e=>new mR(e),"PRIVATE")),ha(new yo("heartbeat",e=>new JR(e),"PRIVATE")),yr(gg,hb,n),yr(gg,hb,"esm2017"),yr("fire-js","")}iA("");var rA="firebase",sA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(rA,sA,"app");var _b={};const vb="@firebase/database",yb="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j1="";function oA(n){j1=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),on(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:hc(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aA(e)}}catch{}return new lA},la=B1("localStorage"),uA=B1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Xg("@firebase/database"),cA=function(){let n=1;return function(){return n++}}(),H1=function(n){const e=KO(n),i=new VO;i.update(e);const s=i.digest();return Vg.encodeByteArray(s)},Mc=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Mc.apply(null,s):typeof s=="object"?e+=on(s):e+=s,e+=" "}return e};let rc=null,bb=!0;const fA=function(n,e){Se(!0,"Can't turn on custom loggers persistently."),gl.logLevel=bt.VERBOSE,rc=gl.log.bind(gl)},Tn=function(...n){if(bb===!0&&(bb=!1,rc===null&&uA.get("logging_enabled")===!0&&fA()),rc){const e=Mc.apply(null,n);rc(e)}},Lc=function(n){return function(...e){Tn(n,...e)}},yg=function(...n){const e="FIREBASE INTERNAL ERROR: "+Mc(...n);gl.error(e)},as=function(...n){const e=`FIREBASE FATAL ERROR: ${Mc(...n)}`;throw gl.error(e),new Error(e)},Fn=function(...n){const e="FIREBASE WARNING: "+Mc(...n);gl.warn(e)},hA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jg=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},dA=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Sl="[MIN_NAME]",da="[MAX_NAME]",ba=function(n,e){if(n===e)return 0;if(n===Sl||e===da)return-1;if(e===Sl||n===da)return 1;{const i=wb(n),s=wb(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},pA=function(n,e){return n===e?0:n<e?-1:1},qu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+on(e))},e_=function(n){if(typeof n!="object"||n===null)return on(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=on(e[s]),i+=":",i+=e_(n[e[s]]);return i+="}",i},F1=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let a=0;a<i;a+=e)a+e>i?s.push(n.substring(a,i)):s.push(n.substring(a,a+e));return s};function xn(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const q1=function(n){Se(!Jg(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let a,u,h,d,g;n===0?(u=0,h=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=d+s,h=Math.round(n*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,h=Math.round(n/Math.pow(2,1-s-i))));const v=[];for(g=i;g;g-=1)v.push(h%2?1:0),h=Math.floor(h/2);for(g=e;g;g-=1)v.push(u%2?1:0),u=Math.floor(u/2);v.push(a?1:0),v.reverse();const b=v.join("");let E="";for(g=0;g<64;g+=8){let S=parseInt(b.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),E=E+S}return E.toLowerCase()},mA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _A(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const vA=new RegExp("^-?(0*)\\d{1,10}$"),yA=-2147483648,bA=2147483647,wb=function(n){if(vA.test(n)){const e=Number(n);if(e>=yA&&e<=bA)return e}return null},Pl=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Fn("Exception was thrown by user callback.",i),e},Math.floor(0))}},wA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sc=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Ai(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Fn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fn(e)}}class bh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="5",W1="v",V1="s",Z1="r",G1="f",Y1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K1="ls",X1="p",bg="ac",Q1="websocket",$1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,i,s,a,u=!1,h="",d=!1,g=!1,v=null){this.secure=i,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=g,this.emulatorOptions=v,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=la.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&la.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function TA(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function eS(n,e,i){Se(typeof e=="string","typeof type must == string"),Se(typeof i=="object","typeof params must == object");let s;if(e===Q1)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===$1)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TA(n)&&(i.ns=n.namespace);const a=[];return xn(i,(u,h)=>{a.push(u+"="+h)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.counters_={}}incrementCounter(e,i=1){Sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return CO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm={},Dm={};function n_(n){const e=n.toString();return Pm[e]||(Pm[e]=new xA),Pm[e]}function CA(n,e){const i=n.toString();return Dm[i]||(Dm[i]=e()),Dm[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Pl(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="start",RA="close",AA="pLPCommand",MA="pRTLPCB",tS="id",nS="pw",iS="ser",LA="cb",IA="seg",kA="ts",PA="d",DA="dframe",rS=1870,sS=30,NA=rS-sS,UA=25e3,zA=3e4;class dl{constructor(e,i,s,a,u,h,d){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lc(e),this.stats_=n_(i),this.urlFn=g=>(this.appCheckToken&&(g[bg]=this.appCheckToken),eS(i,$1,g))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new OA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zA)),dA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new i_((...u)=>{const[h,d,g,v,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Sb)this.id=d,this.password=g;else if(h===RA)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[Sb]="t",s[iS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[LA]=this.scriptTagHolder.uniqueCallbackIdentifier),s[W1]=t_,this.transportSessionId&&(s[V1]=this.transportSessionId),this.lastSessionId&&(s[K1]=this.lastSessionId),this.applicationId&&(s[X1]=this.applicationId),this.appCheckToken&&(s[bg]=this.appCheckToken),typeof location<"u"&&location.hostname&&Y1.test(location.hostname)&&(s[Z1]=G1);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dl.forceAllow_=!0}static forceDisallow(){dl.forceDisallow_=!0}static isAvailable(){return dl.forceAllow_?!0:!dl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mA()&&!gA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=on(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=x1(i),a=F1(s,NA);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[DA]="t",s[tS]=e,s[nS]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=on(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class i_{constructor(e,i,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cA(),window[AA+this.uniqueCallbackIdentifier]=e,window[MA+this.uniqueCallbackIdentifier]=i,this.myIFrame=i_.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){Tn("frame writing exception"),d.stack&&Tn(d.stack),Tn(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Tn("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[tS]=this.myID,e[nS]=this.myPW,e[iS]=this.currentSerial;let i=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sS+s.length<=rS;){const h=this.pendingSegs.shift();s=s+"&"+IA+a+"="+h.seg+"&"+kA+a+"="+h.ts+"&"+PA+a+"="+h.d,a++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},a=setTimeout(s,Math.floor(UA)),u=()=>{clearTimeout(a),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{Tn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=16384,BA=45e3;let kh=null;typeof MozWebSocket<"u"?kh=MozWebSocket:typeof WebSocket<"u"&&(kh=WebSocket);class Zi{constructor(e,i,s,a,u,h,d){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lc(this.connId),this.stats_=n_(i),this.connURL=Zi.connectionURL_(i,h,d,a,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,a,u){const h={};return h[W1]=t_,typeof location<"u"&&location.hostname&&Y1.test(location.hostname)&&(h[Z1]=G1),i&&(h[V1]=i),s&&(h[K1]=s),a&&(h[bg]=a),u&&(h[X1]=u),eS(e,Q1,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,la.set("previous_websocket_failure",!0);try{let s;UO(),this.mySock=new kh(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Zi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&kh!==null&&!Zi.forceDisallow_}static previouslyFailed(){return la.isInMemoryStorage||la.get("previous_websocket_failure")===!0}markConnectionHealthy(){la.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=hc(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Se(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=on(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=F1(i,jA);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BA))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zi.responsesRequiredToBeHealthy=2;Zi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static get ALL_TRANSPORTS(){return[dl,Zi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Zi&&Zi.isAvailable();let s=i&&!Zi.previouslyFailed();if(e.webSocketOnly&&(i||Fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zi];else{const a=this.transports_=[];for(const u of pc.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);pc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=6e4,FA=5e3,qA=10*1024,WA=100*1024,Nm="t",Eb="d",VA="s",Tb="r",ZA="e",xb="o",Cb="a",Ob="n",Rb="p",GA="h";class YA{constructor(e,i,s,a,u,h,d,g,v,b){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=g,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lc("c:"+this.id+":"),this.transportManager_=new pc(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=sc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nm in e){const i=e[Nm];i===Cb?this.upgradeIfSecondaryHealthy_():i===Tb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===xb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=qu("t",e),s=qu("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Cb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ob,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=qu("t",e),s=qu("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=qu(Nm,e);if(Eb in e){const s=e[Eb];if(i===GA){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(i===Ob){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===VA?this.onConnectionShutdown_(s):i===Tb?this.onReset_(s):i===ZA?yg("Server Error: "+s):i===xb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yg("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),t_!==s&&Fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),sc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(FA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(la.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{put(e,i,s,a){}merge(e,i,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.allowedEvents_=e,this.listeners_={},Se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const a=this.getInitialEvent(e);a&&i.apply(s,a)}off(e,i,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let u=0;u<a.length;u++)if(a[u].callback===i&&(!s||s===a[u].context)){a.splice(u,1);return}}validateEventType_(e){Se(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends aS{static getInstance(){return new Ph}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Se(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=32,Mb=768;class wt{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function ht(){return new wt("")}function st(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function bo(n){return n.pieces_.length-n.pieceNum_}function At(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new wt(n.pieces_,e)}function r_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function KA(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function mc(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function lS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new wt(e,0)}function Ft(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof wt)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&i.push(s[a])}return new wt(i,0)}function rt(n){return n.pieceNum_>=n.pieces_.length}function Hn(n,e){const i=st(n),s=st(e);if(i===null)return e;if(i===s)return Hn(At(n),At(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function XA(n,e){const i=mc(n,0),s=mc(e,0);for(let a=0;a<i.length&&a<s.length;a++){const u=ba(i[a],s[a]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function uS(n,e){if(bo(n)!==bo(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function Mi(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(bo(n)>bo(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class QA{constructor(e,i){this.errorPrefix_=i,this.parts_=mc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=od(this.parts_[s]);cS(this)}}function $A(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=od(e),cS(n)}function JA(n){const e=n.parts_.pop();n.byteLength_-=od(e),n.parts_.length>0&&(n.byteLength_-=1)}function cS(n){if(n.byteLength_>Mb)throw new Error(n.errorPrefix_+"has a key path longer than "+Mb+" bytes ("+n.byteLength_+").");if(n.parts_.length>Ab)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ab+") or object contains a cycle "+aa(n))}function aa(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends aS{static getInstance(){return new s_}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return Se(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=1e3,e2=60*5*1e3,Lb=30*1e3,t2=1.3,n2=3e4,i2="server_kill",Ib=3;class rs extends oS{constructor(e,i,s,a,u,h,d,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=g,this.id=rs.nextPersistentConnectionId_++,this.log_=Lc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wu,this.maxReconnectDelay_=e2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");s_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ph.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const a=++this.requestNumber_,u={r:a,a:e,b:i};this.log_(on(u)),Se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const i=new Rc,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,a){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),Se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Se(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:i,query:e,tag:s};this.listens.get(h).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);const u={p:s},h="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(h,u,d=>{const g=d.d,v=d.s;rs.warnOnListenWarnings_(g,i),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",d),v!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(v,g))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Sr(e,"w")){const s=wl(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=qO(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,a=>{const u=a.s,h=a.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),Se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,i)}sendUnlisten_(e,i,s,a){this.log_("Unlisten on "+e+" for "+i);const u={p:e},h="n";a&&(u.q=s,u.t=a),this.sendRequest(h,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,a){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(e,i,s,a){this.putInternal("p",e,i,s,a)}merge(e,i,s,a){this.putInternal("m",e,i,s,a)}putInternal(e,i,s,a,u){this.initConnection_();const h={p:i,d:s};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+on(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):yg("Unrecognized action received from server: "+on(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>n2&&(this.reconnectDelay_=Wu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*t2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+rs.nextConnectionId_++,u=this.lastSessionId;let h=!1,d=null;const g=function(){d?d.close():(h=!0,s())},v=function(E){Se(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(E)};this.realtime_={close:g,sendRequest:v};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,S]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?Tn("getToken() completed but was canceled"):(Tn("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=S&&S.token,d=new YA(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,x=>{Fn(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(i2)},u))}catch(E){this.log_("Failed to get token: "+E),h||(this.repoInfo_.nodeAdmin&&Fn(E),g())}}}interrupt(e){Tn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dg(this.interruptReasons_)&&(this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>e_(u)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,i){const s=new wt(e).toString();let a;if(this.listens.has(s)){const u=this.listens.get(s);a=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,i){Tn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ib&&(this.reconnectDelay_=Lb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Tn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ib&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+j1.replace(/\./g,"-")]=1,Kg()?e["framework.cordova"]=1:I1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ph.getInstance().currentlyOnline();return dg(this.interruptReasons_)&&e}}rs.nextPersistentConnectionId_=0;rs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new tt(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new tt(Sl,e),a=new tt(Sl,i);return this.compare(s,a)!==0}minPost(){return tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh;class fS extends ld{static get __EMPTY_NODE(){return uh}static set __EMPTY_NODE(e){uh=e}compare(e,i){return ba(e.name,i.name)}isDefinedOn(e){throw Il("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return tt.MIN}maxPost(){return new tt(da,uh)}makePost(e,i){return Se(typeof e=="string","KeyIndex indexValue must always be a string."),new tt(e,uh)}toString(){return".key"}}const _l=new fS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,i,s,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?s(e.key,i):1,a&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mn{constructor(e,i,s,a,u){this.key=e,this.value=i,this.color=s??mn.RED,this.left=a??$n.EMPTY_NODE,this.right=u??$n.EMPTY_NODE}copy(e,i,s,a,u){return new mn(e??this.key,i??this.value,s??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let a=this;const u=s(e,a.key);return u<0?a=a.copy(null,null,null,a.left.insert(e,i,s),null):u===0?a=a.copy(null,i,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,i,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return $n.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,a;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return $n.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mn.RED=!0;mn.BLACK=!1;class r2{copy(e,i,s,a,u){return this}insert(e,i,s){return new mn(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $n{constructor(e,i=$n.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new $n(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,mn.BLACK,null,null))}remove(e){return new $n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mn.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,a=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ch(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new ch(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new ch(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new ch(this.root_,null,this.comparator_,!0,e)}}$n.EMPTY_NODE=new r2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n,e){return ba(n.name,e.name)}function o_(n,e){return ba(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg;function o2(n){wg=n}const hS=function(n){return typeof n=="number"?"number:"+q1(n):"string:"+n},dS=function(n){if(n.isLeafNode()){const e=n.val();Se(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sr(e,".sv"),"Priority must be a string or number.")}else Se(n===wg||n.isEmpty(),"priority of unexpected type.");Se(n===wg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kb;class pn{static set __childrenNodeConstructor(e){kb=e}static get __childrenNodeConstructor(){return kb}constructor(e,i=pn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Se(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rt(e)?this:st(e)===".priority"?this.priorityNode_:pn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:pn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=st(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(Se(s!==".priority"||bo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,pn.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hS(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=q1(this.value_):e+=this.value_,this.lazyHash_=H1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pn.__childrenNodeConstructor?-1:(Se(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,a=pn.VALUE_TYPE_ORDER.indexOf(i),u=pn.VALUE_TYPE_ORDER.indexOf(s);return Se(a>=0,"Unknown leaf type: "+i),Se(u>=0,"Unknown leaf type: "+s),a===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}pn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pS,mS;function a2(n){pS=n}function l2(n){mS=n}class u2 extends ld{compare(e,i){const s=e.node.getPriority(),a=i.node.getPriority(),u=s.compareTo(a);return u===0?ba(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(da,new pn("[PRIORITY-POST]",mS))}makePost(e,i){const s=pS(e);return new tt(i,new pn("[PRIORITY-POST]",s))}toString(){return".priority"}}const qt=new u2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=Math.log(2);class f2{constructor(e){const i=u=>parseInt(Math.log(u)/c2,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dh=function(n,e,i,s){n.sort(e);const a=function(g,v){const b=v-g;let E,S;if(b===0)return null;if(b===1)return E=n[g],S=i?i(E):E,new mn(S,E.node,mn.BLACK,null,null);{const x=parseInt(b/2,10)+g,R=a(g,x),D=a(x+1,v);return E=n[x],S=i?i(E):E,new mn(S,E.node,mn.BLACK,R,D)}},u=function(g){let v=null,b=null,E=n.length;const S=function(R,D){const Y=E-R,V=E;E-=R;const J=a(Y+1,V),$=n[Y],ne=i?i($):$;x(new mn(ne,$.node,D,null,J))},x=function(R){v?(v.left=R,v=R):(b=R,v=R)};for(let R=0;R<g.count;++R){const D=g.nextBitIsOne(),Y=Math.pow(2,g.count-(R+1));D?S(Y,mn.BLACK):(S(Y,mn.BLACK),S(Y,mn.RED))}return b},h=new f2(n.length),d=u(h);return new $n(s||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um;const cl={};class es{static get Default(){return Se(cl&&qt,"ChildrenNode.ts has not been loaded"),Um=Um||new es({".priority":cl},{".priority":qt}),Um}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=wl(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof $n?i:null}hasIndex(e){return Sr(this.indexSet_,e.toString())}addIndex(e,i){Se(e!==_l,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const u=i.getIterator(tt.Wrap);let h=u.getNext();for(;h;)a=a||e.isDefinedOn(h.node),s.push(h),h=u.getNext();let d;a?d=Dh(s,e.getCompare()):d=cl;const g=e.toString(),v=Object.assign({},this.indexSet_);v[g]=e;const b=Object.assign({},this.indexes_);return b[g]=d,new es(b,v)}addToIndexes(e,i){const s=Lh(this.indexes_,(a,u)=>{const h=wl(this.indexSet_,u);if(Se(h,"Missing index implementation for "+u),a===cl)if(h.isDefinedOn(e.node)){const d=[],g=i.getIterator(tt.Wrap);let v=g.getNext();for(;v;)v.name!==e.name&&d.push(v),v=g.getNext();return d.push(e),Dh(d,h.getCompare())}else return cl;else{const d=i.get(e.name);let g=a;return d&&(g=g.remove(new tt(e.name,d))),g.insert(e,e.node)}});return new es(s,this.indexSet_)}removeFromIndexes(e,i){const s=Lh(this.indexes_,a=>{if(a===cl)return a;{const u=i.get(e.name);return u?a.remove(new tt(e.name,u)):a}});return new es(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;class He{static get EMPTY_NODE(){return Vu||(Vu=new He(new $n(o_),null,es.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&dS(this.priorityNode_),this.children_.isEmpty()&&Se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vu}updatePriority(e){return this.children_.isEmpty()?this:new He(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Vu:i}}getChild(e){const i=st(e);return i===null?this:this.getImmediateChild(i).getChild(At(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Se(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new tt(e,i);let a,u;i.isEmpty()?(a=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const h=a.isEmpty()?Vu:this.priorityNode_;return new He(a,h,u)}}updateChild(e,i){const s=st(e);if(s===null)return i;{Se(st(e)!==".priority"||bo(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(At(e),i);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,a=0,u=!0;if(this.forEachChild(qt,(h,d)=>{i[h]=d.val(e),s++,u&&He.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):u=!1}),!e&&u&&a<2*s){const h=[];for(const d in i)h[d]=i[d];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+hS(this.getPriority().val())+":"),this.forEachChild(qt,(i,s)=>{const a=s.hash();a!==""&&(e+=":"+i+":"+a)}),this.lazyHash_=e===""?"":H1(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const a=this.resolveIndex_(s);if(a){const u=a.getPredecessorKey(new tt(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new tt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new tt(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>i(a.name,a.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,tt.Wrap);let u=a.peek();for(;u!=null&&i.compare(u,e)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let u=a.peek();for(;u!=null&&i.compare(u,e)>0;)a.getNext(),u=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ic?-1:0}withIndex(e){if(e===_l||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new He(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_l||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(qt),a=i.getIterator(qt);let u=s.getNext(),h=a.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=s.getNext(),h=a.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===_l?null:this.indexMap_.get(e.toString())}}He.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class h2 extends He{constructor(){super(new $n(o_),He.EMPTY_NODE,es.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return He.EMPTY_NODE}isEmpty(){return!1}}const Ic=new h2;Object.defineProperties(tt,{MIN:{value:new tt(Sl,He.EMPTY_NODE)},MAX:{value:new tt(da,Ic)}});fS.__EMPTY_NODE=He.EMPTY_NODE;pn.__childrenNodeConstructor=He;o2(Ic);l2(Ic);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=!0;function sn(n,e=null){if(n===null)return He.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Se(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new pn(i,sn(e))}if(!(n instanceof Array)&&d2){const i=[];let s=!1;if(xn(n,(h,d)=>{if(h.substring(0,1)!=="."){const g=sn(d);g.isEmpty()||(s=s||!g.getPriority().isEmpty(),i.push(new tt(h,g)))}}),i.length===0)return He.EMPTY_NODE;const u=Dh(i,s2,h=>h.name,o_);if(s){const h=Dh(i,qt.getCompare());return new He(u,sn(e),new es({".priority":h},{".priority":qt}))}else return new He(u,sn(e),es.Default)}else{let i=He.EMPTY_NODE;return xn(n,(s,a)=>{if(Sr(n,s)&&s.substring(0,1)!=="."){const u=sn(a);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(sn(e))}}a2(sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2 extends ld{constructor(e){super(),this.indexPath_=e,Se(!rt(e)&&st(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),a=this.extractChild(i.node),u=s.compareTo(a);return u===0?ba(e.name,i.name):u}makePost(e,i){const s=sn(e),a=He.EMPTY_NODE.updateChild(this.indexPath_,s);return new tt(i,a)}maxPost(){const e=He.EMPTY_NODE.updateChild(this.indexPath_,Ic);return new tt(da,e)}toString(){return mc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends ld{compare(e,i){const s=e.node.compareTo(i.node);return s===0?ba(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(e,i){const s=sn(e);return new tt(i,s)}toString(){return".value"}}const g2=new m2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n){return{type:"value",snapshotNode:n}}function El(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function gc(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function _c(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function _2(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.index_=e}updateChild(e,i,s,a,u,h){Se(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(a).equals(s.getChild(a))&&d.isEmpty()===s.isEmpty()||(h!=null&&(s.isEmpty()?e.hasChild(i)?h.trackChildChange(gc(i,d)):Se(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(El(i,s)):h.trackChildChange(_c(i,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(qt,(a,u)=>{i.hasChild(a)||s.trackChildChange(gc(a,u))}),i.isLeafNode()||i.forEachChild(qt,(a,u)=>{if(e.hasChild(a)){const h=e.getImmediateChild(a);h.equals(u)||s.trackChildChange(_c(a,u,h))}else s.trackChildChange(El(a,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.indexedFilter_=new a_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vc.getStartPost_(e),this.endPost_=vc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,a,u,h){return this.matches(new tt(i,s))||(s=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,a,u,h)}updateFullNode(e,i,s){i.isLeafNode()&&(i=He.EMPTY_NODE);let a=i.withIndex(this.index_);a=a.updatePriority(He.EMPTY_NODE);const u=this;return i.forEachChild(qt,(h,d)=>{u.matches(new tt(h,d))||(a=a.updateImmediateChild(h,He.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new vc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,a,u,h){return this.rangedFilter_.matches(new tt(i,s))||(s=He.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,a,u,h):this.fullLimitUpdateChild_(e,i,s,u,h)}updateFullNode(e,i,s){let a;if(i.isLeafNode()||i.isEmpty())a=He.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){a=He.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))a=a.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{a=i.withIndex(this.index_),a=a.updatePriority(He.EMPTY_NODE);let u;this.reverse_?u=a.getReverseIterator(this.index_):u=a.getIterator(this.index_);let h=0;for(;u.hasNext();){const d=u.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:a=a.updateImmediateChild(d.name,He.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,a,u){let h;if(this.reverse_){const E=this.index_.getCompare();h=(S,x)=>E(x,S)}else h=this.index_.getCompare();const d=e;Se(d.numChildren()===this.limit_,"");const g=new tt(i,s),v=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(d.hasChild(i)){const E=d.getImmediateChild(i);let S=a.getChildAfterChild(this.index_,v,this.reverse_);for(;S!=null&&(S.name===i||d.hasChild(S.name));)S=a.getChildAfterChild(this.index_,S,this.reverse_);const x=S==null?1:h(S,g);if(b&&!s.isEmpty()&&x>=0)return u!=null&&u.trackChildChange(_c(i,s,E)),d.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(gc(i,E));const D=d.updateImmediateChild(i,He.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u!=null&&u.trackChildChange(El(S.name,S.node)),D.updateImmediateChild(S.name,S.node)):D}}else return s.isEmpty()?e:b&&h(v,g)>=0?(u!=null&&(u.trackChildChange(gc(v.name,v.node)),u.trackChildChange(El(i,s))),d.updateImmediateChild(i,s).updateImmediateChild(v.name,He.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sl}hasEnd(){return this.endSet_}getIndexEndValue(){return Se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:da}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qt}copy(){const e=new l_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function y2(n){return n.loadsAllData()?new a_(n.getIndex()):n.hasLimit()?new v2(n):new vc(n)}function Pb(n){const e={};if(n.isDefault())return e;let i;if(n.index_===qt?i="$priority":n.index_===g2?i="$value":n.index_===_l?i="$key":(Se(n.index_ instanceof p2,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=on(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=on(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+on(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=on(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+on(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Db(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==qt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends oS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Lc("p:rest:"),this.listens_={}}listen(e,i,s,a){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const h=Nh.getListenId_(e,s),d={};this.listens_[h]=d;const g=Pb(e._queryParams);this.restRequest_(u+".json",g,(v,b)=>{let E=b;if(v===404&&(E=null,v=null),v===null&&this.onDataUpdate_(u,E,!1,s),wl(this.listens_,h)===d){let S;v?v===401?S="permission_denied":S="rest_error:"+v:S="ok",a(S,null)}})}unlisten(e,i){const s=Nh.getListenId_(e,i);delete this.listens_[s]}get(e){const i=Pb(e._queryParams),s=e._path.toString(),a=new Rc;return this.restRequest_(s+".json",i,(u,h)=>{let d=h;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(i.auth=a.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kl(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let g=null;if(d.status>=200&&d.status<300){try{g=hc(d.responseText)}catch{Fn("Failed to parse JSON response for "+h+": "+d.responseText)}s(null,g)}else d.status!==401&&d.status!==404&&Fn("Got unsuccessful REST response for "+h+" Status: "+d.status),s(d.status);s=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.rootNode_=He.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){return{value:null,children:new Map}}function _S(n,e,i){if(rt(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=st(e);n.children.has(s)||n.children.set(s,Uh());const a=n.children.get(s);e=At(e),_S(a,e,i)}}function Sg(n,e,i){n.value!==null?i(e,n.value):w2(n,(s,a)=>{const u=new wt(e.toString()+"/"+s);Sg(a,u,i)})}function w2(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&xn(this.last_,(s,a)=>{i[s]=i[s]-a}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=10*1e3,E2=30*1e3,T2=5*60*1e3;class x2{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new S2(e);const s=Nb+(E2-Nb)*Math.random();sc(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;xn(e,(a,u)=>{u>0&&Sr(this.statsToReport_,a)&&(i[a]=u,s=!0)}),s&&this.server_.reportStats(i),sc(this.reportStats_.bind(this),Math.floor(Math.random()*2*T2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gi||(Gi={}));function u_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function c_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function f_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=Gi.ACK_USER_WRITE,this.source=u_()}operationForChild(e){if(rt(this.path)){if(this.affectedTree.value!=null)return Se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new wt(e));return new zh(ht(),i,this.revert)}}else return Se(st(this.path)===e,"operationForChild called for unrelated child."),new zh(At(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.source=e,this.path=i,this.type=Gi.LISTEN_COMPLETE}operationForChild(e){return rt(this.path)?new yc(this.source,ht()):new yc(this.source,At(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=Gi.OVERWRITE}operationForChild(e){return rt(this.path)?new pa(this.source,ht(),this.snap.getImmediateChild(e)):new pa(this.source,At(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=Gi.MERGE}operationForChild(e){if(rt(this.path)){const i=this.children.subtree(new wt(e));return i.isEmpty()?null:i.value?new pa(this.source,ht(),i.value):new Tl(this.source,ht(),i)}else return Se(st(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tl(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rt(e))return this.isFullyInitialized()&&!this.filtered_;const i=st(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function O2(n,e,i,s){const a=[],u=[];return e.forEach(h=>{h.type==="child_changed"&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(_2(h.childName,h.snapshotNode))}),Zu(n,a,"child_removed",e,s,i),Zu(n,a,"child_added",e,s,i),Zu(n,a,"child_moved",u,s,i),Zu(n,a,"child_changed",e,s,i),Zu(n,a,"value",e,s,i),a}function Zu(n,e,i,s,a,u){const h=s.filter(d=>d.type===i);h.sort((d,g)=>A2(n,d,g)),h.forEach(d=>{const g=R2(n,d,u);a.forEach(v=>{v.respondsTo(d.type)&&e.push(v.createEvent(g,n.query_))})})}function R2(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function A2(n,e,i){if(e.childName==null||i.childName==null)throw Il("Should only compare child_ events.");const s=new tt(e.childName,e.snapshotNode),a=new tt(i.childName,i.snapshotNode);return n.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n,e){return{eventCache:n,serverCache:e}}function oc(n,e,i,s){return ud(new wo(e,i,s),n.serverCache)}function vS(n,e,i,s){return ud(n.eventCache,new wo(e,i,s))}function jh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ma(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm;const M2=()=>(zm||(zm=new $n(pA)),zm);class Rt{static fromObject(e){let i=new Rt(null);return xn(e,(s,a)=>{i=i.set(new wt(s),a)}),i}constructor(e,i=M2()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:ht(),value:this.value};if(rt(e))return null;{const s=st(e),a=this.children.get(s);if(a!==null){const u=a.findRootMostMatchingPathAndValue(At(e),i);return u!=null?{path:Ft(new wt(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rt(e))return this;{const i=st(e),s=this.children.get(i);return s!==null?s.subtree(At(e)):new Rt(null)}}set(e,i){if(rt(e))return new Rt(i,this.children);{const s=st(e),u=(this.children.get(s)||new Rt(null)).set(At(e),i),h=this.children.insert(s,u);return new Rt(this.value,h)}}remove(e){if(rt(e))return this.children.isEmpty()?new Rt(null):new Rt(null,this.children);{const i=st(e),s=this.children.get(i);if(s){const a=s.remove(At(e));let u;return a.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,a),this.value===null&&u.isEmpty()?new Rt(null):new Rt(this.value,u)}else return this}}get(e){if(rt(e))return this.value;{const i=st(e),s=this.children.get(i);return s?s.get(At(e)):null}}setTree(e,i){if(rt(e))return i;{const s=st(e),u=(this.children.get(s)||new Rt(null)).setTree(At(e),i);let h;return u.isEmpty()?h=this.children.remove(s):h=this.children.insert(s,u),new Rt(this.value,h)}}fold(e){return this.fold_(ht(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((a,u)=>{s[a]=u.fold_(Ft(e,a),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,ht(),i)}findOnPath_(e,i,s){const a=this.value?s(i,this.value):!1;if(a)return a;if(rt(e))return null;{const u=st(e),h=this.children.get(u);return h?h.findOnPath_(At(e),Ft(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,ht(),i)}foreachOnPath_(e,i,s){if(rt(e))return this;{this.value&&s(i,this.value);const a=st(e),u=this.children.get(a);return u?u.foreachOnPath_(At(e),Ft(i,a),s):new Rt(null)}}foreach(e){this.foreach_(ht(),e)}foreach_(e,i){this.children.inorderTraversal((s,a)=>{a.foreach_(Ft(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.writeTree_=e}static empty(){return new Ki(new Rt(null))}}function ac(n,e,i){if(rt(e))return new Ki(new Rt(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let u=s.value;const h=Hn(a,e);return u=u.updateChild(h,i),new Ki(n.writeTree_.set(a,u))}else{const a=new Rt(i),u=n.writeTree_.setTree(e,a);return new Ki(u)}}}function Eg(n,e,i){let s=n;return xn(i,(a,u)=>{s=ac(s,Ft(e,a),u)}),s}function Ub(n,e){if(rt(e))return Ki.empty();{const i=n.writeTree_.setTree(e,new Rt(null));return new Ki(i)}}function Tg(n,e){return wa(n,e)!=null}function wa(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(Hn(i.path,e)):null}function zb(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(qt,(s,a)=>{e.push(new tt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new tt(s,a.value))}),e}function go(n,e){if(rt(e))return n;{const i=wa(n,e);return i!=null?new Ki(new Rt(i)):new Ki(n.writeTree_.subtree(e))}}function xg(n){return n.writeTree_.isEmpty()}function xl(n,e){return yS(ht(),n.writeTree_,e)}function yS(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((a,u)=>{a===".priority"?(Se(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=yS(Ft(n,a),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(Ft(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n,e){return ES(e,n)}function L2(n,e,i,s,a){Se(s>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:a}),a&&(n.visibleWrites=ac(n.visibleWrites,e,i)),n.lastWriteId=s}function I2(n,e,i,s){Se(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=Eg(n.visibleWrites,e,i),n.lastWriteId=s}function k2(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function P2(n,e){const i=n.allWrites.findIndex(d=>d.writeId===e);Se(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let a=s.visible,u=!1,h=n.allWrites.length-1;for(;a&&h>=0;){const d=n.allWrites[h];d.visible&&(h>=i&&D2(d,s.path)?a=!1:Mi(s.path,d.path)&&(u=!0)),h--}if(a){if(u)return N2(n),!0;if(s.snap)n.visibleWrites=Ub(n.visibleWrites,s.path);else{const d=s.children;xn(d,g=>{n.visibleWrites=Ub(n.visibleWrites,Ft(s.path,g))})}return!0}else return!1}function D2(n,e){if(n.snap)return Mi(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Mi(Ft(n.path,i),e))return!0;return!1}function N2(n){n.visibleWrites=bS(n.allWrites,U2,ht()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function U2(n){return n.visible}function bS(n,e,i){let s=Ki.empty();for(let a=0;a<n.length;++a){const u=n[a];if(e(u)){const h=u.path;let d;if(u.snap)Mi(i,h)?(d=Hn(i,h),s=ac(s,d,u.snap)):Mi(h,i)&&(d=Hn(h,i),s=ac(s,ht(),u.snap.getChild(d)));else if(u.children){if(Mi(i,h))d=Hn(i,h),s=Eg(s,d,u.children);else if(Mi(h,i))if(d=Hn(h,i),rt(d))s=Eg(s,ht(),u.children);else{const g=wl(u.children,st(d));if(g){const v=g.getChild(At(d));s=ac(s,ht(),v)}}}else throw Il("WriteRecord should have .snap or .children")}}return s}function wS(n,e,i,s,a){if(!s&&!a){const u=wa(n.visibleWrites,e);if(u!=null)return u;{const h=go(n.visibleWrites,e);if(xg(h))return i;if(i==null&&!Tg(h,ht()))return null;{const d=i||He.EMPTY_NODE;return xl(h,d)}}}else{const u=go(n.visibleWrites,e);if(!a&&xg(u))return i;if(!a&&i==null&&!Tg(u,ht()))return null;{const h=function(v){return(v.visible||a)&&(!s||!~s.indexOf(v.writeId))&&(Mi(v.path,e)||Mi(e,v.path))},d=bS(n.allWrites,h,e),g=i||He.EMPTY_NODE;return xl(d,g)}}}function z2(n,e,i){let s=He.EMPTY_NODE;const a=wa(n.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(qt,(u,h)=>{s=s.updateImmediateChild(u,h)}),s;if(i){const u=go(n.visibleWrites,e);return i.forEachChild(qt,(h,d)=>{const g=xl(go(u,new wt(h)),d);s=s.updateImmediateChild(h,g)}),zb(u).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}else{const u=go(n.visibleWrites,e);return zb(u).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}}function j2(n,e,i,s,a){Se(s||a,"Either existingEventSnap or existingServerSnap must exist");const u=Ft(e,i);if(Tg(n.visibleWrites,u))return null;{const h=go(n.visibleWrites,u);return xg(h)?a.getChild(i):xl(h,a.getChild(i))}}function B2(n,e,i,s){const a=Ft(e,i),u=wa(n.visibleWrites,a);if(u!=null)return u;if(s.isCompleteForChild(i)){const h=go(n.visibleWrites,a);return xl(h,s.getNode().getImmediateChild(i))}else return null}function H2(n,e){return wa(n.visibleWrites,e)}function F2(n,e,i,s,a,u,h){let d;const g=go(n.visibleWrites,e),v=wa(g,ht());if(v!=null)d=v;else if(i!=null)d=xl(g,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const b=[],E=h.getCompare(),S=u?d.getReverseIteratorFrom(s,h):d.getIteratorFrom(s,h);let x=S.getNext();for(;x&&b.length<a;)E(x,s)!==0&&b.push(x),x=S.getNext();return b}else return[]}function q2(){return{visibleWrites:Ki.empty(),allWrites:[],lastWriteId:-1}}function Bh(n,e,i,s){return wS(n.writeTree,n.treePath,e,i,s)}function h_(n,e){return z2(n.writeTree,n.treePath,e)}function jb(n,e,i,s){return j2(n.writeTree,n.treePath,e,i,s)}function Hh(n,e){return H2(n.writeTree,Ft(n.treePath,e))}function W2(n,e,i,s,a,u){return F2(n.writeTree,n.treePath,e,i,s,a,u)}function d_(n,e,i){return B2(n.writeTree,n.treePath,e,i)}function SS(n,e){return ES(Ft(n.treePath,e),n.writeTree)}function ES(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;Se(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Se(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const u=a.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,_c(s,e.snapshotNode,a.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,gc(s,a.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,El(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,_c(s,e.snapshotNode,a.oldSnap));else throw Il("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const TS=new Z2;class p_{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new wo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return d_(this.writes_,e,s)}}getChildAfterChild(e,i,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ma(this.viewCache_),u=W2(this.writes_,a,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){return{filter:n}}function Y2(n,e){Se(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Se(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function K2(n,e,i,s,a){const u=new V2;let h,d;if(i.type===Gi.OVERWRITE){const v=i;v.source.fromUser?h=Cg(n,e,v.path,v.snap,s,a,u):(Se(v.source.fromServer,"Unknown source."),d=v.source.tagged||e.serverCache.isFiltered()&&!rt(v.path),h=Fh(n,e,v.path,v.snap,s,a,d,u))}else if(i.type===Gi.MERGE){const v=i;v.source.fromUser?h=Q2(n,e,v.path,v.children,s,a,u):(Se(v.source.fromServer,"Unknown source."),d=v.source.tagged||e.serverCache.isFiltered(),h=Og(n,e,v.path,v.children,s,a,d,u))}else if(i.type===Gi.ACK_USER_WRITE){const v=i;v.revert?h=eM(n,e,v.path,s,a,u):h=$2(n,e,v.path,v.affectedTree,s,a,u)}else if(i.type===Gi.LISTEN_COMPLETE)h=J2(n,e,i.path,s,u);else throw Il("Unknown operation type: "+i.type);const g=u.getChanges();return X2(e,h,g),{viewCache:h,changes:g}}function X2(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=jh(n);(i.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(gS(jh(e)))}}function xS(n,e,i,s,a,u){const h=e.eventCache;if(Hh(s,i)!=null)return e;{let d,g;if(rt(i))if(Se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=ma(e),b=v instanceof He?v:He.EMPTY_NODE,E=h_(s,b);d=n.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const v=Bh(s,ma(e));d=n.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const v=st(i);if(v===".priority"){Se(bo(i)===1,"Can't have a priority with additional path components");const b=h.getNode();g=e.serverCache.getNode();const E=jb(s,i,b,g);E!=null?d=n.filter.updatePriority(b,E):d=h.getNode()}else{const b=At(i);let E;if(h.isCompleteForChild(v)){g=e.serverCache.getNode();const S=jb(s,i,h.getNode(),g);S!=null?E=h.getNode().getImmediateChild(v).updateChild(b,S):E=h.getNode().getImmediateChild(v)}else E=d_(s,v,e.serverCache);E!=null?d=n.filter.updateChild(h.getNode(),v,E,b,a,u):d=h.getNode()}}return oc(e,d,h.isFullyInitialized()||rt(i),n.filter.filtersNodes())}}function Fh(n,e,i,s,a,u,h,d){const g=e.serverCache;let v;const b=h?n.filter:n.filter.getIndexedFilter();if(rt(i))v=b.updateFullNode(g.getNode(),s,null);else if(b.filtersNodes()&&!g.isFiltered()){const x=g.getNode().updateChild(i,s);v=b.updateFullNode(g.getNode(),x,null)}else{const x=st(i);if(!g.isCompleteForPath(i)&&bo(i)>1)return e;const R=At(i),Y=g.getNode().getImmediateChild(x).updateChild(R,s);x===".priority"?v=b.updatePriority(g.getNode(),Y):v=b.updateChild(g.getNode(),x,Y,R,TS,null)}const E=vS(e,v,g.isFullyInitialized()||rt(i),b.filtersNodes()),S=new p_(a,E,u);return xS(n,E,i,a,S,d)}function Cg(n,e,i,s,a,u,h){const d=e.eventCache;let g,v;const b=new p_(a,e,u);if(rt(i))v=n.filter.updateFullNode(e.eventCache.getNode(),s,h),g=oc(e,v,!0,n.filter.filtersNodes());else{const E=st(i);if(E===".priority")v=n.filter.updatePriority(e.eventCache.getNode(),s),g=oc(e,v,d.isFullyInitialized(),d.isFiltered());else{const S=At(i),x=d.getNode().getImmediateChild(E);let R;if(rt(S))R=s;else{const D=b.getCompleteChild(E);D!=null?r_(S)===".priority"&&D.getChild(lS(S)).isEmpty()?R=D:R=D.updateChild(S,s):R=He.EMPTY_NODE}if(x.equals(R))g=e;else{const D=n.filter.updateChild(d.getNode(),E,R,S,b,h);g=oc(e,D,d.isFullyInitialized(),n.filter.filtersNodes())}}}return g}function Bb(n,e){return n.eventCache.isCompleteForChild(e)}function Q2(n,e,i,s,a,u,h){let d=e;return s.foreach((g,v)=>{const b=Ft(i,g);Bb(e,st(b))&&(d=Cg(n,d,b,v,a,u,h))}),s.foreach((g,v)=>{const b=Ft(i,g);Bb(e,st(b))||(d=Cg(n,d,b,v,a,u,h))}),d}function Hb(n,e,i){return i.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function Og(n,e,i,s,a,u,h,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,v;rt(i)?v=s:v=new Rt(null).setTree(i,s);const b=e.serverCache.getNode();return v.children.inorderTraversal((E,S)=>{if(b.hasChild(E)){const x=e.serverCache.getNode().getImmediateChild(E),R=Hb(n,x,S);g=Fh(n,g,new wt(E),R,a,u,h,d)}}),v.children.inorderTraversal((E,S)=>{const x=!e.serverCache.isCompleteForChild(E)&&S.value===null;if(!b.hasChild(E)&&!x){const R=e.serverCache.getNode().getImmediateChild(E),D=Hb(n,R,S);g=Fh(n,g,new wt(E),D,a,u,h,d)}}),g}function $2(n,e,i,s,a,u,h){if(Hh(a,i)!=null)return e;const d=e.serverCache.isFiltered(),g=e.serverCache;if(s.value!=null){if(rt(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Fh(n,e,i,g.getNode().getChild(i),a,u,d,h);if(rt(i)){let v=new Rt(null);return g.getNode().forEachChild(_l,(b,E)=>{v=v.set(new wt(b),E)}),Og(n,e,i,v,a,u,d,h)}else return e}else{let v=new Rt(null);return s.foreach((b,E)=>{const S=Ft(i,b);g.isCompleteForPath(S)&&(v=v.set(b,g.getNode().getChild(S)))}),Og(n,e,i,v,a,u,d,h)}}function J2(n,e,i,s,a){const u=e.serverCache,h=vS(e,u.getNode(),u.isFullyInitialized()||rt(i),u.isFiltered());return xS(n,h,i,s,TS,a)}function eM(n,e,i,s,a,u){let h;if(Hh(s,i)!=null)return e;{const d=new p_(s,e,a),g=e.eventCache.getNode();let v;if(rt(i)||st(i)===".priority"){let b;if(e.serverCache.isFullyInitialized())b=Bh(s,ma(e));else{const E=e.serverCache.getNode();Se(E instanceof He,"serverChildren would be complete if leaf node"),b=h_(s,E)}b=b,v=n.filter.updateFullNode(g,b,u)}else{const b=st(i);let E=d_(s,b,e.serverCache);E==null&&e.serverCache.isCompleteForChild(b)&&(E=g.getImmediateChild(b)),E!=null?v=n.filter.updateChild(g,b,E,At(i),d,u):e.eventCache.getNode().hasChild(b)?v=n.filter.updateChild(g,b,He.EMPTY_NODE,At(i),d,u):v=g,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=Bh(s,ma(e)),h.isLeafNode()&&(v=n.filter.updateFullNode(v,h,u)))}return h=e.serverCache.isFullyInitialized()||Hh(s,ht())!=null,oc(e,v,h,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new a_(s.getIndex()),u=y2(s);this.processor_=G2(u);const h=i.serverCache,d=i.eventCache,g=a.updateFullNode(He.EMPTY_NODE,h.getNode(),null),v=u.updateFullNode(He.EMPTY_NODE,d.getNode(),null),b=new wo(g,h.isFullyInitialized(),a.filtersNodes()),E=new wo(v,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=ud(E,b),this.eventGenerator_=new C2(this.query_)}get query(){return this.query_}}function nM(n){return n.viewCache_.serverCache.getNode()}function iM(n){return jh(n.viewCache_)}function rM(n,e){const i=ma(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!rt(e)&&!i.getImmediateChild(st(e)).isEmpty())?i.getChild(e):null}function Fb(n){return n.eventRegistrations_.length===0}function sM(n,e){n.eventRegistrations_.push(e)}function qb(n,e,i){const s=[];if(i){Se(e==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,a);h&&s.push(h)})}if(e){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const h=n.eventRegistrations_[u];if(!h.matches(e))a.push(h);else if(e.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function Wb(n,e,i,s){e.type===Gi.MERGE&&e.source.queryId!==null&&(Se(ma(n.viewCache_),"We should always have a full cache before handling merges"),Se(jh(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=K2(n.processor_,a,e,i,s);return Y2(n.processor_,u.viewCache),Se(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,CS(n,u.changes,u.viewCache.eventCache.getNode(),null)}function oM(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(qt,(u,h)=>{s.push(El(u,h))}),i.isFullyInitialized()&&s.push(gS(i.getNode())),CS(n,s,i.getNode(),e)}function CS(n,e,i,s){const a=s?[s]:n.eventRegistrations_;return O2(n.eventGenerator_,e,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh;class OS{constructor(){this.views=new Map}}function aM(n){Se(!qh,"__referenceConstructor has already been defined"),qh=n}function lM(){return Se(qh,"Reference.ts has not been loaded"),qh}function uM(n){return n.views.size===0}function m_(n,e,i,s){const a=e.source.queryId;if(a!==null){const u=n.views.get(a);return Se(u!=null,"SyncTree gave us an op for an invalid query."),Wb(u,e,i,s)}else{let u=[];for(const h of n.views.values())u=u.concat(Wb(h,e,i,s));return u}}function RS(n,e,i,s,a){const u=e._queryIdentifier,h=n.views.get(u);if(!h){let d=Bh(i,a?s:null),g=!1;d?g=!0:s instanceof He?(d=h_(i,s),g=!1):(d=He.EMPTY_NODE,g=!1);const v=ud(new wo(d,g,!1),new wo(s,a,!1));return new tM(e,v)}return h}function cM(n,e,i,s,a,u){const h=RS(n,e,s,a,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,h),sM(h,i),oM(h,i)}function fM(n,e,i,s){const a=e._queryIdentifier,u=[];let h=[];const d=So(n);if(a==="default")for(const[g,v]of n.views.entries())h=h.concat(qb(v,i,s)),Fb(v)&&(n.views.delete(g),v.query._queryParams.loadsAllData()||u.push(v.query));else{const g=n.views.get(a);g&&(h=h.concat(qb(g,i,s)),Fb(g)&&(n.views.delete(a),g.query._queryParams.loadsAllData()||u.push(g.query)))}return d&&!So(n)&&u.push(new(lM())(e._repo,e._path)),{removed:u,events:h}}function AS(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function _o(n,e){let i=null;for(const s of n.views.values())i=i||rM(s,e);return i}function MS(n,e){if(e._queryParams.loadsAllData())return fd(n);{const s=e._queryIdentifier;return n.views.get(s)}}function LS(n,e){return MS(n,e)!=null}function So(n){return fd(n)!=null}function fd(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;function hM(n){Se(!Wh,"__referenceConstructor has already been defined"),Wh=n}function dM(){return Se(Wh,"Reference.ts has not been loaded"),Wh}let pM=1;class Vb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=q2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IS(n,e,i,s,a){return L2(n.pendingWriteTree_,e,i,s,a),a?Dl(n,new pa(u_(),e,i)):[]}function mM(n,e,i,s){I2(n.pendingWriteTree_,e,i,s);const a=Rt.fromObject(i);return Dl(n,new Tl(u_(),e,a))}function ho(n,e,i=!1){const s=k2(n.pendingWriteTree_,e);if(P2(n.pendingWriteTree_,e)){let u=new Rt(null);return s.snap!=null?u=u.set(ht(),!0):xn(s.children,h=>{u=u.set(new wt(h),!0)}),Dl(n,new zh(s.path,u,i))}else return[]}function kc(n,e,i){return Dl(n,new pa(c_(),e,i))}function gM(n,e,i){const s=Rt.fromObject(i);return Dl(n,new Tl(c_(),e,s))}function _M(n,e){return Dl(n,new yc(c_(),e))}function vM(n,e,i){const s=__(n,i);if(s){const a=v_(s),u=a.path,h=a.queryId,d=Hn(u,e),g=new yc(f_(h),d);return y_(n,u,g)}else return[]}function kS(n,e,i,s,a=!1){const u=e._path,h=n.syncPointTree_.get(u);let d=[];if(h&&(e._queryIdentifier==="default"||LS(h,e))){const g=fM(h,e,i,s);uM(h)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const v=g.removed;if(d=g.events,!a){const b=v.findIndex(S=>S._queryParams.loadsAllData())!==-1,E=n.syncPointTree_.findOnPath(u,(S,x)=>So(x));if(b&&!E){const S=n.syncPointTree_.subtree(u);if(!S.isEmpty()){const x=SM(S);for(let R=0;R<x.length;++R){const D=x[R],Y=D.query,V=US(n,D);n.listenProvider_.startListening(lc(Y),bc(n,Y),V.hashFn,V.onComplete)}}}!E&&v.length>0&&!s&&(b?n.listenProvider_.stopListening(lc(e),null):v.forEach(S=>{const x=n.queryToTagMap.get(hd(S));n.listenProvider_.stopListening(lc(S),x)}))}EM(n,v)}return d}function PS(n,e,i,s){const a=__(n,s);if(a!=null){const u=v_(a),h=u.path,d=u.queryId,g=Hn(h,e),v=new pa(f_(d),g,i);return y_(n,h,v)}else return[]}function yM(n,e,i,s){const a=__(n,s);if(a){const u=v_(a),h=u.path,d=u.queryId,g=Hn(h,e),v=Rt.fromObject(i),b=new Tl(f_(d),g,v);return y_(n,h,b)}else return[]}function bM(n,e,i,s=!1){const a=e._path;let u=null,h=!1;n.syncPointTree_.foreachOnPath(a,(S,x)=>{const R=Hn(S,a);u=u||_o(x,R),h=h||So(x)});let d=n.syncPointTree_.get(a);d?(h=h||So(d),u=u||_o(d,ht())):(d=new OS,n.syncPointTree_=n.syncPointTree_.set(a,d));let g;u!=null?g=!0:(g=!1,u=He.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((x,R)=>{const D=_o(R,ht());D&&(u=u.updateImmediateChild(x,D))}));const v=LS(d,e);if(!v&&!e._queryParams.loadsAllData()){const S=hd(e);Se(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const x=TM();n.queryToTagMap.set(S,x),n.tagToQueryMap.set(x,S)}const b=cd(n.pendingWriteTree_,a);let E=cM(d,e,i,b,u,g);if(!v&&!h&&!s){const S=MS(d,e);E=E.concat(xM(n,e,S))}return E}function g_(n,e,i){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(h,d)=>{const g=Hn(h,e),v=_o(d,g);if(v)return v});return wS(a,e,u,i,!0)}function wM(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(v,b)=>{const E=Hn(v,i);s=s||_o(b,E)});let a=n.syncPointTree_.get(i);a?s=s||_o(a,ht()):(a=new OS,n.syncPointTree_=n.syncPointTree_.set(i,a));const u=s!=null,h=u?new wo(s,!0,!1):null,d=cd(n.pendingWriteTree_,e._path),g=RS(a,e,d,u?h.getNode():He.EMPTY_NODE,u);return iM(g)}function Dl(n,e){return DS(e,n.syncPointTree_,null,cd(n.pendingWriteTree_,ht()))}function DS(n,e,i,s){if(rt(n.path))return NS(n,e,i,s);{const a=e.get(ht());i==null&&a!=null&&(i=_o(a,ht()));let u=[];const h=st(n.path),d=n.operationForChild(h),g=e.children.get(h);if(g&&d){const v=i?i.getImmediateChild(h):null,b=SS(s,h);u=u.concat(DS(d,g,v,b))}return a&&(u=u.concat(m_(a,n,s,i))),u}}function NS(n,e,i,s){const a=e.get(ht());i==null&&a!=null&&(i=_o(a,ht()));let u=[];return e.children.inorderTraversal((h,d)=>{const g=i?i.getImmediateChild(h):null,v=SS(s,h),b=n.operationForChild(h);b&&(u=u.concat(NS(b,d,g,v)))}),a&&(u=u.concat(m_(a,n,s,i))),u}function US(n,e){const i=e.query,s=bc(n,i);return{hashFn:()=>(nM(e)||He.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?vM(n,i._path,s):_M(n,i._path);{const u=_A(a,i);return kS(n,i,null,u)}}}}function bc(n,e){const i=hd(e);return n.queryToTagMap.get(i)}function hd(n){return n._path.toString()+"$"+n._queryIdentifier}function __(n,e){return n.tagToQueryMap.get(e)}function v_(n){const e=n.indexOf("$");return Se(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new wt(n.substr(0,e))}}function y_(n,e,i){const s=n.syncPointTree_.get(e);Se(s,"Missing sync point for query tag that we're tracking");const a=cd(n.pendingWriteTree_,e);return m_(s,i,a,null)}function SM(n){return n.fold((e,i,s)=>{if(i&&So(i))return[fd(i)];{let a=[];return i&&(a=AS(i)),xn(s,(u,h)=>{a=a.concat(h)}),a}})}function lc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(dM())(n._repo,n._path):n}function EM(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const a=hd(s),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}function TM(){return pM++}function xM(n,e,i){const s=e._path,a=bc(n,e),u=US(n,i),h=n.listenProvider_.startListening(lc(e),a,u.hashFn,u.onComplete),d=n.syncPointTree_.subtree(s);if(a)Se(!So(d.value),"If we're adding a query, it shouldn't be shadowed");else{const g=d.fold((v,b,E)=>{if(!rt(v)&&b&&So(b))return[fd(b).query];{let S=[];return b&&(S=S.concat(AS(b).map(x=>x.query))),xn(E,(x,R)=>{S=S.concat(R)}),S}});for(let v=0;v<g.length;++v){const b=g[v];n.listenProvider_.stopListening(lc(b),bc(n,b))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new b_(i)}node(){return this.node_}}class w_{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ft(this.path_,e);return new w_(this.syncTree_,i)}node(){return g_(this.syncTree_,this.path_)}}const CM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Zb=function(n,e,i){if(!n||typeof n!="object")return n;if(Se(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return OM(n[".sv"],e,i);if(typeof n[".sv"]=="object")return RM(n[".sv"],e);Se(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},OM=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:Se(!1,"Unexpected server value: "+n)}},RM=function(n,e,i){n.hasOwnProperty("increment")||Se(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&Se(!1,"Unexpected increment value: "+s);const a=e.node();if(Se(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const h=a.getValue();return typeof h!="number"?s:h+s},zS=function(n,e,i,s){return S_(e,new w_(i,n),s)},jS=function(n,e,i){return S_(n,new b_(e),i)};function S_(n,e,i){const s=n.getPriority().val(),a=Zb(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const h=n,d=Zb(h.getValue(),e,i);return d!==h.getValue()||a!==h.getPriority().val()?new pn(d,sn(a)):n}else{const h=n;return u=h,a!==h.getPriority().val()&&(u=u.updatePriority(new pn(a))),h.forEachChild(qt,(d,g)=>{const v=S_(g,e.getImmediateChild(d),i);v!==g&&(u=u.updateImmediateChild(d,v))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function T_(n,e){let i=e instanceof wt?e:new wt(e),s=n,a=st(i);for(;a!==null;){const u=wl(s.node.children,a)||{children:{},childCount:0};s=new E_(a,s,u),i=At(i),a=st(i)}return s}function Nl(n){return n.node.value}function BS(n,e){n.node.value=e,Rg(n)}function HS(n){return n.node.childCount>0}function AM(n){return Nl(n)===void 0&&!HS(n)}function dd(n,e){xn(n.node.children,(i,s)=>{e(new E_(i,n,s))})}function FS(n,e,i,s){i&&e(n),dd(n,a=>{FS(a,e,!0)})}function MM(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Pc(n){return new wt(n.parent===null?n.name:Pc(n.parent)+"/"+n.name)}function Rg(n){n.parent!==null&&LM(n.parent,n.name,n)}function LM(n,e,i){const s=AM(i),a=Sr(n.node.children,e);s&&a?(delete n.node.children[e],n.node.childCount--,Rg(n)):!s&&!a&&(n.node.children[e]=i.node,n.node.childCount++,Rg(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/[\[\].#$\/\u0000-\u001F\u007F]/,kM=/[\[\].#$\u0000-\u001F\u007F]/,jm=10*1024*1024,x_=function(n){return typeof n=="string"&&n.length!==0&&!IM.test(n)},qS=function(n){return typeof n=="string"&&n.length!==0&&!kM.test(n)},PM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qS(n)},DM=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Jg(n)||n&&typeof n=="object"&&Sr(n,".sv")},WS=function(n,e,i,s){s&&e===void 0||pd(sd(n,"value"),e,i)},pd=function(n,e,i){const s=i instanceof wt?new QA(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+aa(s));if(typeof e=="function")throw new Error(n+"contains a function "+aa(s)+" with contents = "+e.toString());if(Jg(e))throw new Error(n+"contains "+e.toString()+" "+aa(s));if(typeof e=="string"&&e.length>jm/3&&od(e)>jm)throw new Error(n+"contains a string greater than "+jm+" utf8 bytes "+aa(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,u=!1;if(xn(e,(h,d)=>{if(h===".value")a=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!x_(h)))throw new Error(n+" contains an invalid key ("+h+") "+aa(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$A(s,h),pd(n,d,s),JA(s)}),a&&u)throw new Error(n+' contains ".value" child '+aa(s)+" in addition to actual children.")}},NM=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=mc(s);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!x_(u[h]))throw new Error(n+"contains an invalid key ("+u[h]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XA);let a=null;for(i=0;i<e.length;i++){if(s=e[i],a!==null&&Mi(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}},UM=function(n,e,i,s){const a=sd(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const u=[];xn(e,(h,d)=>{const g=new wt(h);if(pd(a,d,Ft(i,g)),r_(g)===".priority"&&!DM(d))throw new Error(a+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(g)}),NM(a,u)},VS=function(n,e,i,s){if(!qS(i))throw new Error(sd(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zM=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),VS(n,e,i)},C_=function(n,e){if(st(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},jM=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!x_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!PM(i))throw new Error(sd(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function O_(n,e){let i=null;for(let s=0;s<e.length;s++){const a=e[s],u=a.getPath();i!==null&&!uS(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(a)}i&&n.eventLists_.push(i)}function Li(n,e,i){O_(n,i),HM(n,s=>Mi(s,e)||Mi(e,s))}function HM(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];if(a){const u=a.path;e(u)?(FM(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function FM(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();rc&&Tn("event: "+i.toString()),Pl(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="repo_interrupt",WM=25;class VM{constructor(e,i,s,a){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uh(),this.transactionQueueTree_=new E_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZM(n,e,i){if(n.stats_=n_(n.repoInfo_),n.forceRestClient_||wA())n.server_=new Nh(n.repoInfo_,(s,a,u,h)=>{Gb(n,s,a,u,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Yb(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{on(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new rs(n.repoInfo_,e,(s,a,u,h)=>{Gb(n,s,a,u,h)},s=>{Yb(n,s)},s=>{GM(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=CA(n.repoInfo_,()=>new x2(n.stats_,n.server_)),n.infoData_=new b2,n.infoSyncTree_=new Vb({startListening:(s,a,u,h)=>{let d=[];const g=n.infoData_.getNode(s._path);return g.isEmpty()||(d=kc(n.infoSyncTree_,s._path,g),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),R_(n,"connected",!1),n.serverSyncTree_=new Vb({startListening:(s,a,u,h)=>(n.server_.listen(s,u,a,(d,g)=>{const v=h(d,g);Li(n.eventQueue_,s._path,v)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}function ZS(n){const i=n.infoData_.getNode(new wt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function md(n){return CM({timestamp:ZS(n)})}function Gb(n,e,i,s,a){n.dataUpdateCount++;const u=new wt(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let h=[];if(a)if(s){const g=Lh(i,v=>sn(v));h=yM(n.serverSyncTree_,u,g,a)}else{const g=sn(i);h=PS(n.serverSyncTree_,u,g,a)}else if(s){const g=Lh(i,v=>sn(v));h=gM(n.serverSyncTree_,u,g)}else{const g=sn(i);h=kc(n.serverSyncTree_,u,g)}let d=u;h.length>0&&(d=Cl(n,u)),Li(n.eventQueue_,d,h)}function Yb(n,e){R_(n,"connected",e),e===!1&&QM(n)}function GM(n,e){xn(e,(i,s)=>{R_(n,i,s)})}function R_(n,e,i){const s=new wt("/.info/"+e),a=sn(i);n.infoData_.updateSnapshot(s,a);const u=kc(n.infoSyncTree_,s,a);Li(n.eventQueue_,s,u)}function A_(n){return n.nextWriteId_++}function YM(n,e,i){const s=wM(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(a=>{const u=sn(a).withIndex(e._queryParams.getIndex());bM(n.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=kc(n.serverSyncTree_,e._path,u);else{const d=bc(n.serverSyncTree_,e);h=PS(n.serverSyncTree_,e._path,u,d)}return Li(n.eventQueue_,e._path,h),kS(n.serverSyncTree_,e,i,null,!0),u},a=>(Dc(n,"get for query "+on(e)+" failed: "+a),Promise.reject(new Error(a))))}function KM(n,e,i,s,a){Dc(n,"set",{path:e.toString(),value:i,priority:s});const u=md(n),h=sn(i,s),d=g_(n.serverSyncTree_,e),g=jS(h,d,u),v=A_(n),b=IS(n.serverSyncTree_,e,g,v,!0);O_(n.eventQueue_,b),n.server_.put(e.toString(),h.val(!0),(S,x)=>{const R=S==="ok";R||Fn("set at "+e+" failed: "+S);const D=ho(n.serverSyncTree_,v,!R);Li(n.eventQueue_,e,D),Ag(n,a,S,x)});const E=L_(n,e);Cl(n,E),Li(n.eventQueue_,E,[])}function XM(n,e,i,s){Dc(n,"update",{path:e.toString(),value:i});let a=!0;const u=md(n),h={};if(xn(i,(d,g)=>{a=!1,h[d]=zS(Ft(e,d),sn(g),n.serverSyncTree_,u)}),a)Tn("update() called with empty data.  Don't do anything."),Ag(n,s,"ok",void 0);else{const d=A_(n),g=mM(n.serverSyncTree_,e,h,d);O_(n.eventQueue_,g),n.server_.merge(e.toString(),i,(v,b)=>{const E=v==="ok";E||Fn("update at "+e+" failed: "+v);const S=ho(n.serverSyncTree_,d,!E),x=S.length>0?Cl(n,e):e;Li(n.eventQueue_,x,S),Ag(n,s,v,b)}),xn(i,v=>{const b=L_(n,Ft(e,v));Cl(n,b)}),Li(n.eventQueue_,e,[])}}function QM(n){Dc(n,"onDisconnectEvents");const e=md(n),i=Uh();Sg(n.onDisconnect_,ht(),(a,u)=>{const h=zS(a,u,n.serverSyncTree_,e);_S(i,a,h)});let s=[];Sg(i,ht(),(a,u)=>{s=s.concat(kc(n.serverSyncTree_,a,u));const h=L_(n,a);Cl(n,h)}),n.onDisconnect_=Uh(),Li(n.eventQueue_,ht(),s)}function $M(n){n.persistentConnection_&&n.persistentConnection_.interrupt(qM)}function Dc(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),Tn(i,...e)}function Ag(n,e,i,s){e&&Pl(()=>{if(i==="ok")e(null);else{const a=(i||"error").toUpperCase();let u=a;s&&(u+=": "+s);const h=new Error(u);h.code=a,e(h)}})}function GS(n,e,i){return g_(n.serverSyncTree_,e,i)||He.EMPTY_NODE}function M_(n,e=n.transactionQueueTree_){if(e||gd(n,e),Nl(e)){const i=KS(n,e);Se(i.length>0,"Sending zero length transaction queue"),i.every(a=>a.status===0)&&JM(n,Pc(e),i)}else HS(e)&&dd(e,i=>{M_(n,i)})}function JM(n,e,i){const s=i.map(v=>v.currentWriteId),a=GS(n,e,s);let u=a;const h=a.hash();for(let v=0;v<i.length;v++){const b=i[v];Se(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=Hn(e,b.path);u=u.updateChild(E,b.currentOutputSnapshotRaw)}const d=u.val(!0),g=e;n.server_.put(g.toString(),d,v=>{Dc(n,"transaction put response",{path:g.toString(),status:v});let b=[];if(v==="ok"){const E=[];for(let S=0;S<i.length;S++)i[S].status=2,b=b.concat(ho(n.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&E.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();gd(n,T_(n.transactionQueueTree_,e)),M_(n,n.transactionQueueTree_),Li(n.eventQueue_,e,b);for(let S=0;S<E.length;S++)Pl(E[S])}else{if(v==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{Fn("transaction at "+g.toString()+" failed: "+v);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=v}Cl(n,e)}},h)}function Cl(n,e){const i=YS(n,e),s=Pc(i),a=KS(n,i);return eL(n,a,s),s}function eL(n,e,i){if(e.length===0)return;const s=[];let a=[];const h=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const g=e[d],v=Hn(i,g.path);let b=!1,E;if(Se(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,E=g.abortReason,a=a.concat(ho(n.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=WM)b=!0,E="maxretry",a=a.concat(ho(n.serverSyncTree_,g.currentWriteId,!0));else{const S=GS(n,g.path,h);g.currentInputSnapshot=S;const x=e[d].update(S.val());if(x!==void 0){pd("transaction failed: Data returned ",x,g.path);let R=sn(x);typeof x=="object"&&x!=null&&Sr(x,".priority")||(R=R.updatePriority(S.getPriority()));const Y=g.currentWriteId,V=md(n),J=jS(R,S,V);g.currentOutputSnapshotRaw=R,g.currentOutputSnapshotResolved=J,g.currentWriteId=A_(n),h.splice(h.indexOf(Y),1),a=a.concat(IS(n.serverSyncTree_,g.path,J,g.currentWriteId,g.applyLocally)),a=a.concat(ho(n.serverSyncTree_,Y,!0))}else b=!0,E="nodata",a=a.concat(ho(n.serverSyncTree_,g.currentWriteId,!0))}Li(n.eventQueue_,i,a),a=[],b&&(e[d].status=2,function(S){setTimeout(S,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(E==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(E),!1,null))))}gd(n,n.transactionQueueTree_);for(let d=0;d<s.length;d++)Pl(s[d]);M_(n,n.transactionQueueTree_)}function YS(n,e){let i,s=n.transactionQueueTree_;for(i=st(e);i!==null&&Nl(s)===void 0;)s=T_(s,i),e=At(e),i=st(e);return s}function KS(n,e){const i=[];return XS(n,e,i),i.sort((s,a)=>s.order-a.order),i}function XS(n,e,i){const s=Nl(e);if(s)for(let a=0;a<s.length;a++)i.push(s[a]);dd(e,a=>{XS(n,a,i)})}function gd(n,e){const i=Nl(e);if(i){let s=0;for(let a=0;a<i.length;a++)i[a].status!==2&&(i[s]=i[a],s++);i.length=s,BS(e,i.length>0?i:void 0)}dd(e,s=>{gd(n,s)})}function L_(n,e){const i=Pc(YS(n,e)),s=T_(n.transactionQueueTree_,e);return MM(s,a=>{Bm(n,a)}),Bm(n,s),FS(s,a=>{Bm(n,a)}),i}function Bm(n,e){const i=Nl(e);if(i){const s=[];let a=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(Se(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(Se(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),a=a.concat(ho(n.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&s.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?BS(e,void 0):i.length=u+1,Li(n.eventQueue_,Pc(e),a);for(let h=0;h<s.length;h++)Pl(s[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let a=i[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function nL(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Fn(`Invalid query segment '${i}' in query '${n}'`)}return e}const Kb=function(n,e){const i=iL(n),s=i.namespace;i.domain==="firebase.com"&&as(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||hA();const a=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new J1(i.host,i.secure,s,a,e,"",s!==i.subdomain),path:new wt(i.pathString)}},iL=function(n){let e="",i="",s="",a="",u="",h=!0,d="https",g=443;if(typeof n=="string"){let v=n.indexOf("//");v>=0&&(d=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");b===-1&&(b=n.length);let E=n.indexOf("?");E===-1&&(E=n.length),e=n.substring(0,Math.min(b,E)),b<E&&(a=tL(n.substring(b,E)));const S=nL(n.substring(Math.min(n.length,E)));v=e.indexOf(":"),v>=0?(h=d==="https"||d==="wss",g=parseInt(e.substring(v+1),10)):v=e.length;const x=e.slice(0,v);if(x.toLowerCase()==="localhost")i="localhost";else if(x.split(".").length<=2)i=x;else{const R=e.indexOf(".");s=e.substring(0,R).toLowerCase(),i=e.substring(R+1),u=s}"ns"in S&&(u=S.ns)}return{host:e,port:g,domain:i,subdomain:s,secure:h,scheme:d,pathString:a,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rL=function(){let n=0;const e=[];return function(i){const s=i===n;n=i;let a;const u=new Array(8);for(a=7;a>=0;a--)u[a]=Xb.charAt(i%64),i=Math.floor(i/64);Se(i===0,"Cannot push at time == 0");let h=u.join("");if(s){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)h+=Xb.charAt(e[a]);return Se(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,i,s,a){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+on(this.snapshot.exportVal())}}class oL{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return Se(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,i,s,a){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=a}get key(){return rt(this._path)?null:r_(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const e=Db(this._queryParams),i=e_(e);return i==="{}"?"default":i}get _queryObject(){return Db(this._queryParams)}isEqual(e){if(e=Yt(e),!(e instanceof I_))return!1;const i=this._repo===e._repo,s=uS(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return i&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+KA(this._path)}}class cs extends I_{constructor(e,i){super(e,i,new l_,!1)}get parent(){const e=lS(this._path);return e===null?null:new cs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wc{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new wt(e),s=Sc(this.ref,e);return new wc(this._node.getChild(i),s,qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new wc(a,Sc(this.ref,s),qt)))}hasChild(e){const i=new wt(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mt(n,e){return n=Yt(n),n._checkNotDeleted("ref"),e!==void 0?Sc(n._root,e):n._root}function Sc(n,e){return n=Yt(n),st(n._path)===null?zM("child","path",e):VS("child","path",e),new cs(n._repo,Ft(n._path,e))}function _d(n,e){n=Yt(n),C_("push",n._path),WS("push",e,n._path,!0);const i=ZS(n._repo),s=rL(i),a=Sc(n,s),u=Sc(n,s);let h;return h=Promise.resolve(u),a.then=h.then.bind(h),a.catch=h.then.bind(h,void 0),a}function vd(n){return C_("remove",n._path),To(n,null)}function To(n,e){n=Yt(n),C_("set",n._path),WS("set",e,n._path,!1);const i=new Rc;return KM(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function yd(n,e){UM("update",e,n._path);const i=new Rc;return XM(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function ki(n){n=Yt(n);const e=new aL(()=>{}),i=new k_(e);return YM(n._repo,n,i).then(s=>new wc(s,new cs(n._repo,n._path),n._queryParams.getIndex()))}class k_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new sL("value",this,new wc(e.snapshotNode,new cs(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new oL(this,e,i):null}matches(e){return e instanceof k_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}aM(cs);hM(cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="FIREBASE_DATABASE_EMULATOR_HOST",Mg={};let uL=!1;function cL(n,e,i,s){const a=e.lastIndexOf(":"),u=e.substring(0,a),h=va(u);n.repoInfo_=new J1(e,h,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(n.authTokenProvider_=s)}function fL(n,e,i,s,a){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tn("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h=Kb(u,a),d=h.repoInfo,g;typeof process<"u"&&_b&&(g=_b[lL]),g?(u=`http://${g}?ns=${d.namespace}`,h=Kb(u,a),d=h.repoInfo):h.repoInfo.secure;const v=new EA(n.name,n.options,e);jM("Invalid Firebase Database URL",h),rt(h.path)||as("Database URL must point to the root of a Firebase Database (not including a child path).");const b=dL(d,n,v,new SA(n,i));return new pL(b,n)}function hL(n,e){const i=Mg[e];(!i||i[n.key]!==n)&&as(`Database ${e}(${n.repoInfo_}) has already been deleted.`),$M(n),delete i[n.key]}function dL(n,e,i,s){let a=Mg[e.name];a||(a={},Mg[e.name]=a);let u=a[n.toURLString()];return u&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new VM(n,uL,i,s),a[n.toURLString()]=u,u}class pL{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,ht())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&as("Cannot call "+e+" on a deleted database.")}}function mL(n=$g(),e){const i=ad(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=R1("database");s&&gL(i,...s)}return i}function gL(n,e,i,s={}){n=Yt(n),n._checkNotDeleted("useEmulator");const a=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(a===n._repoInternal.repoInfo_.host&&fa(s,u.repoInfo_.emulatorOptions))return;as("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&as('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new bh(bh.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:L1(s.mockUserToken,n.app.options.projectId);h=new bh(d)}va(e)&&(Gg(e),Yg("Database",!0)),cL(u,a,s,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n){oA(ya),ha(new yo("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return fL(s,a,u,i)},"PUBLIC").setMultipleInstances(!0)),yr(vb,yb,n),yr(vb,yb,"esm2017")}rs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};rs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};_L();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebasestorage.googleapis.com",$S="storageBucket",vL=2*60*1e3,yL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends us{constructor(e,i,s=0){super(Hm(e),`Firebase Storage: ${i} (${Hm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function Hm(n){return"storage/"+n}function P_(){const n="An unknown error occurred, please check the error payload for server response.";return new Vt(Wt.UNKNOWN,n)}function bL(n){return new Vt(Wt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function wL(n){return new Vt(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Wt.UNAUTHENTICATED,n)}function EL(){return new Vt(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TL(n){return new Vt(Wt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function xL(){return new Vt(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CL(){return new Vt(Wt.CANCELED,"User canceled the upload/download.")}function OL(n){return new Vt(Wt.INVALID_URL,"Invalid URL '"+n+"'.")}function RL(n){return new Vt(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function AL(){return new Vt(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$S+"' property when initializing the app?")}function ML(){return new Vt(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LL(){return new Vt(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IL(n){return new Vt(Wt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lg(n){return new Vt(Wt.INVALID_ARGUMENT,n)}function JS(){return new Vt(Wt.APP_DELETED,"The Firebase app was deleted.")}function kL(n){return new Vt(Wt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(n,e){return new Vt(Wt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Gu(n){throw new Vt(Wt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=pi.makeFromUrl(e,i)}catch{return new pi(e,"")}if(s.path==="")return s;throw RL(e)}static makeFromUrl(e,i){let s=null;const a="([A-Za-z0-9.\\-_]+)";function u(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+a+h,"i"),g={bucket:1,path:3};function v(ne){ne.path_=decodeURIComponent(ne.path)}const b="v[A-Za-z0-9_]+",E=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${b}/b/${a}/o${S}`,"i"),R={bucket:1,path:3},D=i===QS?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Y="([^?#]*)",V=new RegExp(`^https?://${D}/${a}/${Y}`,"i"),$=[{regex:d,indices:g,postModify:u},{regex:x,indices:R,postModify:v},{regex:V,indices:{bucket:1,path:2},postModify:v}];for(let ne=0;ne<$.length;ne++){const W=$[ne],z=W.regex.exec(e);if(z){const X=z[W.indices.bucket];let B=z[W.indices.path];B||(B=""),s=new pi(X,B),W.postModify(s);break}}if(s==null)throw OL(e);return s}}class PL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(n,e,i){let s=1,a=null,u=null,h=!1,d=0;function g(){return d===2}let v=!1;function b(...Y){v||(v=!0,e.apply(null,Y))}function E(Y){a=setTimeout(()=>{a=null,n(x,g())},Y)}function S(){u&&clearTimeout(u)}function x(Y,...V){if(v){S();return}if(Y){S(),b.call(null,Y,...V);return}if(g()||h){S(),b.call(null,Y,...V);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,E($)}let R=!1;function D(Y){R||(R=!0,S(),!v&&(a!==null?(Y||(d=2),clearTimeout(a),E(0)):Y||(d=1)))}return E(0),u=setTimeout(()=>{h=!0,D(!0)},i),D}function NL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(n){return n!==void 0}function zL(n){return typeof n=="object"&&!Array.isArray(n)}function D_(n){return typeof n=="string"||n instanceof String}function Qb(n){return N_()&&n instanceof Blob}function N_(){return typeof Blob<"u"}function $b(n,e,i,s){if(s<e)throw Lg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>i)throw Lg(`Invalid value for '${n}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n,e,i){let s=e;return i==null&&(s=`https://${e}`),`${i}://${s}/v0${n}`}function eE(n){const e=encodeURIComponent;let i="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);i=i+a+"&"}return i=i.slice(0,-1),i}var ca;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ca||(ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n,e){const i=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,u=e.indexOf(n)!==-1;return i||a||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,i,s,a,u,h,d,g,v,b,E,S=!0,x=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,D)=>{this.resolve_=R,this.reject_=D,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new fh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const g=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===ca.NO_ERROR,g=u.getStatus();if(!d||jL(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===ca.ABORT;s(!1,new fh(!1,null,b));return}const v=this.successCodes_.indexOf(g)!==-1;s(!0,new fh(v,u))})},i=(s,a)=>{const u=this.resolve_,h=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());UL(g)?u(g):u()}catch(g){h(g)}else if(d!==null){const g=P_();g.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,g)):h(g)}else if(a.canceled){const g=this.appDelete_?JS():CL();h(g)}else{const g=xL();h(g)}};this.canceled_?i(!1,new fh(!1,null,!0)):this.backoffId_=DL(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function HL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function FL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function WL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function VL(n,e,i,s,a,u,h=!0,d=!1){const g=eE(n.urlParams),v=n.url+g,b=Object.assign({},n.headers);return qL(b,e),HL(b,i),FL(b,u),WL(b,s),new BL(v,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GL(...n){const e=ZL();if(e!==void 0){const i=new e;for(let s=0;s<n.length;s++)i.append(n[s]);return i.getBlob()}else{if(N_())return new Blob(n);throw new Vt(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YL(n,e,i){return n.webkitSlice?n.webkitSlice(e,i):n.mozSlice?n.mozSlice(e,i):n.slice?n.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n){if(typeof atob>"u")throw IL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fm{constructor(e,i){this.data=e,this.contentType=i||null}}function XL(n,e){switch(n){case vr.RAW:return new Fm(tE(e));case vr.BASE64:case vr.BASE64URL:return new Fm(nE(n,e));case vr.DATA_URL:return new Fm($L(e),JL(e))}throw P_()}function tE(n){const e=[];for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=n.charCodeAt(++i);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function QL(n){let e;try{e=decodeURIComponent(n)}catch{throw uc(vr.DATA_URL,"Malformed data URL.")}return tE(e)}function nE(n,e){switch(n){case vr.BASE64:{const a=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(a||u)throw uc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case vr.BASE64URL:{const a=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(a||u)throw uc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=KL(e)}catch(a){throw a.message.includes("polyfill")?a:uc(n,"Invalid character found")}const s=new Uint8Array(i.length);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return s}class iE{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw uc(vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;s!=null&&(this.base64=eI(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function $L(n){const e=new iE(n);return e.base64?nE(vr.BASE64,e.rest):QL(e.rest)}function JL(n){return new iE(n).contentType}function eI(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,i){let s=0,a="";Qb(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,i){if(Qb(this.data_)){const s=this.data_,a=YL(s,e,i);return a===null?null:new ao(a)}else{const s=new Uint8Array(this.data_.buffer,e,i-e);return new ao(s,!0)}}static getBlob(...e){if(N_()){const i=e.map(s=>s instanceof ao?s.data_:s);return new ao(GL.apply(null,i))}else{const i=e.map(h=>D_(h)?XL(vr.RAW,h).data:h.data_);let s=0;i.forEach(h=>{s+=h.byteLength});const a=new Uint8Array(s);let u=0;return i.forEach(h=>{for(let d=0;d<h.length;d++)a[u++]=h[d]}),new ao(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){let e;try{e=JSON.parse(n)}catch{return null}return zL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nI(n,e){const i=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?i:n+"/"+i}function sE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n,e){return e}class Bn{constructor(e,i,s,a){this.server=e,this.local=i||e,this.writable=!!s,this.xform=a||iI}}let hh=null;function rI(n){return!D_(n)||n.length<2?n:sE(n)}function oE(){if(hh)return hh;const n=[];n.push(new Bn("bucket")),n.push(new Bn("generation")),n.push(new Bn("metageneration")),n.push(new Bn("name","fullPath",!0));function e(u,h){return rI(h)}const i=new Bn("name");i.xform=e,n.push(i);function s(u,h){return h!==void 0?Number(h):h}const a=new Bn("size");return a.xform=s,n.push(a),n.push(new Bn("timeCreated")),n.push(new Bn("updated")),n.push(new Bn("md5Hash",null,!0)),n.push(new Bn("cacheControl",null,!0)),n.push(new Bn("contentDisposition",null,!0)),n.push(new Bn("contentEncoding",null,!0)),n.push(new Bn("contentLanguage",null,!0)),n.push(new Bn("contentType",null,!0)),n.push(new Bn("metadata","customMetadata",!0)),hh=n,hh}function sI(n,e){function i(){const s=n.bucket,a=n.fullPath,u=new pi(s,a);return e._makeStorageReference(u)}Object.defineProperty(n,"ref",{get:i})}function oI(n,e,i){const s={};s.type="file";const a=i.length;for(let u=0;u<a;u++){const h=i[u];s[h.local]=h.xform(s,e[h.server])}return sI(s,n),s}function aE(n,e,i){const s=rE(e);return s===null?null:oI(n,s,i)}function aI(n,e,i,s){const a=rE(e);if(a===null||!D_(a.downloadTokens))return null;const u=a.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(v=>{const b=n.bucket,E=n.fullPath,S="/b/"+h(b)+"/o/"+h(E),x=bd(S,i,s),R=eE({alt:"media",token:v});return x+R})[0]}function lI(n,e){const i={},s=e.length;for(let a=0;a<s;a++){const u=e[a];u.writable&&(i[u.server]=n[u.local])}return JSON.stringify(i)}class U_{constructor(e,i,s,a){this.url=e,this.method=i,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n){if(!n)throw P_()}function uI(n,e){function i(s,a){const u=aE(n,a,e);return lE(u!==null),u}return i}function cI(n,e){function i(s,a){const u=aE(n,a,e);return lE(u!==null),aI(u,a,n.host,n._protocol)}return i}function uE(n){function e(i,s){let a;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?a=EL():a=SL():i.getStatus()===402?a=wL(n.bucket):i.getStatus()===403?a=TL(n.path):a=s,a.status=i.getStatus(),a.serverResponse=s.serverResponse,a}return e}function cE(n){const e=uE(n);function i(s,a){let u=e(s,a);return s.getStatus()===404&&(u=bL(n.path)),u.serverResponse=a.serverResponse,u}return i}function fI(n,e,i){const s=e.fullServerUrl(),a=bd(s,n.host,n._protocol),u="GET",h=n.maxOperationRetryTime,d=new U_(a,u,cI(n,i),h);return d.errorHandler=cE(e),d}function hI(n,e){const i=e.fullServerUrl(),s=bd(i,n.host,n._protocol),a="DELETE",u=n.maxOperationRetryTime;function h(g,v){}const d=new U_(s,a,h,u);return d.successCodes=[200,204],d.errorHandler=cE(e),d}function dI(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function pI(n,e,i){const s=Object.assign({},i);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=dI(null,e)),s}function mI(n,e,i,s,a){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let ne=0;ne<2;ne++)$=$+Math.random().toString().slice(2);return $}const g=d();h["Content-Type"]="multipart/related; boundary="+g;const v=pI(e,s,a),b=lI(v,i),E="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+v.contentType+`\r
\r
`,S=`\r
--`+g+"--",x=ao.getBlob(E,s,S);if(x===null)throw ML();const R={name:v.fullPath},D=bd(u,n.host,n._protocol),Y="POST",V=n.maxUploadRetryTime,J=new U_(D,Y,uI(n,i),V);return J.urlParams=R,J.headers=h,J.body=x.uploadData(),J.errorHandler=uE(e),J}class gI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,s,a,u){if(this.sent_)throw Gu("cannot .send() more than once");if(va(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _I extends gI{initXhr(){this.xhr_.responseType="text"}}function z_(){return new _I}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this._service=e,i instanceof pi?this._location=i:this._location=pi.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new ga(e,i)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sE(this._location.path)}get storage(){return this._service}get parent(){const e=tI(this._location.path);if(e===null)return null;const i=new pi(this._location.bucket,e);return new ga(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw kL(e)}}function vI(n,e,i){n._throwIfRoot("uploadBytes");const s=mI(n.storage,n._location,oE(),new ao(e,!0),i);return n.storage.makeRequestWithTokens(s,z_).then(a=>({metadata:a,ref:n}))}function yI(n){n._throwIfRoot("getDownloadURL");const e=fI(n.storage,n._location,oE());return n.storage.makeRequestWithTokens(e,z_).then(i=>{if(i===null)throw LL();return i})}function bI(n){n._throwIfRoot("deleteObject");const e=hI(n.storage,n._location);return n.storage.makeRequestWithTokens(e,z_)}function wI(n,e){const i=nI(n._location.path,e),s=new pi(n._location.bucket,i);return new ga(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){return/^[A-Za-z]+:\/\//.test(n)}function EI(n,e){return new ga(n,e)}function fE(n,e){if(n instanceof j_){const i=n;if(i._bucket==null)throw AL();const s=new ga(i,i._bucket);return e!=null?fE(s,e):s}else return e!==void 0?wI(n,e):n}function TI(n,e){if(e&&SI(e)){if(n instanceof j_)return EI(n,e);throw Lg("To use ref(service, url), the first argument must be a Storage instance.")}else return fE(n,e)}function Jb(n,e){const i=e==null?void 0:e[$S];return i==null?null:pi.makeFromBucketSpec(i,n)}function xI(n,e,i,s={}){n.host=`${e}:${i}`;const a=va(e);a&&(Gg(`https://${n.host}`),Yg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:u}=s;u&&(n._overrideAuthToken=typeof u=="string"?u:L1(u,n.app.options.projectId))}class j_{constructor(e,i,s,a,u,h=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=a,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=QS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vL,this._maxUploadRetryTime=yL,this._requests=new Set,a!=null?this._bucket=pi.makeFromBucketSpec(a,this._host):this._bucket=Jb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=Jb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,i,s,a,u=!0){if(this._deleted)return new PL(JS());{const h=VL(e,this._appId,s,a,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,i){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,a).getPromise()}}const ew="@firebase/storage",tw="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="storage";function Ul(n,e,i){return n=Yt(n),vI(n,e,i)}function zl(n){return n=Yt(n),yI(n)}function wd(n){return n=Yt(n),bI(n)}function fs(n,e){return n=Yt(n),TI(n,e)}function CI(n=$g(),e){n=Yt(n);const s=ad(n,hE).getImmediate({identifier:e}),a=R1("storage");return a&&OI(s,...a),s}function OI(n,e,i,s={}){xI(n,e,i,s)}function RI(n,{instanceIdentifier:e}){const i=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new j_(i,s,a,e,ya)}function AI(){ha(new yo(hE,RI,"PUBLIC").setMultipleInstances(!0)),yr(ew,tw,""),yr(ew,tw,"esm2017")}AI();function B_(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(i[s[a]]=n[s[a]]);return i}function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MI=dE,pE=new Ac("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Xg("@firebase/auth");function LI(n,...e){Vh.logLevel<=bt.WARN&&Vh.warn(`Auth (${ya}): ${n}`,...e)}function wh(n,...e){Vh.logLevel<=bt.ERROR&&Vh.error(`Auth (${ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n,...e){throw H_(n,...e)}function br(n,...e){return H_(n,...e)}function mE(n,e,i){const s=Object.assign(Object.assign({},MI()),{[e]:i});return new Ac("auth","Firebase",s).create(e,{appName:n.name})}function vo(n){return mE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H_(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return pE.create(n,...e)}function Be(n,e,...i){if(!n)throw H_(e,...i)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wh(e),new Error(e)}function ls(n,e){n||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function II(){return nw()==="http:"||nw()==="https:"}function nw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(II()||DO()||"connection"in navigator)?navigator.onLine:!0}function PI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i){this.shortDelay=e,this.longDelay=i,ls(i>e,"Short delay should be less than long delay!"),this.isMobile=Kg()||I1()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e){ls(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new Nc(3e4,6e4);function Sa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xo(n,e,i,s,a={}){return _E(n,a,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=kl(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:g},u);return PO()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&va(n.emulatorConfig.host)&&(v.credentials="include"),gE.fetch()(await vE(n,n.config.apiHost,i,d),v)})}async function _E(n,e,i){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},DI),e);try{const a=new jI(n),u=await Promise.race([i(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw dh(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[g,v]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw dh(n,"user-disabled",h);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw mE(n,b,v);Qi(n,b)}}catch(a){if(a instanceof us)throw a;Qi(n,"network-request-failed",{message:String(a)})}}async function Sd(n,e,i,s,a={}){const u=await xo(n,e,i,s,a);return"mfaPendingCredential"in u&&Qi(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function vE(n,e,i,s){const a=`${e}${i}?${s}`,u=n,h=u.config.emulator?F_(n.config,a):`${n.config.apiScheme}://${a}`;return NI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function zI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),UI.get())})}}function dh(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const a=br(n,e,s);return a.customData._tokenResponse=i,a}function iw(n){return n!==void 0&&n.enterprise!==void 0}class BI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return zI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HI(n,e){return xo(n,"GET","/v2/recaptchaConfig",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,e){return xo(n,"POST","/v1/accounts:delete",e)}async function Zh(n,e){return xo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qI(n,e=!1){const i=Yt(n),s=await i.getIdToken(e),a=q_(s);Be(a&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:cc(qm(a.auth_time)),issuedAtTime:cc(qm(a.iat)),expirationTime:cc(qm(a.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qm(n){return Number(n)*1e3}function q_(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Mh(i);return a?JSON.parse(a):(wh("Failed to decode base64 JWT payload"),null)}catch(a){return wh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rw(n){const e=q_(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof us&&WI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function WI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){var e;const i=n.auth,s=await n.getIdToken(),a=await Ec(n,Zh(i,{idToken:s}));Be(a==null?void 0:a.users.length,i,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?yE(u.providerUserInfo):[],d=GI(n.providerData,h),g=n.isAnonymous,v=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),b=g?v:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new kg(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(n,E)}async function ZI(n){const e=Yt(n);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GI(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yE(n){return n.map(e=>{var{providerId:i}=e,s=B_(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){const i=await _E(n,{},async()=>{const s=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,h=await vE(n,a,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",gE.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KI(n,e){return xo(n,"POST","/v2/accounts:revokeToken",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const i=rw(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:a,expiresIn:u}=await YI(e,i);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:a,expirationTime:u}=i,h=new vl;return s&&(Be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(Be(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(Be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:i,auth:s,stsTokenManager:a}=e,u=B_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new kg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return Be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return qI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Ec(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,a,u,h,d,g,v,b;const E=(s=i.displayName)!==null&&s!==void 0?s:void 0,S=(a=i.email)!==null&&a!==void 0?a:void 0,x=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,R=(h=i.photoURL)!==null&&h!==void 0?h:void 0,D=(d=i.tenantId)!==null&&d!==void 0?d:void 0,Y=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,V=(v=i.createdAt)!==null&&v!==void 0?v:void 0,J=(b=i.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:$,emailVerified:ne,isAnonymous:W,providerData:z,stsTokenManager:X}=i;Be($&&X,e,"internal-error");const B=vl.fromJSON(this.name,X);Be(typeof $=="string",e,"internal-error"),so(E,e.name),so(S,e.name),Be(typeof ne=="boolean",e,"internal-error"),Be(typeof W=="boolean",e,"internal-error"),so(x,e.name),so(R,e.name),so(D,e.name),so(Y,e.name),so(V,e.name),so(J,e.name);const A=new Yi({uid:$,auth:e,email:S,emailVerified:ne,displayName:E,isAnonymous:W,photoURL:R,phoneNumber:x,tenantId:D,stsTokenManager:B,createdAt:V,lastLoginAt:J});return z&&Array.isArray(z)&&(A.providerData=z.map(M=>Object.assign({},M))),Y&&(A._redirectEventId=Y),A}static async _fromIdTokenResponse(e,i,s=!1){const a=new vl;a.updateFromServerResponse(i);const u=new Yi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,i,s){const a=i.users[0];Be(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?yE(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),d=new vl;d.updateFromIdToken(s);const g=new Yi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new kg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;function ns(n){ls(n instanceof Function,"Expected a class definition");let e=sw.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}bE.type="NONE";const ow=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n,e,i){return`firebase:${n}:${e}:${i}`}class yl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,a.apiKey,u),this.fullPersistenceKey=Sh("persistence",a.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zh(this.auth,{idToken:e}).catch(()=>{});return i?Yi._fromGetAccountInfoResponse(this.auth,i,e):null}return Yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new yl(ns(ow),e,s);const a=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||ns(ow);const h=Sh(s,e.config.apiKey,e.name);let d=null;for(const v of i)try{const b=await v._get(h);if(b){let E;if(typeof b=="string"){const S=await Zh(e,{idToken:b}).catch(()=>{});if(!S)break;E=await Yi._fromGetAccountInfoResponse(e,S,b)}else E=Yi._fromJSON(e,b);v!==u&&(d=E),u=v;break}}catch{}const g=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new yl(u,e,s):(u=g[0],d&&await u._set(h,d.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new yl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(OE(e))return"Webos";if(SE(e))return"Safari";if((e.includes("chrome/")||EE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function wE(n=qn()){return/firefox\//i.test(n)}function SE(n=qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EE(n=qn()){return/crios\//i.test(n)}function TE(n=qn()){return/iemobile/i.test(n)}function xE(n=qn()){return/android/i.test(n)}function CE(n=qn()){return/blackberry/i.test(n)}function OE(n=qn()){return/webos/i.test(n)}function W_(n=qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XI(n=qn()){var e;return W_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QI(){return NO()&&document.documentMode===10}function RE(n=qn()){return W_(n)||xE(n)||OE(n)||CE(n)||/windows phone/i.test(n)||TE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n,e=[]){let i;switch(n){case"Browser":i=aw(qn());break;case"Worker":i=`${aw(qn())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((h,d)=>{try{const g=e(u);h(g)}catch(g){d(g)}});s.onAbort=i,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const a of i)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(n,e={}){return xo(n,"GET","/v2/passwordPolicy",Sa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=6;class tk{constructor(e){var i,s,a,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:ek,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,a,u,h,d;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(d=g.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),g}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),a&&(i.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,i,s,a){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lw(this),this.idTokenSubscription=new lw(this),this.beforeStateQueue=new $I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zh(this,{idToken:e}),s=await Yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ai(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===d)&&(g!=null&&g.user)&&(a=g.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(vo(this));const i=e?Yt(e):null;return i&&Be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JI(this),i=new tk(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await KI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ns(e)||this._popupRedirectResolver;Be(i,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,a){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,s,a);return()=>{h=!0,g()}}else{const g=e.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(i["X-Firebase-AppCheck"]=a),i}async _getAppCheckToken(){var e;if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&LI(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function jl(n){return Yt(n)}class lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZO(i=>this.observer=i)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ik(n){Ed=n}function ME(n){return Ed.loadJS(n)}function rk(){return Ed.recaptchaEnterpriseScript}function sk(){return Ed.gapiScript}function ok(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ak{constructor(){this.enterprise=new lk}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class lk{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const uk="recaptcha-enterprise",LE="NO_RECAPTCHA";class ck{constructor(e){this.type=uk,this.auth=jl(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{HI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new BI(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(g=>{d(g)})})}function a(u,h,d){const g=window.grecaptcha;iw(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(LE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ak().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!i&&iw(window.grecaptcha))a(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=rk();g.length!==0&&(g+=d),ME(g).then(()=>{a(d,u,h)}).catch(v=>{h(v)})}}).catch(d=>{h(d)})})}}async function uw(n,e,i,s=!1,a=!1){const u=new ck(n);let h;if(a)h=LE;else try{h=await u.verify(i)}catch{h=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cw(n,e,i,s,a){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await uw(n,e,i,i==="getOobCode");return s(n,h)}else return s(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await uw(n,e,i,i==="getOobCode");return s(n,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n,e){const i=ad(n,"auth");if(i.isInitialized()){const a=i.getImmediate(),u=i.getOptions();if(fa(u,e??{}))return a;Qi(a,"already-initialized")}return i.initialize({options:e})}function hk(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(ns);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function dk(n,e,i){const s=jl(n);Be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=IE(e),{host:h,port:d}=pk(e),g=d===null?"":`:${d}`,v={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Be(fa(v,s.config.emulator)&&fa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,va(h)?(Gg(`${u}//${h}${g}`),Yg("Auth",!0)):mk()}function IE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pk(n){const e=IE(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:fw(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:fw(h)}}}function fw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mk(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,i){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function gk(n,e){return xo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e){return Sd(n,"POST","/v1/accounts:signInWithPassword",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,e))}async function yk(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends V_{constructor(e,i,s,a=null){super("password",s),this._email=e,this._password=i,this._tenantId=a}static _fromEmailAndPassword(e,i){return new Tc(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Tc(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,i,"signInWithPassword",_k);case"emailLink":return vk(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,s,"signUpPassword",gk);case"emailLink":return yk(e,{idToken:i,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n,e){return Sd(n,"POST","/v1/accounts:signInWithIdp",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="http://localhost";class _a extends V_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=i,u=B_(i,["providerId","signInMethod"]);if(!s||!a)return null;const h=new _a(s,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return bl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,bl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,bl(e,i)}buildRequest(){const e={requestUri:bk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=kl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sk(n){const e=ec(tc(n)).link,i=e?ec(tc(e)).deep_link_id:null,s=ec(tc(n)).deep_link_id;return(s?ec(tc(s)).link:null)||s||i||e||n}class Z_{constructor(e){var i,s,a,u,h,d;const g=ec(tc(e)),v=(i=g.apiKey)!==null&&i!==void 0?i:null,b=(s=g.oobCode)!==null&&s!==void 0?s:null,E=wk((a=g.mode)!==null&&a!==void 0?a:null);Be(v&&b&&E,"argument-error"),this.apiKey=v,this.operation=E,this.code=b,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=g.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=Sk(e);try{return new Z_(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,i){return Tc._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Z_.parseLink(i);return Be(s,"argument-error"),Tc._fromEmailAndCode(e,s.code,s.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends kE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Uc{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return _a._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return uo.credential(i,s)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Uc{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Uc{constructor(){super("twitter.com")}static credential(e,i){return _a._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return fo.credential(i,s)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,a=!1){const u=await Yi._fromIdTokenResponse(e,s,a),h=hw(s);return new Ol({user:u,providerId:h,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const a=hw(s);return new Ol({user:e,providerId:a,_tokenResponse:s,operationType:i})}}function hw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends us{constructor(e,i,s,a){var u;super(i.code,i.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,a){return new Yh(e,i,s,a)}}function PE(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(n,u,e,s):u})}async function Ek(n,e,i=!1){const s=await Ec(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Ol._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(n,e,i=!1){const{auth:s}=n;if(Ai(s.app))return Promise.reject(vo(s));const a="reauthenticate";try{const u=await Ec(n,PE(s,a,e,n),i);Be(u.idToken,s,"internal-error");const h=q_(u.idToken);Be(h,s,"internal-error");const{sub:d}=h;return Be(n.uid===d,s,"user-mismatch"),Ol._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n,e,i=!1){if(Ai(n.app))return Promise.reject(vo(n));const s="signIn",a=await PE(n,s,e),u=await Ol._fromIdTokenResponse(n,s,a);return i||await n._updateCurrentUser(u.user),u}async function xk(n,e){return DE(jl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n){const e=jl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Ok(n,e,i){return Ai(n.app)?Promise.reject(vo(n)):xk(Yt(n),Bl.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ck(n),s})}function Rk(n,e,i,s){return Yt(n).onIdTokenChanged(e,i,s)}function Ak(n,e,i){return Yt(n).beforeAuthStateChanged(e,i)}function Mk(n,e,i,s){return Yt(n).onAuthStateChanged(e,i,s)}function Lk(n){return Yt(n).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=1e3,kk=10;class UE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),a=this.localCache[i];s!==a&&e(i,a,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,g)=>{this.notifyListeners(h,g)});return}const s=e.key;i?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!i&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);QI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kk):a()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}UE.type="LOCAL";const Pk=UE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}zE.type="SESSION";const jE=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(a=>a.isListeningto(e));if(i)return i;const s=new Td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:a,data:u}=i.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(h).map(async v=>v(i.origin,u)),g=await Dk(d);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((d,g)=>{const v=G_("",20);a.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(E){const S=E;if(S.data.eventId===v)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function Uk(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function zk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Bk(){return BE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",Hk=1,Xh="firebaseLocalStorage",FE="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xd(n,e){return n.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function Fk(){const n=indexedDB.deleteDatabase(HE);return new zc(n).toPromise()}function Pg(){const n=indexedDB.open(HE,Hk);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Xh,{keyPath:FE})}catch(a){i(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Xh)?e(s):(s.close(),await Fk(),e(await Pg()))})})}async function dw(n,e,i){const s=xd(n,!0).put({[FE]:e,value:i});return new zc(s).toPromise()}async function qk(n,e){const i=xd(n,!1).get(e),s=await new zc(i).toPromise();return s===void 0?null:s.value}function pw(n,e){const i=xd(n,!0).delete(e);return new zc(i).toPromise()}const Wk=800,Vk=3;class qE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>Vk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await zk(),!this.activeServiceWorker)return;this.sender=new Nk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await dw(e,Kh,"1"),await pw(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>dw(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>qk(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>pw(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=xd(a,!1).getAll();return new zc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qE.type="LOCAL";const Zk=qE;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n,e){return e?ns(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends V_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return bl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Yk(n){return DE(n.auth,new Y_(n),n.bypassAuthState)}function Kk(n){const{auth:e,user:i}=n;return Be(i,e,"internal-error"),Tk(i,new Y_(n),n.bypassAuthState)}async function Xk(n){const{auth:e,user:i}=n;return Be(i,e,"internal-error"),Ek(i,new Y_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,i,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:a,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Kk;default:Qi(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Nc(2e3,1e4);class pl extends WE{constructor(e,i,s,a,u){super(e,i,a,u),this.provider=s,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qk.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="pendingRedirect",Eh=new Map;class Jk extends WE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await eP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eP(n,e){const i=iP(e),s=nP(n);if(!await s._isAvailable())return!1;const a=await s._get(i)==="true";return await s._remove(i),a}function tP(n,e){Eh.set(n._key(),e)}function nP(n){return ns(n._redirectPersistence)}function iP(n){return Sh($k,n.config.apiKey,n.name)}async function rP(n,e,i=!1){if(Ai(n.app))return Promise.reject(vo(n));const s=jl(n),a=Gk(s,e),h=await new Jk(s,a,i).execute();return h&&!i&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=10*60*1e3;class oP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aP(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!VE(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(br(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sP&&this.cachedEventUids.clear(),this.cachedEventUids.has(mw(e))}saveEventToCache(e){this.cachedEventUids.add(mw(e)),this.lastProcessedEventTime=Date.now()}}function mw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,e={}){return xo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function fP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lP(n);for(const i of e)try{if(hP(i))return}catch{}Qi(n,"unauthorized-domain")}function hP(n){const e=Ig(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===s}if(!cP.test(i))return!1;if(uP.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Nc(3e4,6e4);function gw(){const n=wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function pP(n){return new Promise((e,i)=>{var s,a,u;function h(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),i(br(n,"network-request-failed"))},timeout:dP.get()})}if(!((a=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=wr().gapi)===null||u===void 0)&&u.load)h();else{const d=ok("iframefcb");return wr()[d]=()=>{gapi.load?h():i(br(n,"network-request-failed"))},ME(`${sk()}?onload=${d}`).catch(g=>i(g))}}).catch(e=>{throw Th=null,e})}let Th=null;function mP(n){return Th=Th||pP(n),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Nc(5e3,15e3),_P="__/auth/iframe",vP="emulator/auth/iframe",yP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wP(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?F_(e,vP):`https://${n.config.authDomain}/${_P}`,s={apiKey:e.apiKey,appName:n.name,v:ya},a=bP.get(n.config.apiHost);a&&(s.eid=a);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${kl(s).slice(1)}`}async function SP(n){const e=await mP(n),i=wr().gapi;return Be(i,n,"internal-error"),e.open({where:document.body,url:wP(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yP,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const h=br(n,"network-request-failed"),d=wr().setTimeout(()=>{u(h)},gP.get());function g(){wr().clearTimeout(d),a(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TP=500,xP=600,CP="_blank",OP="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RP(n,e,i,s=TP,a=xP){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const g=Object.assign(Object.assign({},EP),{width:s.toString(),height:a.toString(),top:u,left:h}),v=qn().toLowerCase();i&&(d=EE(v)?CP:i),wE(v)&&(e=e||OP,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[x,R])=>`${S}${x}=${R},`,"");if(XI(v)&&d!=="_self")return AP(e||"",d),new _w(null);const E=window.open(e||"",d,b);Be(E,n,"popup-blocked");try{E.focus()}catch{}return new _w(E)}function AP(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",LP="emulator/auth/handler",IP=encodeURIComponent("fac");async function vw(n,e,i,s,a,u){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:ya,eventId:a};if(e instanceof kE){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",dg(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))h[b]=E}if(e instanceof Uc){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(h.scopes=b.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const g=await n._getAppCheckToken(),v=g?`#${IP}=${encodeURIComponent(g)}`:"";return`${kP(n)}?${kl(d).slice(1)}${v}`}function kP({config:n}){return n.emulator?F_(n,LP):`https://${n.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=rP,this._overrideRedirectResult=tP}async _openPopup(e,i,s,a){var u;ls((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await vw(e,i,s,Ig(),a);return RP(e,h,G_())}async _openRedirect(e,i,s,a){await this._originValidation(e);const u=await vw(e,i,s,Ig(),a);return Uk(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:a,promise:u}=this.eventManagers[i];return a?Promise.resolve(a):(ls(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await SP(e),s=new oP(e);return i.register("authEvent",a=>(Be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wm,{type:Wm},a=>{var u;const h=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[Wm];h!==void 0&&i(!!h),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fP(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return RE()||SE()||W_()}}const DP=PP;var yw="@firebase/auth",bw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zP(n){ha(new yo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(n)},v=new nk(s,a,u,g);return hk(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),ha(new yo("auth-internal",e=>{const i=jl(e.getProvider("auth").getImmediate());return(s=>new NP(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(yw,bw,UP(n)),yr(yw,bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=5*60,BP=M1("authIdTokenMaxAge")||jP;let ww=null;const HP=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>BP)return;const a=i==null?void 0:i.token;ww!==a&&(ww=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ZE(n=$g()){const e=ad(n,"auth");if(e.isInitialized())return e.getImmediate();const i=fk(n,{popupRedirectResolver:DP,persistence:[Zk,Pk,jE]}),s=M1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=HP(u.toString());Ak(i,h,()=>h(i.currentUser)),Rk(i,d=>h(d))}}const a=O1("auth");return a&&dk(i,`http://${a}`),i}function FP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ik({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const u=br("internal-error");u.customData=a,i(u)},s.type="text/javascript",s.charset="UTF-8",FP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zP("Browser");function qP(n,e){return e.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(s){if(s!=="default"&&!(s in n)){var a=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return i[s]}})}})}),Object.freeze(n)}function GE(n,e){return new Promise(function(i,s){let a;return WP(n).then(function(u){try{return a=u,i(new Blob([e.slice(0,2),a,e.slice(2)],{type:"image/jpeg"}))}catch(h){return s(h)}},s)})}const WP=n=>new Promise((e,i)=>{const s=new FileReader;s.addEventListener("load",({target:{result:a}})=>{const u=new DataView(a);let h=0;if(u.getUint16(h)!==65496)return i("not a valid JPEG");for(h+=2;;){const d=u.getUint16(h);if(d===65498)break;const g=u.getUint16(h+2);if(d===65505&&u.getUint32(h+4)===1165519206){const v=h+10;let b;switch(u.getUint16(v)){case 18761:b=!0;break;case 19789:b=!1;break;default:return i("TIFF header contains invalid endian")}if(u.getUint16(v+2,b)!==42)return i("TIFF header contains invalid version");const E=u.getUint32(v+4,b),S=v+E+2+12*u.getUint16(v+E,b);for(let x=v+E+2;x<S;x+=12)if(u.getUint16(x,b)==274){if(u.getUint16(x+2,b)!==3)return i("Orientation data type is invalid");if(u.getUint32(x+4,b)!==1)return i("Orientation data count is invalid");u.setUint16(x+8,1,b);break}return e(a.slice(h,h+2+g))}h+=2+g}return e(new Blob)}),s.readAsArrayBuffer(n)});var Qh={},VP={get exports(){return Qh},set exports(n){Qh=n}};(function(n){var e,i,s={};VP.exports=s,s.parse=function(a,u){for(var h=s.bin.readUshort,d=s.bin.readUint,g=0,v={},b=new Uint8Array(a),E=b.length-4;d(b,E)!=101010256;)E--;g=E,g+=4;var S=h(b,g+=4);h(b,g+=2);var x=d(b,g+=2),R=d(b,g+=4);g+=4,g=R;for(var D=0;D<S;D++){d(b,g),g+=4,g+=4,g+=4,d(b,g+=4),x=d(b,g+=4);var Y=d(b,g+=4),V=h(b,g+=4),J=h(b,g+2),$=h(b,g+4);g+=6;var ne=d(b,g+=8);g+=4,g+=V+J+$,s._readLocal(b,ne,v,x,Y,u)}return v},s._readLocal=function(a,u,h,d,g,v){var b=s.bin.readUshort,E=s.bin.readUint;E(a,u),b(a,u+=4),b(a,u+=2);var S=b(a,u+=2);E(a,u+=2),E(a,u+=4),u+=4;var x=b(a,u+=8),R=b(a,u+=2);u+=2;var D=s.bin.readUTF8(a,u,x);if(u+=x,u+=R,v)h[D]={size:g,csize:d};else{var Y=new Uint8Array(a.buffer,u);if(S==0)h[D]=new Uint8Array(Y.buffer.slice(u,u+d));else{if(S!=8)throw"unknown compression method: "+S;var V=new Uint8Array(g);s.inflateRaw(Y,V),h[D]=V}}},s.inflateRaw=function(a,u){return s.F.inflate(a,u)},s.inflate=function(a,u){return a[0],a[1],s.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),u)},s.deflate=function(a,u){u==null&&(u={level:6});var h=0,d=new Uint8Array(50+Math.floor(1.1*a.length));d[h]=120,d[h+1]=156,h+=2,h=s.F.deflateRaw(a,d,h,u.level);var g=s.adler(a,0,a.length);return d[h+0]=g>>>24&255,d[h+1]=g>>>16&255,d[h+2]=g>>>8&255,d[h+3]=g>>>0&255,new Uint8Array(d.buffer,0,h+4)},s.deflateRaw=function(a,u){u==null&&(u={level:6});var h=new Uint8Array(50+Math.floor(1.1*a.length)),d=s.F.deflateRaw(a,h,d,u.level);return new Uint8Array(h.buffer,0,d)},s.encode=function(a,u){u==null&&(u=!1);var h=0,d=s.bin.writeUint,g=s.bin.writeUshort,v={};for(var b in a){var E=!s._noNeed(b)&&!u,S=a[b],x=s.crc.crc(S,0,S.length);v[b]={cpr:E,usize:S.length,crc:x,file:E?s.deflateRaw(S):S}}for(var b in v)h+=v[b].file.length+30+46+2*s.bin.sizeUTF8(b);h+=22;var R=new Uint8Array(h),D=0,Y=[];for(var b in v){var V=v[b];Y.push(D),D=s._writeHeader(R,D,b,V,0)}var J=0,$=D;for(var b in v)V=v[b],Y.push(D),D=s._writeHeader(R,D,b,V,1,Y[J++]);var ne=D-$;return d(R,D,101010256),D+=4,g(R,D+=4,J),g(R,D+=2,J),d(R,D+=2,ne),d(R,D+=4,$),D+=4,D+=2,R.buffer},s._noNeed=function(a){var u=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(u)!=-1},s._writeHeader=function(a,u,h,d,g,v){var b=s.bin.writeUint,E=s.bin.writeUshort,S=d.file;return b(a,u,g==0?67324752:33639248),u+=4,g==1&&(u+=2),E(a,u,20),E(a,u+=2,0),E(a,u+=2,d.cpr?8:0),b(a,u+=2,0),b(a,u+=4,d.crc),b(a,u+=4,S.length),b(a,u+=4,d.usize),E(a,u+=4,s.bin.sizeUTF8(h)),E(a,u+=2,0),u+=2,g==1&&(u+=2,u+=2,b(a,u+=6,v),u+=4),u+=s.bin.writeUTF8(a,u,h),g==0&&(a.set(S,u),u+=S.length),u},s.crc={table:function(){for(var a=new Uint32Array(256),u=0;u<256;u++){for(var h=u,d=0;d<8;d++)1&h?h=3988292384^h>>>1:h>>>=1;a[u]=h}return a}(),update:function(a,u,h,d){for(var g=0;g<d;g++)a=s.crc.table[255&(a^u[h+g])]^a>>>8;return a},crc:function(a,u,h){return 4294967295^s.crc.update(4294967295,a,u,h)}},s.adler=function(a,u,h){for(var d=1,g=0,v=u,b=u+h;v<b;){for(var E=Math.min(v+5552,b);v<E;)g+=d+=a[v++];d%=65521,g%=65521}return g<<16|d},s.bin={readUshort:function(a,u){return a[u]|a[u+1]<<8},writeUshort:function(a,u,h){a[u]=255&h,a[u+1]=h>>8&255},readUint:function(a,u){return 16777216*a[u+3]+(a[u+2]<<16|a[u+1]<<8|a[u])},writeUint:function(a,u,h){a[u]=255&h,a[u+1]=h>>8&255,a[u+2]=h>>16&255,a[u+3]=h>>24&255},readASCII:function(a,u,h){for(var d="",g=0;g<h;g++)d+=String.fromCharCode(a[u+g]);return d},writeASCII:function(a,u,h){for(var d=0;d<h.length;d++)a[u+d]=h.charCodeAt(d)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,u,h){for(var d,g="",v=0;v<h;v++)g+="%"+s.bin.pad(a[u+v].toString(16));try{d=decodeURIComponent(g)}catch{return s.bin.readASCII(a,u,h)}return d},writeUTF8:function(a,u,h){for(var d=h.length,g=0,v=0;v<d;v++){var b=h.charCodeAt(v);if((4294967168&b)==0)a[u+g]=b,g++;else if((4294965248&b)==0)a[u+g]=192|b>>6,a[u+g+1]=128|b>>0&63,g+=2;else if((4294901760&b)==0)a[u+g]=224|b>>12,a[u+g+1]=128|b>>6&63,a[u+g+2]=128|b>>0&63,g+=3;else{if((4292870144&b)!=0)throw"e";a[u+g]=240|b>>18,a[u+g+1]=128|b>>12&63,a[u+g+2]=128|b>>6&63,a[u+g+3]=128|b>>0&63,g+=4}}return g},sizeUTF8:function(a){for(var u=a.length,h=0,d=0;d<u;d++){var g=a.charCodeAt(d);if((4294967168&g)==0)h++;else if((4294965248&g)==0)h+=2;else if((4294901760&g)==0)h+=3;else{if((4292870144&g)!=0)throw"e";h+=4}}return h}},s.F={},s.F.deflateRaw=function(a,u,h,d){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],v=s.F.U,b=s.F._goodIndex;s.F._hash;var E=s.F._putsE,S=0,x=h<<3,R=0,D=a.length;if(d==0){for(;S<D;)E(u,x,S+(P=Math.min(65535,D-S))==D?1:0),x=s.F._copyExact(a,S,P,u,x+8),S+=P;return x>>>3}var Y=v.lits,V=v.strt,J=v.prev,$=0,ne=0,W=0,z=0,X=0,B=0;for(D>2&&(V[B=s.F._hash(a,0)]=0),S=0;S<D;S++){if(X=B,S+1<D-2){B=s.F._hash(a,S+1);var A=S+1&32767;J[A]=V[B],V[B]=A}if(R<=S){($>14e3||ne>26697)&&D-S>100&&(R<S&&(Y[$]=S-R,$+=2,R=S),x=s.F._writeBlock(S==D-1||R==D?1:0,Y,$,z,a,W,S-W,u,x),$=ne=z=0,W=S);var M=0;S<D-2&&(M=s.F._bestMatch(a,S,J,X,Math.min(g[2],D-S),g[3]));var P=M>>>16,U=65535&M;if(M!=0){U=65535&M;var H=b(P=M>>>16,v.of0);v.lhst[257+H]++;var N=b(U,v.df0);v.dhst[N]++,z+=v.exb[H]+v.dxb[N],Y[$]=P<<23|S-R,Y[$+1]=U<<16|H<<8|N,$+=2,R=S+P}else v.lhst[a[S]]++;ne++}}for(W==S&&a.length!=0||(R<S&&(Y[$]=S-R,$+=2,R=S),x=s.F._writeBlock(1,Y,$,z,a,W,S-W,u,x),$=0,ne=0,$=ne=z=0,W=S);(7&x)!=0;)x++;return x>>>3},s.F._bestMatch=function(a,u,h,d,g,v){var b=32767&u,E=h[b],S=b-E+32768&32767;if(E==b||d!=s.F._hash(a,u-S))return 0;for(var x=0,R=0,D=Math.min(32767,u);S<=D&&--v!=0&&E!=b;){if(x==0||a[u+x]==a[u+x-S]){var Y=s.F._howLong(a,u,S);if(Y>x){if(R=S,(x=Y)>=g)break;S+2<Y&&(Y=S+2);for(var V=0,J=0;J<Y-2;J++){var $=u-S+J+32768&32767,ne=$-h[$]+32768&32767;ne>V&&(V=ne,E=$)}}}S+=(b=E)-(E=h[b])+32768&32767}return x<<16|R},s.F._howLong=function(a,u,h){if(a[u]!=a[u-h]||a[u+1]!=a[u+1-h]||a[u+2]!=a[u+2-h])return 0;var d=u,g=Math.min(a.length,u+258);for(u+=3;u<g&&a[u]==a[u-h];)u++;return u-d},s.F._hash=function(a,u){return(a[u]<<8|a[u+1])+(a[u+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(a,u,h,d,g,v,b,E,S){var x,R,D,Y,V,J,$,ne,W,z=s.F.U,X=s.F._putsF,B=s.F._putsE;z.lhst[256]++,R=(x=s.F.getTrees())[0],D=x[1],Y=x[2],V=x[3],J=x[4],$=x[5],ne=x[6],W=x[7];var A=32+((S+3&7)==0?0:8-(S+3&7))+(b<<3),M=d+s.F.contSize(z.fltree,z.lhst)+s.F.contSize(z.fdtree,z.dhst),P=d+s.F.contSize(z.ltree,z.lhst)+s.F.contSize(z.dtree,z.dhst);P+=14+3*$+s.F.contSize(z.itree,z.ihst)+(2*z.ihst[16]+3*z.ihst[17]+7*z.ihst[18]);for(var U=0;U<286;U++)z.lhst[U]=0;for(U=0;U<30;U++)z.dhst[U]=0;for(U=0;U<19;U++)z.ihst[U]=0;var H=A<M&&A<P?0:M<P?1:2;if(X(E,S,a),X(E,S+1,H),S+=3,H==0){for(;(7&S)!=0;)S++;S=s.F._copyExact(g,v,b,E,S)}else{var N,G;if(H==1&&(N=z.fltree,G=z.fdtree),H==2){s.F.makeCodes(z.ltree,R),s.F.revCodes(z.ltree,R),s.F.makeCodes(z.dtree,D),s.F.revCodes(z.dtree,D),s.F.makeCodes(z.itree,Y),s.F.revCodes(z.itree,Y),N=z.ltree,G=z.dtree,B(E,S,V-257),B(E,S+=5,J-1),B(E,S+=5,$-4),S+=4;for(var O=0;O<$;O++)B(E,S+3*O,z.itree[1+(z.ordr[O]<<1)]);S+=3*$,S=s.F._codeTiny(ne,z.itree,E,S),S=s.F._codeTiny(W,z.itree,E,S)}for(var _=v,Q=0;Q<h;Q+=2){for(var F=u[Q],w=F>>>23,k=_+(8388607&F);_<k;)S=s.F._writeLit(g[_++],N,E,S);if(w!=0){var K=u[Q+1],ie=K>>16,ee=K>>8&255,te=255&K;B(E,S=s.F._writeLit(257+ee,N,E,S),w-z.of0[ee]),S+=z.exb[ee],X(E,S=s.F._writeLit(te,G,E,S),ie-z.df0[te]),S+=z.dxb[te],_+=w}}S=s.F._writeLit(256,N,E,S)}return S},s.F._copyExact=function(a,u,h,d,g){var v=g>>>3;return d[v]=h,d[v+1]=h>>>8,d[v+2]=255-d[v],d[v+3]=255-d[v+1],v+=4,d.set(new Uint8Array(a.buffer,u,h),v),g+(h+4<<3)},s.F.getTrees=function(){for(var a=s.F.U,u=s.F._hufTree(a.lhst,a.ltree,15),h=s.F._hufTree(a.dhst,a.dtree,15),d=[],g=s.F._lenCodes(a.ltree,d),v=[],b=s.F._lenCodes(a.dtree,v),E=0;E<d.length;E+=2)a.ihst[d[E]]++;for(E=0;E<v.length;E+=2)a.ihst[v[E]]++;for(var S=s.F._hufTree(a.ihst,a.itree,7),x=19;x>4&&a.itree[1+(a.ordr[x-1]<<1)]==0;)x--;return[u,h,S,g,b,x,d,v]},s.F.getSecond=function(a){for(var u=[],h=0;h<a.length;h+=2)u.push(a[h+1]);return u},s.F.nonZero=function(a){for(var u="",h=0;h<a.length;h+=2)a[h+1]!=0&&(u+=(h>>1)+",");return u},s.F.contSize=function(a,u){for(var h=0,d=0;d<u.length;d++)h+=u[d]*a[1+(d<<1)];return h},s.F._codeTiny=function(a,u,h,d){for(var g=0;g<a.length;g+=2){var v=a[g],b=a[g+1];d=s.F._writeLit(v,u,h,d);var E=v==16?2:v==17?3:7;v>15&&(s.F._putsE(h,d,b,E),d+=E)}return d},s.F._lenCodes=function(a,u){for(var h=a.length;h!=2&&a[h-1]==0;)h-=2;for(var d=0;d<h;d+=2){var g=a[d+1],v=d+3<h?a[d+3]:-1,b=d+5<h?a[d+5]:-1,E=d==0?-1:a[d-1];if(g==0&&v==g&&b==g){for(var S=d+5;S+2<h&&a[S+2]==g;)S+=2;(x=Math.min(S+1-d>>>1,138))<11?u.push(17,x-3):u.push(18,x-11),d+=2*x-2}else if(g==E&&v==g&&b==g){for(S=d+5;S+2<h&&a[S+2]==g;)S+=2;var x=Math.min(S+1-d>>>1,6);u.push(16,x-3),d+=2*x-2}else u.push(g,0)}return h>>>1},s.F._hufTree=function(a,u,h){var d=[],g=a.length,v=u.length,b=0;for(b=0;b<v;b+=2)u[b]=0,u[b+1]=0;for(b=0;b<g;b++)a[b]!=0&&d.push({lit:b,f:a[b]});var E=d.length,S=d.slice(0);if(E==0)return 0;if(E==1){var x=d[0].lit;return S=x==0?1:0,u[1+(x<<1)]=1,u[1+(S<<1)]=1,1}d.sort(function(ne,W){return ne.f-W.f});var R=d[0],D=d[1],Y=0,V=1,J=2;for(d[0]={lit:-1,f:R.f+D.f,l:R,r:D,d:0};V!=E-1;)R=Y!=V&&(J==E||d[Y].f<d[J].f)?d[Y++]:d[J++],D=Y!=V&&(J==E||d[Y].f<d[J].f)?d[Y++]:d[J++],d[V++]={lit:-1,f:R.f+D.f,l:R,r:D};var $=s.F.setDepth(d[V-1],0);for($>h&&(s.F.restrictDepth(S,h,$),$=h),b=0;b<E;b++)u[1+(S[b].lit<<1)]=S[b].d;return $},s.F.setDepth=function(a,u){return a.lit!=-1?(a.d=u,u):Math.max(s.F.setDepth(a.l,u+1),s.F.setDepth(a.r,u+1))},s.F.restrictDepth=function(a,u,h){var d=0,g=1<<h-u,v=0;for(a.sort(function(E,S){return S.d==E.d?E.f-S.f:S.d-E.d}),d=0;d<a.length&&a[d].d>u;d++){var b=a[d].d;a[d].d=u,v+=g-(1<<h-b)}for(v>>>=h-u;v>0;)(b=a[d].d)<u?(a[d].d++,v-=1<<u-b-1):d++;for(;d>=0;d--)a[d].d==u&&v<0&&(a[d].d--,v++);v!=0&&console.log("debt left")},s.F._goodIndex=function(a,u){var h=0;return u[16|h]<=a&&(h|=16),u[8|h]<=a&&(h|=8),u[4|h]<=a&&(h|=4),u[2|h]<=a&&(h|=2),u[1|h]<=a&&(h|=1),h},s.F._writeLit=function(a,u,h,d){return s.F._putsF(h,d,u[a<<1]),d+u[1+(a<<1)]},s.F.inflate=function(a,u){var h=Uint8Array;if(a[0]==3&&a[1]==0)return u||new h(0);var d=s.F,g=d._bitsF,v=d._bitsE,b=d._decodeTiny,E=d.makeCodes,S=d.codes2map,x=d._get17,R=d.U,D=u==null;D&&(u=new h(a.length>>>2<<3));for(var Y,V,J=0,$=0,ne=0,W=0,z=0,X=0,B=0,A=0,M=0;J==0;)if(J=g(a,M,1),$=g(a,M+1,2),M+=3,$!=0){if(D&&(u=s.F._check(u,A+(1<<17))),$==1&&(Y=R.flmap,V=R.fdmap,X=511,B=31),$==2){ne=v(a,M,5)+257,W=v(a,M+5,5)+1,z=v(a,M+10,4)+4,M+=14;for(var P=0;P<38;P+=2)R.itree[P]=0,R.itree[P+1]=0;var U=1;for(P=0;P<z;P++){var H=v(a,M+3*P,3);R.itree[1+(R.ordr[P]<<1)]=H,H>U&&(U=H)}M+=3*z,E(R.itree,U),S(R.itree,U,R.imap),Y=R.lmap,V=R.dmap,M=b(R.imap,(1<<U)-1,ne+W,a,M,R.ttree);var N=d._copyOut(R.ttree,0,ne,R.ltree);X=(1<<N)-1;var G=d._copyOut(R.ttree,ne,W,R.dtree);B=(1<<G)-1,E(R.ltree,N),S(R.ltree,N,Y),E(R.dtree,G),S(R.dtree,G,V)}for(;;){var O=Y[x(a,M)&X];M+=15&O;var _=O>>>4;if(!(_>>>8))u[A++]=_;else{if(_==256)break;var Q=A+_-254;if(_>264){var F=R.ldef[_-257];Q=A+(F>>>3)+v(a,M,7&F),M+=7&F}var w=V[x(a,M)&B];M+=15&w;var k=w>>>4,K=R.ddef[k],ie=(K>>>4)+g(a,M,15&K);for(M+=15&K,D&&(u=s.F._check(u,A+(1<<17)));A<Q;)u[A]=u[A++-ie],u[A]=u[A++-ie],u[A]=u[A++-ie],u[A]=u[A++-ie];A=Q}}}else{(7&M)!=0&&(M+=8-(7&M));var ee=4+(M>>>3),te=a[ee-4]|a[ee-3]<<8;D&&(u=s.F._check(u,A+te)),u.set(new h(a.buffer,a.byteOffset+ee,te),A),M=ee+te<<3,A+=te}return u.length==A?u:u.slice(0,A)},s.F._check=function(a,u){var h=a.length;if(u<=h)return a;var d=new Uint8Array(Math.max(h<<1,u));return d.set(a,0),d},s.F._decodeTiny=function(a,u,h,d,g,v){for(var b=s.F._bitsE,E=s.F._get17,S=0;S<h;){var x=a[E(d,g)&u];g+=15&x;var R=x>>>4;if(R<=15)v[S]=R,S++;else{var D=0,Y=0;R==16?(Y=3+b(d,g,2),g+=2,D=v[S-1]):R==17?(Y=3+b(d,g,3),g+=3):R==18&&(Y=11+b(d,g,7),g+=7);for(var V=S+Y;S<V;)v[S]=D,S++}}return g},s.F._copyOut=function(a,u,h,d){for(var g=0,v=0,b=d.length>>>1;v<h;){var E=a[v+u];d[v<<1]=0,d[1+(v<<1)]=E,E>g&&(g=E),v++}for(;v<b;)d[v<<1]=0,d[1+(v<<1)]=0,v++;return g},s.F.makeCodes=function(a,u){for(var h,d,g,v,b=s.F.U,E=a.length,S=b.bl_count,x=0;x<=u;x++)S[x]=0;for(x=1;x<E;x+=2)S[a[x]]++;var R=b.next_code;for(h=0,S[0]=0,d=1;d<=u;d++)h=h+S[d-1]<<1,R[d]=h;for(g=0;g<E;g+=2)(v=a[g+1])!=0&&(a[g]=R[v],R[v]++)},s.F.codes2map=function(a,u,h){for(var d=a.length,g=s.F.U.rev15,v=0;v<d;v+=2)if(a[v+1]!=0)for(var b=v>>1,E=a[v+1],S=b<<4|E,x=u-E,R=a[v]<<x,D=R+(1<<x);R!=D;)h[g[R]>>>15-u]=S,R++},s.F.revCodes=function(a,u){for(var h=s.F.U.rev15,d=15-u,g=0;g<a.length;g+=2){var v=a[g]<<u-a[g+1];a[g]=h[v]>>>d}},s.F._putsE=function(a,u,h){h<<=7&u;var d=u>>>3;a[d]|=h,a[d+1]|=h>>>8},s.F._putsF=function(a,u,h){h<<=7&u;var d=u>>>3;a[d]|=h,a[d+1]|=h>>>8,a[d+2]|=h>>>16},s.F._bitsE=function(a,u,h){return(a[u>>>3]|a[1+(u>>>3)]<<8)>>>(7&u)&(1<<h)-1},s.F._bitsF=function(a,u,h){return(a[u>>>3]|a[1+(u>>>3)]<<8|a[2+(u>>>3)]<<16)>>>(7&u)&(1<<h)-1},s.F._get17=function(a,u){return(a[u>>>3]|a[1+(u>>>3)]<<8|a[2+(u>>>3)]<<16)>>>(7&u)},s.F._get25=function(a,u){return(a[u>>>3]|a[1+(u>>>3)]<<8|a[2+(u>>>3)]<<16|a[3+(u>>>3)]<<24)>>>(7&u)},s.F.U=(e=Uint16Array,i=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var a=s.F.U,u=0;u<32768;u++){var h=u;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,a.rev15[u]=(h>>>16|h<<16)>>>17}function d(g,v,b){for(;v--!=0;)g.push(0,b)}for(u=0;u<32;u++)a.ldef[u]=a.of0[u]<<3|a.exb[u],a.ddef[u]=a.df0[u]<<4|a.dxb[u];d(a.fltree,144,8),d(a.fltree,112,9),d(a.fltree,24,7),d(a.fltree,8,8),s.F.makeCodes(a.fltree,9),s.F.codes2map(a.fltree,9,a.flmap),s.F.revCodes(a.fltree,9),d(a.fdtree,32,5),s.F.makeCodes(a.fdtree,5),s.F.codes2map(a.fdtree,5,a.fdmap),s.F.revCodes(a.fdtree,5),d(a.itree,19,0),d(a.ltree,286,0),d(a.dtree,30,0),d(a.ttree,320,0)}()})();var ZP=qP({__proto__:null,default:Qh},[Qh]);const Vi=function(){var n={nextZero(b,E){for(;b[E]!=0;)E++;return E},readUshort:(b,E)=>b[E]<<8|b[E+1],writeUshort(b,E,S){b[E]=S>>8&255,b[E+1]=255&S},readUint:(b,E)=>16777216*b[E]+(b[E+1]<<16|b[E+2]<<8|b[E+3]),writeUint(b,E,S){b[E]=S>>24&255,b[E+1]=S>>16&255,b[E+2]=S>>8&255,b[E+3]=255&S},readASCII(b,E,S){let x="";for(let R=0;R<S;R++)x+=String.fromCharCode(b[E+R]);return x},writeASCII(b,E,S){for(let x=0;x<S.length;x++)b[E+x]=S.charCodeAt(x)},readBytes(b,E,S){const x=[];for(let R=0;R<S;R++)x.push(b[E+R]);return x},pad:b=>b.length<2?`0${b}`:b,readUTF8(b,E,S){let x,R="";for(let D=0;D<S;D++)R+=`%${n.pad(b[E+D].toString(16))}`;try{x=decodeURIComponent(R)}catch{return n.readASCII(b,E,S)}return x}};function e(b,E,S,x){const R=E*S,D=u(x),Y=Math.ceil(E*D/8),V=new Uint8Array(4*R),J=new Uint32Array(V.buffer),{ctype:$}=x,{depth:ne}=x,W=n.readUshort;if($==6){const F=R<<2;if(ne==8)for(var z=0;z<F;z+=4)V[z]=b[z],V[z+1]=b[z+1],V[z+2]=b[z+2],V[z+3]=b[z+3];if(ne==16)for(z=0;z<F;z++)V[z]=b[z<<1]}else if($==2){const F=x.tabs.tRNS;if(F==null){if(ne==8)for(z=0;z<R;z++){var X=3*z;J[z]=255<<24|b[X+2]<<16|b[X+1]<<8|b[X]}if(ne==16)for(z=0;z<R;z++)X=6*z,J[z]=255<<24|b[X+4]<<16|b[X+2]<<8|b[X]}else{var B=F[0];const w=F[1],k=F[2];if(ne==8)for(z=0;z<R;z++){var A=z<<2;X=3*z,J[z]=255<<24|b[X+2]<<16|b[X+1]<<8|b[X],b[X]==B&&b[X+1]==w&&b[X+2]==k&&(V[A+3]=0)}if(ne==16)for(z=0;z<R;z++)A=z<<2,X=6*z,J[z]=255<<24|b[X+4]<<16|b[X+2]<<8|b[X],W(b,X)==B&&W(b,X+2)==w&&W(b,X+4)==k&&(V[A+3]=0)}}else if($==3){const F=x.tabs.PLTE,w=x.tabs.tRNS,k=w?w.length:0;if(ne==1)for(var M=0;M<S;M++){var P=M*Y,U=M*E;for(z=0;z<E;z++){A=U+z<<2;var H=3*(N=b[P+(z>>3)]>>7-((7&z)<<0)&1);V[A]=F[H],V[A+1]=F[H+1],V[A+2]=F[H+2],V[A+3]=N<k?w[N]:255}}if(ne==2)for(M=0;M<S;M++)for(P=M*Y,U=M*E,z=0;z<E;z++)A=U+z<<2,H=3*(N=b[P+(z>>2)]>>6-((3&z)<<1)&3),V[A]=F[H],V[A+1]=F[H+1],V[A+2]=F[H+2],V[A+3]=N<k?w[N]:255;if(ne==4)for(M=0;M<S;M++)for(P=M*Y,U=M*E,z=0;z<E;z++)A=U+z<<2,H=3*(N=b[P+(z>>1)]>>4-((1&z)<<2)&15),V[A]=F[H],V[A+1]=F[H+1],V[A+2]=F[H+2],V[A+3]=N<k?w[N]:255;if(ne==8)for(z=0;z<R;z++){var N;A=z<<2,H=3*(N=b[z]),V[A]=F[H],V[A+1]=F[H+1],V[A+2]=F[H+2],V[A+3]=N<k?w[N]:255}}else if($==4){if(ne==8)for(z=0;z<R;z++){A=z<<2;var G=b[O=z<<1];V[A]=G,V[A+1]=G,V[A+2]=G,V[A+3]=b[O+1]}if(ne==16)for(z=0;z<R;z++){var O;A=z<<2,G=b[O=z<<2],V[A]=G,V[A+1]=G,V[A+2]=G,V[A+3]=b[O+2]}}else if($==0)for(B=x.tabs.tRNS?x.tabs.tRNS:-1,M=0;M<S;M++){const F=M*Y,w=M*E;if(ne==1)for(var _=0;_<E;_++){var Q=(G=255*(b[F+(_>>>3)]>>>7-(7&_)&1))==255*B?0:255;J[w+_]=Q<<24|G<<16|G<<8|G}else if(ne==2)for(_=0;_<E;_++)Q=(G=85*(b[F+(_>>>2)]>>>6-((3&_)<<1)&3))==85*B?0:255,J[w+_]=Q<<24|G<<16|G<<8|G;else if(ne==4)for(_=0;_<E;_++)Q=(G=17*(b[F+(_>>>1)]>>>4-((1&_)<<2)&15))==17*B?0:255,J[w+_]=Q<<24|G<<16|G<<8|G;else if(ne==8)for(_=0;_<E;_++)Q=(G=b[F+_])==B?0:255,J[w+_]=Q<<24|G<<16|G<<8|G;else if(ne==16)for(_=0;_<E;_++)G=b[F+(_<<1)],Q=W(b,F+(_<<1))==B?0:255,J[w+_]=Q<<24|G<<16|G<<8|G}return V}function i(b,E,S,x){const R=u(b),D=Math.ceil(S*R/8),Y=new Uint8Array((D+1+b.interlace)*x);return E=b.tabs.CgBI?a(E,Y):s(E,Y),b.interlace==0?E=h(E,b,0,S,x):b.interlace==1&&(E=function(J,$){const ne=$.width,W=$.height,z=u($),X=z>>3,B=Math.ceil(ne*z/8),A=new Uint8Array(W*B);let M=0;const P=[0,0,4,0,2,0,1],U=[0,4,0,2,0,1,0],H=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let G=0;for(;G<7;){const _=H[G],Q=N[G];let F=0,w=0,k=P[G];for(;k<W;)k+=_,w++;let K=U[G];for(;K<ne;)K+=Q,F++;const ie=Math.ceil(F*z/8);h(J,$,M,F,w);let ee=0,te=P[G];for(;te<W;){let ae=U[G],ge=M+ee*ie<<3;for(;ae<ne;){var O;if(z==1&&(O=(O=J[ge>>3])>>7-(7&ge)&1,A[te*B+(ae>>3)]|=O<<7-((7&ae)<<0)),z==2&&(O=(O=J[ge>>3])>>6-(7&ge)&3,A[te*B+(ae>>2)]|=O<<6-((3&ae)<<1)),z==4&&(O=(O=J[ge>>3])>>4-(7&ge)&15,A[te*B+(ae>>1)]|=O<<4-((1&ae)<<2)),z>=8){const we=te*B+ae*X;for(let Ee=0;Ee<X;Ee++)A[we+Ee]=J[(ge>>3)+Ee]}ge+=z,ae+=Q}ee++,te+=_}F*w!=0&&(M+=w*(1+ie)),G+=1}return A}(E,b)),E}function s(b,E){return a(new Uint8Array(b.buffer,2,b.length-6),E)}var a=function(){const b={H:{}};return b.H.N=function(E,S){const x=Uint8Array;let R,D,Y=0,V=0,J=0,$=0,ne=0,W=0,z=0,X=0,B=0;if(E[0]==3&&E[1]==0)return S||new x(0);const A=b.H,M=A.b,P=A.e,U=A.R,H=A.n,N=A.A,G=A.Z,O=A.m,_=S==null;for(_&&(S=new x(E.length>>>2<<5));Y==0;)if(Y=M(E,B,1),V=M(E,B+1,2),B+=3,V!=0){if(_&&(S=b.H.W(S,X+(1<<17))),V==1&&(R=O.J,D=O.h,W=511,z=31),V==2){J=P(E,B,5)+257,$=P(E,B+5,5)+1,ne=P(E,B+10,4)+4,B+=14;let F=1;for(var Q=0;Q<38;Q+=2)O.Q[Q]=0,O.Q[Q+1]=0;for(Q=0;Q<ne;Q++){const K=P(E,B+3*Q,3);O.Q[1+(O.X[Q]<<1)]=K,K>F&&(F=K)}B+=3*ne,H(O.Q,F),N(O.Q,F,O.u),R=O.w,D=O.d,B=U(O.u,(1<<F)-1,J+$,E,B,O.v);const w=A.V(O.v,0,J,O.C);W=(1<<w)-1;const k=A.V(O.v,J,$,O.D);z=(1<<k)-1,H(O.C,w),N(O.C,w,R),H(O.D,k),N(O.D,k,D)}for(;;){const F=R[G(E,B)&W];B+=15&F;const w=F>>>4;if(!(w>>>8))S[X++]=w;else{if(w==256)break;{let k=X+w-254;if(w>264){const ae=O.q[w-257];k=X+(ae>>>3)+P(E,B,7&ae),B+=7&ae}const K=D[G(E,B)&z];B+=15&K;const ie=K>>>4,ee=O.c[ie],te=(ee>>>4)+M(E,B,15&ee);for(B+=15&ee;X<k;)S[X]=S[X++-te],S[X]=S[X++-te],S[X]=S[X++-te],S[X]=S[X++-te];X=k}}}}else{(7&B)!=0&&(B+=8-(7&B));const F=4+(B>>>3),w=E[F-4]|E[F-3]<<8;_&&(S=b.H.W(S,X+w)),S.set(new x(E.buffer,E.byteOffset+F,w),X),B=F+w<<3,X+=w}return S.length==X?S:S.slice(0,X)},b.H.W=function(E,S){const x=E.length;if(S<=x)return E;const R=new Uint8Array(x<<1);return R.set(E,0),R},b.H.R=function(E,S,x,R,D,Y){const V=b.H.e,J=b.H.Z;let $=0;for(;$<x;){const ne=E[J(R,D)&S];D+=15&ne;const W=ne>>>4;if(W<=15)Y[$]=W,$++;else{let z=0,X=0;W==16?(X=3+V(R,D,2),D+=2,z=Y[$-1]):W==17?(X=3+V(R,D,3),D+=3):W==18&&(X=11+V(R,D,7),D+=7);const B=$+X;for(;$<B;)Y[$]=z,$++}}return D},b.H.V=function(E,S,x,R){let D=0,Y=0;const V=R.length>>>1;for(;Y<x;){const J=E[Y+S];R[Y<<1]=0,R[1+(Y<<1)]=J,J>D&&(D=J),Y++}for(;Y<V;)R[Y<<1]=0,R[1+(Y<<1)]=0,Y++;return D},b.H.n=function(E,S){const x=b.H.m,R=E.length;let D,Y,V,J;const $=x.j;for(var ne=0;ne<=S;ne++)$[ne]=0;for(ne=1;ne<R;ne+=2)$[E[ne]]++;const W=x.K;for(D=0,$[0]=0,Y=1;Y<=S;Y++)D=D+$[Y-1]<<1,W[Y]=D;for(V=0;V<R;V+=2)J=E[V+1],J!=0&&(E[V]=W[J],W[J]++)},b.H.A=function(E,S,x){const R=E.length,D=b.H.m.r;for(let Y=0;Y<R;Y+=2)if(E[Y+1]!=0){const V=Y>>1,J=E[Y+1],$=V<<4|J,ne=S-J;let W=E[Y]<<ne;const z=W+(1<<ne);for(;W!=z;)x[D[W]>>>15-S]=$,W++}},b.H.l=function(E,S){const x=b.H.m.r,R=15-S;for(let D=0;D<E.length;D+=2){const Y=E[D]<<S-E[D+1];E[D]=x[Y]>>>R}},b.H.M=function(E,S,x){x<<=7&S;const R=S>>>3;E[R]|=x,E[R+1]|=x>>>8},b.H.I=function(E,S,x){x<<=7&S;const R=S>>>3;E[R]|=x,E[R+1]|=x>>>8,E[R+2]|=x>>>16},b.H.e=function(E,S,x){return(E[S>>>3]|E[1+(S>>>3)]<<8)>>>(7&S)&(1<<x)-1},b.H.b=function(E,S,x){return(E[S>>>3]|E[1+(S>>>3)]<<8|E[2+(S>>>3)]<<16)>>>(7&S)&(1<<x)-1},b.H.Z=function(E,S){return(E[S>>>3]|E[1+(S>>>3)]<<8|E[2+(S>>>3)]<<16)>>>(7&S)},b.H.i=function(E,S){return(E[S>>>3]|E[1+(S>>>3)]<<8|E[2+(S>>>3)]<<16|E[3+(S>>>3)]<<24)>>>(7&S)},b.H.m=function(){const E=Uint16Array,S=Uint32Array;return{K:new E(16),j:new E(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new E(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new S(32),J:new E(512),_:[],h:new E(32),$:[],w:new E(32768),C:[],v:[],d:new E(32768),D:[],u:new E(512),Q:[],r:new E(32768),s:new S(286),Y:new S(30),a:new S(19),t:new S(15e3),k:new E(65536),g:new E(32768)}}(),function(){const E=b.H.m;for(var S=0;S<32768;S++){let R=S;R=(2863311530&R)>>>1|(1431655765&R)<<1,R=(3435973836&R)>>>2|(858993459&R)<<2,R=(4042322160&R)>>>4|(252645135&R)<<4,R=(4278255360&R)>>>8|(16711935&R)<<8,E.r[S]=(R>>>16|R<<16)>>>17}function x(R,D,Y){for(;D--!=0;)R.push(0,Y)}for(S=0;S<32;S++)E.q[S]=E.S[S]<<3|E.T[S],E.c[S]=E.p[S]<<4|E.z[S];x(E._,144,8),x(E._,112,9),x(E._,24,7),x(E._,8,8),b.H.n(E._,9),b.H.A(E._,9,E.J),b.H.l(E._,9),x(E.$,32,5),b.H.n(E.$,5),b.H.A(E.$,5,E.h),b.H.l(E.$,5),x(E.Q,19,0),x(E.C,286,0),x(E.D,30,0),x(E.v,320,0)}(),b.H.N}();function u(b){return[1,null,3,1,2,null,4][b.ctype]*b.depth}function h(b,E,S,x,R){let D=u(E);const Y=Math.ceil(x*D/8);let V,J;D=Math.ceil(D/8);let $=b[S],ne=0;if($>1&&(b[S]=[0,0,1][$-2]),$==3)for(ne=D;ne<Y;ne++)b[ne+1]=b[ne+1]+(b[ne+1-D]>>>1)&255;for(let W=0;W<R;W++)if(V=S+W*Y,J=V+W+1,$=b[J-1],ne=0,$==0)for(;ne<Y;ne++)b[V+ne]=b[J+ne];else if($==1){for(;ne<D;ne++)b[V+ne]=b[J+ne];for(;ne<Y;ne++)b[V+ne]=b[J+ne]+b[V+ne-D]}else if($==2)for(;ne<Y;ne++)b[V+ne]=b[J+ne]+b[V+ne-Y];else if($==3){for(;ne<D;ne++)b[V+ne]=b[J+ne]+(b[V+ne-Y]>>>1);for(;ne<Y;ne++)b[V+ne]=b[J+ne]+(b[V+ne-Y]+b[V+ne-D]>>>1)}else{for(;ne<D;ne++)b[V+ne]=b[J+ne]+d(0,b[V+ne-Y],0);for(;ne<Y;ne++)b[V+ne]=b[J+ne]+d(b[V+ne-D],b[V+ne-Y],b[V+ne-D-Y])}return b}function d(b,E,S){const x=b+E-S,R=x-b,D=x-E,Y=x-S;return R*R<=D*D&&R*R<=Y*Y?b:D*D<=Y*Y?E:S}function g(b,E,S){S.width=n.readUint(b,E),E+=4,S.height=n.readUint(b,E),E+=4,S.depth=b[E],E++,S.ctype=b[E],E++,S.compress=b[E],E++,S.filter=b[E],E++,S.interlace=b[E],E++}function v(b,E,S,x,R,D,Y,V,J){const $=Math.min(E,R),ne=Math.min(S,D);let W=0,z=0;for(let G=0;G<ne;G++)for(let O=0;O<$;O++)if(Y>=0&&V>=0?(W=G*E+O<<2,z=(V+G)*R+Y+O<<2):(W=(-V+G)*E-Y+O<<2,z=G*R+O<<2),J==0)x[z]=b[W],x[z+1]=b[W+1],x[z+2]=b[W+2],x[z+3]=b[W+3];else if(J==1){var X=b[W+3]*.00392156862745098,B=b[W]*X,A=b[W+1]*X,M=b[W+2]*X,P=x[z+3]*(1/255),U=x[z]*P,H=x[z+1]*P,N=x[z+2]*P;const _=1-X,Q=X+P*_,F=Q==0?0:1/Q;x[z+3]=255*Q,x[z+0]=(B+U*_)*F,x[z+1]=(A+H*_)*F,x[z+2]=(M+N*_)*F}else if(J==2)X=b[W+3],B=b[W],A=b[W+1],M=b[W+2],P=x[z+3],U=x[z],H=x[z+1],N=x[z+2],X==P&&B==U&&A==H&&M==N?(x[z]=0,x[z+1]=0,x[z+2]=0,x[z+3]=0):(x[z]=B,x[z+1]=A,x[z+2]=M,x[z+3]=X);else if(J==3){if(X=b[W+3],B=b[W],A=b[W+1],M=b[W+2],P=x[z+3],U=x[z],H=x[z+1],N=x[z+2],X==P&&B==U&&A==H&&M==N)continue;if(X<220&&P>20)return!1}return!0}return{decode:function(E){const S=new Uint8Array(E);let x=8;const R=n,D=R.readUshort,Y=R.readUint,V={tabs:{},frames:[]},J=new Uint8Array(S.length);let $,ne=0,W=0;const z=[137,80,78,71,13,10,26,10];for(var X=0;X<8;X++)if(S[X]!=z[X])throw"The input is not a PNG file!";for(;x<S.length;){const G=R.readUint(S,x);x+=4;const O=R.readASCII(S,x,4);if(x+=4,O=="IHDR")g(S,x,V);else if(O=="iCCP"){for(var B=x;S[B]!=0;)B++;R.readASCII(S,x,B-x),S[B+1];const _=S.slice(B+2,x+G);let Q=null;try{Q=s(_)}catch{Q=a(_)}V.tabs[O]=Q}else if(O=="CgBI")V.tabs[O]=S.slice(x,x+4);else if(O=="IDAT"){for(X=0;X<G;X++)J[ne+X]=S[x+X];ne+=G}else if(O=="acTL")V.tabs[O]={num_frames:Y(S,x),num_plays:Y(S,x+4)},$=new Uint8Array(S.length);else if(O=="fcTL"){W!=0&&((N=V.frames[V.frames.length-1]).data=i(V,$.slice(0,W),N.rect.width,N.rect.height),W=0);const _={x:Y(S,x+12),y:Y(S,x+16),width:Y(S,x+4),height:Y(S,x+8)};let Q=D(S,x+22);Q=D(S,x+20)/(Q==0?100:Q);const F={rect:_,delay:Math.round(1e3*Q),dispose:S[x+24],blend:S[x+25]};V.frames.push(F)}else if(O=="fdAT"){for(X=0;X<G-4;X++)$[W+X]=S[x+X+4];W+=G-4}else if(O=="pHYs")V.tabs[O]=[R.readUint(S,x),R.readUint(S,x+4),S[x+8]];else if(O=="cHRM")for(V.tabs[O]=[],X=0;X<8;X++)V.tabs[O].push(R.readUint(S,x+4*X));else if(O=="tEXt"||O=="zTXt"){V.tabs[O]==null&&(V.tabs[O]={});var A=R.nextZero(S,x),M=R.readASCII(S,x,A-x),P=x+G-A-1;if(O=="tEXt")H=R.readASCII(S,A+1,P);else{var U=s(S.slice(A+2,A+2+P));H=R.readUTF8(U,0,U.length)}V.tabs[O][M]=H}else if(O=="iTXt"){V.tabs[O]==null&&(V.tabs[O]={}),A=0,B=x,A=R.nextZero(S,B),M=R.readASCII(S,B,A-B);const _=S[B=A+1];var H;S[B+1],B+=2,A=R.nextZero(S,B),R.readASCII(S,B,A-B),B=A+1,A=R.nextZero(S,B),R.readUTF8(S,B,A-B),P=G-((B=A+1)-x),_==0?H=R.readUTF8(S,B,P):(U=s(S.slice(B,B+P)),H=R.readUTF8(U,0,U.length)),V.tabs[O][M]=H}else if(O=="PLTE")V.tabs[O]=R.readBytes(S,x,G);else if(O=="hIST"){const _=V.tabs.PLTE.length/3;for(V.tabs[O]=[],X=0;X<_;X++)V.tabs[O].push(D(S,x+2*X))}else if(O=="tRNS")V.ctype==3?V.tabs[O]=R.readBytes(S,x,G):V.ctype==0?V.tabs[O]=D(S,x):V.ctype==2&&(V.tabs[O]=[D(S,x),D(S,x+2),D(S,x+4)]);else if(O=="gAMA")V.tabs[O]=R.readUint(S,x)/1e5;else if(O=="sRGB")V.tabs[O]=S[x];else if(O=="bKGD")V.ctype==0||V.ctype==4?V.tabs[O]=[D(S,x)]:V.ctype==2||V.ctype==6?V.tabs[O]=[D(S,x),D(S,x+2),D(S,x+4)]:V.ctype==3&&(V.tabs[O]=S[x]);else if(O=="IEND")break;x+=G,R.readUint(S,x),x+=4}var N;return W!=0&&((N=V.frames[V.frames.length-1]).data=i(V,$.slice(0,W),N.rect.width,N.rect.height)),V.data=i(V,J,V.width,V.height),delete V.compress,delete V.interlace,delete V.filter,V},toRGBA8:function(E){const S=E.width,x=E.height;if(E.tabs.acTL==null)return[e(E.data,S,x,E).buffer];const R=[];E.frames[0].data==null&&(E.frames[0].data=E.data);const D=S*x*4,Y=new Uint8Array(D),V=new Uint8Array(D),J=new Uint8Array(D);for(let ne=0;ne<E.frames.length;ne++){const W=E.frames[ne],z=W.rect.x,X=W.rect.y,B=W.rect.width,A=W.rect.height,M=e(W.data,B,A,E);if(ne!=0)for(var $=0;$<D;$++)J[$]=Y[$];if(W.blend==0?v(M,B,A,Y,S,x,z,X,0):W.blend==1&&v(M,B,A,Y,S,x,z,X,1),R.push(Y.buffer.slice(0)),W.dispose!=0){if(W.dispose==1)v(V,B,A,Y,S,x,z,X,0);else if(W.dispose==2)for($=0;$<D;$++)Y[$]=J[$]}}return R},_paeth:d,_copyTile:v,_bin:n}}();(function(){const{_copyTile:n}=Vi,{_bin:e}=Vi,i=Vi._paeth;var s={table:function(){const B=new Uint32Array(256);for(let A=0;A<256;A++){let M=A;for(let P=0;P<8;P++)1&M?M=3988292384^M>>>1:M>>>=1;B[A]=M}return B}(),update(B,A,M,P){for(let U=0;U<P;U++)B=s.table[255&(B^A[M+U])]^B>>>8;return B},crc:(B,A,M)=>4294967295^s.update(4294967295,B,A,M)};function a(B,A,M,P){A[M]+=B[0]*P>>4,A[M+1]+=B[1]*P>>4,A[M+2]+=B[2]*P>>4,A[M+3]+=B[3]*P>>4}function u(B){return Math.max(0,Math.min(255,B))}function h(B,A){const M=B[0]-A[0],P=B[1]-A[1],U=B[2]-A[2],H=B[3]-A[3];return M*M+P*P+U*U+H*H}function d(B,A,M,P,U,H,N){N==null&&(N=1);const G=P.length,O=[];for(var _=0;_<G;_++){const te=P[_];O.push([te>>>0&255,te>>>8&255,te>>>16&255,te>>>24&255])}for(_=0;_<G;_++){let te=4294967295;for(var Q=0,F=0;F<G;F++){var w=h(O[_],O[F]);F!=_&&w<te&&(te=w,Q=F)}}const k=new Uint32Array(U.buffer),K=new Int16Array(A*M*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(_=0;_<ie.length;_++)ie[_]=255*((ie[_]+.5)/16-.5);for(let te=0;te<M;te++)for(let ae=0;ae<A;ae++){var ee;_=4*(te*A+ae),N!=2?ee=[u(B[_]+K[_]),u(B[_+1]+K[_+1]),u(B[_+2]+K[_+2]),u(B[_+3]+K[_+3])]:(w=ie[4*(3&te)+(3&ae)],ee=[u(B[_]+w),u(B[_+1]+w),u(B[_+2]+w),u(B[_+3]+w)]),Q=0;let ge=16777215;for(F=0;F<G;F++){const Oe=h(ee,O[F]);Oe<ge&&(ge=Oe,Q=F)}const we=O[Q],Ee=[ee[0]-we[0],ee[1]-we[1],ee[2]-we[2],ee[3]-we[3]];N==1&&(ae!=A-1&&a(Ee,K,_+4,7),te!=M-1&&(ae!=0&&a(Ee,K,_+4*A-4,3),a(Ee,K,_+4*A,5),ae!=A-1&&a(Ee,K,_+4*A+4,1))),H[_>>2]=Q,k[_>>2]=P[Q]}}function g(B,A,M,P,U){U==null&&(U={});const{crc:H}=s,N=e.writeUint,G=e.writeUshort,O=e.writeASCII;let _=8;const Q=B.frames.length>1;let F,w=!1,k=33+(Q?20:0);if(U.sRGB!=null&&(k+=13),U.pHYs!=null&&(k+=21),U.iCCP!=null&&(F=pako.deflate(U.iCCP),k+=21+F.length+4),B.ctype==3){for(var K=B.plte.length,ie=0;ie<K;ie++)B.plte[ie]>>>24!=255&&(w=!0);k+=8+3*K+4+(w?8+1*K+4:0)}for(var ee=0;ee<B.frames.length;ee++)Q&&(k+=38),k+=(we=B.frames[ee]).cimg.length+12,ee!=0&&(k+=4);k+=12;const te=new Uint8Array(k),ae=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)te[ie]=ae[ie];if(N(te,_,13),_+=4,O(te,_,"IHDR"),_+=4,N(te,_,A),_+=4,N(te,_,M),_+=4,te[_]=B.depth,_++,te[_]=B.ctype,_++,te[_]=0,_++,te[_]=0,_++,te[_]=0,_++,N(te,_,H(te,_-17,17)),_+=4,U.sRGB!=null&&(N(te,_,1),_+=4,O(te,_,"sRGB"),_+=4,te[_]=U.sRGB,_++,N(te,_,H(te,_-5,5)),_+=4),U.iCCP!=null){const Ee=13+F.length;N(te,_,Ee),_+=4,O(te,_,"iCCP"),_+=4,O(te,_,"ICC profile"),_+=11,_+=2,te.set(F,_),_+=F.length,N(te,_,H(te,_-(Ee+4),Ee+4)),_+=4}if(U.pHYs!=null&&(N(te,_,9),_+=4,O(te,_,"pHYs"),_+=4,N(te,_,U.pHYs[0]),_+=4,N(te,_,U.pHYs[1]),_+=4,te[_]=U.pHYs[2],_++,N(te,_,H(te,_-13,13)),_+=4),Q&&(N(te,_,8),_+=4,O(te,_,"acTL"),_+=4,N(te,_,B.frames.length),_+=4,N(te,_,U.loop!=null?U.loop:0),_+=4,N(te,_,H(te,_-12,12)),_+=4),B.ctype==3){for(N(te,_,3*(K=B.plte.length)),_+=4,O(te,_,"PLTE"),_+=4,ie=0;ie<K;ie++){const Ee=3*ie,Oe=B.plte[ie],Le=255&Oe,Ie=Oe>>>8&255,Fe=Oe>>>16&255;te[_+Ee+0]=Le,te[_+Ee+1]=Ie,te[_+Ee+2]=Fe}if(_+=3*K,N(te,_,H(te,_-3*K-4,3*K+4)),_+=4,w){for(N(te,_,K),_+=4,O(te,_,"tRNS"),_+=4,ie=0;ie<K;ie++)te[_+ie]=B.plte[ie]>>>24&255;_+=K,N(te,_,H(te,_-K-4,K+4)),_+=4}}let ge=0;for(ee=0;ee<B.frames.length;ee++){var we=B.frames[ee];Q&&(N(te,_,26),_+=4,O(te,_,"fcTL"),_+=4,N(te,_,ge++),_+=4,N(te,_,we.rect.width),_+=4,N(te,_,we.rect.height),_+=4,N(te,_,we.rect.x),_+=4,N(te,_,we.rect.y),_+=4,G(te,_,P[ee]),_+=2,G(te,_,1e3),_+=2,te[_]=we.dispose,_++,te[_]=we.blend,_++,N(te,_,H(te,_-30,30)),_+=4);const Ee=we.cimg;N(te,_,(K=Ee.length)+(ee==0?0:4)),_+=4;const Oe=_;O(te,_,ee==0?"IDAT":"fdAT"),_+=4,ee!=0&&(N(te,_,ge++),_+=4),te.set(Ee,_),_+=K,N(te,_,H(te,Oe,_-Oe)),_+=4}return N(te,_,0),_+=4,O(te,_,"IEND"),_+=4,N(te,_,H(te,_-4,4)),_+=4,te.buffer}function v(B,A,M){for(let P=0;P<B.frames.length;P++){const U=B.frames[P];U.rect.width;const H=U.rect.height,N=new Uint8Array(H*U.bpl+H);U.cimg=x(U.img,H,U.bpp,U.bpl,N,A,M)}}function b(B,A,M,P,U){const H=U[0],N=U[1],G=U[2],O=U[3],_=U[4],Q=U[5];let F=6,w=8,k=255;for(var K=0;K<B.length;K++){const Ye=new Uint8Array(B[K]);for(var ie=Ye.length,ee=0;ee<ie;ee+=4)k&=Ye[ee+3]}const te=k!=255,ae=function(Te,Ue,Ke,Qe,Ze,Et){const dt=[];for(var ut=0;ut<Te.length;ut++){const Xt=new Uint8Array(Te[ut]),Cn=new Uint32Array(Xt.buffer);var Dt;let On=0,gn=0,en=Ue,an=Ke,er=Qe?1:0;if(ut!=0){const Jn=Et||Qe||ut==1||dt[ut-2].dispose!=0?1:2;let Co=0,Oo=1e9;for(let Pi=0;Pi<Jn;Pi++){var Kt=new Uint8Array(Te[ut-1-Pi]);const ds=new Uint32Array(Te[ut-1-Pi]);let _n=Ue,mi=Ke,Di=-1,tr=-1;for(let ei=0;ei<Ke;ei++)for(let gi=0;gi<Ue;gi++)Cn[ot=ei*Ue+gi]!=ds[ot]&&(gi<_n&&(_n=gi),gi>Di&&(Di=gi),ei<mi&&(mi=ei),ei>tr&&(tr=ei));Di==-1&&(_n=mi=Di=tr=0),Ze&&((1&_n)==1&&_n--,(1&mi)==1&&mi--);const ps=(Di-_n+1)*(tr-mi+1);ps<Oo&&(Oo=ps,Co=Pi,On=_n,gn=mi,en=Di-_n+1,an=tr-mi+1)}Kt=new Uint8Array(Te[ut-1-Co]),Co==1&&(dt[ut-1].dispose=2),Dt=new Uint8Array(en*an*4),n(Kt,Ue,Ke,Dt,en,an,-On,-gn,0),er=n(Xt,Ue,Ke,Dt,en,an,-On,-gn,3)?1:0,er==1?S(Xt,Ue,Ke,Dt,{x:On,y:gn,width:en,height:an}):n(Xt,Ue,Ke,Dt,en,an,-On,-gn,0)}else Dt=Xt.slice(0);dt.push({rect:{x:On,y:gn,width:en,height:an},img:Dt,blend:er,dispose:0})}if(Qe)for(ut=0;ut<dt.length;ut++){if((Nt=dt[ut]).blend==1)continue;const Xt=Nt.rect,Cn=dt[ut-1].rect,On=Math.min(Xt.x,Cn.x),gn=Math.min(Xt.y,Cn.y),en={x:On,y:gn,width:Math.max(Xt.x+Xt.width,Cn.x+Cn.width)-On,height:Math.max(Xt.y+Xt.height,Cn.y+Cn.height)-gn};dt[ut-1].dispose=1,ut-1!=0&&E(Te,Ue,Ke,dt,ut-1,en,Ze),E(Te,Ue,Ke,dt,ut,en,Ze)}let pt=0;if(Te.length!=1)for(var ot=0;ot<dt.length;ot++){var Nt;pt+=(Nt=dt[ot]).rect.width*Nt.rect.height}return dt}(B,A,M,H,N,G),ge={},we=[],Ee=[];if(P!=0){const Ye=[];for(ee=0;ee<ae.length;ee++)Ye.push(ae[ee].img.buffer);const Te=function(Ze){let Et=0;for(var dt=0;dt<Ze.length;dt++)Et+=Ze[dt].byteLength;const ut=new Uint8Array(Et);let Dt=0;for(dt=0;dt<Ze.length;dt++){const Kt=new Uint8Array(Ze[dt]),pt=Kt.length;for(let ot=0;ot<pt;ot+=4){let Nt=Kt[ot],Xt=Kt[ot+1],Cn=Kt[ot+2];const On=Kt[ot+3];On==0&&(Nt=Xt=Cn=0),ut[Dt+ot]=Nt,ut[Dt+ot+1]=Xt,ut[Dt+ot+2]=Cn,ut[Dt+ot+3]=On}Dt+=pt}return ut.buffer}(Ye),Ue=D(Te,P);for(ee=0;ee<Ue.plte.length;ee++)we.push(Ue.plte[ee].est.rgba);let Ke=0;for(ee=0;ee<ae.length;ee++){const Qe=(Le=ae[ee]).img.length;var Oe=new Uint8Array(Ue.inds.buffer,Ke>>2,Qe>>2);Ee.push(Oe);const Ze=new Uint8Array(Ue.abuf,Ke,Qe);Q&&d(Le.img,Le.rect.width,Le.rect.height,we,Ze,Oe),Le.img.set(Ze),Ke+=Qe}}else for(K=0;K<ae.length;K++){var Le=ae[K];const Ye=new Uint32Array(Le.img.buffer);var Ie=Le.rect.width;for(ie=Ye.length,Oe=new Uint8Array(ie),Ee.push(Oe),ee=0;ee<ie;ee++){const Te=Ye[ee];if(ee!=0&&Te==Ye[ee-1])Oe[ee]=Oe[ee-1];else if(ee>Ie&&Te==Ye[ee-Ie])Oe[ee]=Oe[ee-Ie];else{let Ue=ge[Te];if(Ue==null&&(ge[Te]=Ue=we.length,we.push(Te),we.length>=300))break;Oe[ee]=Ue}}}const Fe=we.length;for(Fe<=256&&_==0&&(w=Fe<=2?1:Fe<=4?2:Fe<=16?4:8,w=Math.max(w,O)),K=0;K<ae.length;K++){(Le=ae[K]).rect.x,Le.rect.y,Ie=Le.rect.width;const Ye=Le.rect.height;let Te=Le.img;new Uint32Array(Te.buffer);let Ue=4*Ie,Ke=4;if(Fe<=256&&_==0){Ue=Math.ceil(w*Ie/8);var Ne=new Uint8Array(Ue*Ye);const Qe=Ee[K];for(let Ze=0;Ze<Ye;Ze++){ee=Ze*Ue;const Et=Ze*Ie;if(w==8)for(var ke=0;ke<Ie;ke++)Ne[ee+ke]=Qe[Et+ke];else if(w==4)for(ke=0;ke<Ie;ke++)Ne[ee+(ke>>1)]|=Qe[Et+ke]<<4-4*(1&ke);else if(w==2)for(ke=0;ke<Ie;ke++)Ne[ee+(ke>>2)]|=Qe[Et+ke]<<6-2*(3&ke);else if(w==1)for(ke=0;ke<Ie;ke++)Ne[ee+(ke>>3)]|=Qe[Et+ke]<<7-1*(7&ke)}Te=Ne,F=3,Ke=1}else if(te==0&&ae.length==1){Ne=new Uint8Array(Ie*Ye*3);const Qe=Ie*Ye;for(ee=0;ee<Qe;ee++){const Ze=3*ee,Et=4*ee;Ne[Ze]=Te[Et],Ne[Ze+1]=Te[Et+1],Ne[Ze+2]=Te[Et+2]}Te=Ne,F=2,Ke=3,Ue=3*Ie}Le.img=Te,Le.bpl=Ue,Le.bpp=Ke}return{ctype:F,depth:w,plte:we,frames:ae}}function E(B,A,M,P,U,H,N){const G=Uint8Array,O=Uint32Array,_=new G(B[U-1]),Q=new O(B[U-1]),F=U+1<B.length?new G(B[U+1]):null,w=new G(B[U]),k=new O(w.buffer);let K=A,ie=M,ee=-1,te=-1;for(let ge=0;ge<H.height;ge++)for(let we=0;we<H.width;we++){const Ee=H.x+we,Oe=H.y+ge,Le=Oe*A+Ee,Ie=k[Le];Ie==0||P[U-1].dispose==0&&Q[Le]==Ie&&(F==null||F[4*Le+3]!=0)||(Ee<K&&(K=Ee),Ee>ee&&(ee=Ee),Oe<ie&&(ie=Oe),Oe>te&&(te=Oe))}ee==-1&&(K=ie=ee=te=0),N&&((1&K)==1&&K--,(1&ie)==1&&ie--),H={x:K,y:ie,width:ee-K+1,height:te-ie+1};const ae=P[U];ae.rect=H,ae.blend=1,ae.img=new Uint8Array(H.width*H.height*4),P[U-1].dispose==0?(n(_,A,M,ae.img,H.width,H.height,-H.x,-H.y,0),S(w,A,M,ae.img,H)):n(w,A,M,ae.img,H.width,H.height,-H.x,-H.y,0)}function S(B,A,M,P,U){n(B,A,M,P,U.width,U.height,-U.x,-U.y,2)}function x(B,A,M,P,U,H,N){const G=[];let O,_=[0,1,2,3,4];H!=-1?_=[H]:(A*P>5e5||M==1)&&(_=[0]),N&&(O={level:0});const Q=ZP;for(var F=0;F<_.length;F++){for(let K=0;K<A;K++)R(U,B,K,P,M,_[F]);G.push(Q.deflate(U,O))}let w,k=1e9;for(F=0;F<G.length;F++)G[F].length<k&&(w=F,k=G[F].length);return G[w]}function R(B,A,M,P,U,H){const N=M*P;let G=N+M;if(B[G]=H,G++,H==0)if(P<500)for(var O=0;O<P;O++)B[G+O]=A[N+O];else B.set(new Uint8Array(A.buffer,N,P),G);else if(H==1){for(O=0;O<U;O++)B[G+O]=A[N+O];for(O=U;O<P;O++)B[G+O]=A[N+O]-A[N+O-U]+256&255}else if(M==0){for(O=0;O<U;O++)B[G+O]=A[N+O];if(H==2)for(O=U;O<P;O++)B[G+O]=A[N+O];if(H==3)for(O=U;O<P;O++)B[G+O]=A[N+O]-(A[N+O-U]>>1)+256&255;if(H==4)for(O=U;O<P;O++)B[G+O]=A[N+O]-i(A[N+O-U],0,0)+256&255}else{if(H==2)for(O=0;O<P;O++)B[G+O]=A[N+O]+256-A[N+O-P]&255;if(H==3){for(O=0;O<U;O++)B[G+O]=A[N+O]+256-(A[N+O-P]>>1)&255;for(O=U;O<P;O++)B[G+O]=A[N+O]+256-(A[N+O-P]+A[N+O-U]>>1)&255}if(H==4){for(O=0;O<U;O++)B[G+O]=A[N+O]+256-i(0,A[N+O-P],0)&255;for(O=U;O<P;O++)B[G+O]=A[N+O]+256-i(A[N+O-U],A[N+O-P],A[N+O-U-P])&255}}}function D(B,A){const M=new Uint8Array(B),P=M.slice(0),U=new Uint32Array(P.buffer),H=Y(P,A),N=H[0],G=H[1],O=M.length,_=new Uint8Array(O>>2);let Q;if(M.length<2e7)for(var F=0;F<O;F+=4)Q=V(N,w=M[F]*(1/255),k=M[F+1]*(1/255),K=M[F+2]*(1/255),ie=M[F+3]*(1/255)),_[F>>2]=Q.ind,U[F>>2]=Q.est.rgba;else for(F=0;F<O;F+=4){var w=M[F]*.00392156862745098,k=M[F+1]*(1/255),K=M[F+2]*(1/255),ie=M[F+3]*(1/255);for(Q=N;Q.left;)Q=J(Q.est,w,k,K,ie)<=0?Q.left:Q.right;_[F>>2]=Q.ind,U[F>>2]=Q.est.rgba}return{abuf:P.buffer,inds:_,plte:G}}function Y(B,A,M){M==null&&(M=1e-4);const P=new Uint32Array(B.buffer),U={i0:0,i1:B.length,bst:null,est:null,tdst:0,left:null,right:null};U.bst=W(B,U.i0,U.i1),U.est=z(U.bst);const H=[U];for(;H.length<A;){let G=0,O=0;for(var N=0;N<H.length;N++)H[N].est.L>G&&(G=H[N].est.L,O=N);if(G<M)break;const _=H[O],Q=$(B,P,_.i0,_.i1,_.est.e,_.est.eMq255);if(_.i0>=Q||_.i1<=Q){_.est.L=0;continue}const F={i0:_.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};F.bst=W(B,F.i0,F.i1),F.est=z(F.bst);const w={i0:Q,i1:_.i1,bst:null,est:null,tdst:0,left:null,right:null};for(w.bst={R:[],m:[],N:_.bst.N-F.bst.N},N=0;N<16;N++)w.bst.R[N]=_.bst.R[N]-F.bst.R[N];for(N=0;N<4;N++)w.bst.m[N]=_.bst.m[N]-F.bst.m[N];w.est=z(w.bst),_.left=F,_.right=w,H[O]=F,H.push(w)}for(H.sort((G,O)=>O.bst.N-G.bst.N),N=0;N<H.length;N++)H[N].ind=N;return[U,H]}function V(B,A,M,P,U){if(B.left==null)return B.tdst=function(F,w,k,K,ie){const ee=w-F[0],te=k-F[1],ae=K-F[2],ge=ie-F[3];return ee*ee+te*te+ae*ae+ge*ge}(B.est.q,A,M,P,U),B;const H=J(B.est,A,M,P,U);let N=B.left,G=B.right;H>0&&(N=B.right,G=B.left);const O=V(N,A,M,P,U);if(O.tdst<=H*H)return O;const _=V(G,A,M,P,U);return _.tdst<O.tdst?_:O}function J(B,A,M,P,U){const{e:H}=B;return H[0]*A+H[1]*M+H[2]*P+H[3]*U-B.eMq}function $(B,A,M,P,U,H){for(P-=4;M<P;){for(;ne(B,M,U)<=H;)M+=4;for(;ne(B,P,U)>H;)P-=4;if(M>=P)break;const N=A[M>>2];A[M>>2]=A[P>>2],A[P>>2]=N,M+=4,P-=4}for(;ne(B,M,U)>H;)M-=4;return M+4}function ne(B,A,M){return B[A]*M[0]+B[A+1]*M[1]+B[A+2]*M[2]+B[A+3]*M[3]}function W(B,A,M){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=[0,0,0,0],H=M-A>>2;for(let N=A;N<M;N+=4){const G=B[N]*.00392156862745098,O=B[N+1]*(1/255),_=B[N+2]*(1/255),Q=B[N+3]*(1/255);U[0]+=G,U[1]+=O,U[2]+=_,U[3]+=Q,P[0]+=G*G,P[1]+=G*O,P[2]+=G*_,P[3]+=G*Q,P[5]+=O*O,P[6]+=O*_,P[7]+=O*Q,P[10]+=_*_,P[11]+=_*Q,P[15]+=Q*Q}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:U,N:H}}function z(B){const{R:A}=B,{m:M}=B,{N:P}=B,U=M[0],H=M[1],N=M[2],G=M[3],O=P==0?0:1/P,_=[A[0]-U*U*O,A[1]-U*H*O,A[2]-U*N*O,A[3]-U*G*O,A[4]-H*U*O,A[5]-H*H*O,A[6]-H*N*O,A[7]-H*G*O,A[8]-N*U*O,A[9]-N*H*O,A[10]-N*N*O,A[11]-N*G*O,A[12]-G*U*O,A[13]-G*H*O,A[14]-G*N*O,A[15]-G*G*O],Q=_,F=X;let w=[Math.random(),Math.random(),Math.random(),Math.random()],k=0,K=0;if(P!=0)for(let ee=0;ee<16&&(w=F.multVec(Q,w),K=Math.sqrt(F.dot(w,w)),w=F.sml(1/K,w),!(ee!=0&&Math.abs(K-k)<1e-9));ee++)k=K;const ie=[U*O,H*O,N*O,G*O];return{Cov:_,q:ie,e:w,L:k,eMq255:F.dot(F.sml(255,ie),w),eMq:F.dot(w,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var X={multVec:(B,A)=>[B[0]*A[0]+B[1]*A[1]+B[2]*A[2]+B[3]*A[3],B[4]*A[0]+B[5]*A[1]+B[6]*A[2]+B[7]*A[3],B[8]*A[0]+B[9]*A[1]+B[10]*A[2]+B[11]*A[3],B[12]*A[0]+B[13]*A[1]+B[14]*A[2]+B[15]*A[3]],dot:(B,A)=>B[0]*A[0]+B[1]*A[1]+B[2]*A[2]+B[3]*A[3],sml:(B,A)=>[B*A[0],B*A[1],B*A[2],B*A[3]]};Vi.encode=function(A,M,P,U,H,N,G){U==null&&(U=0),G==null&&(G=!1);const O=b(A,M,P,U,[!1,!1,!1,0,G,!1]);return v(O,-1),g(O,M,P,H,N)},Vi.encodeLL=function(A,M,P,U,H,N,G,O){const _={ctype:0+(U==1?0:2)+(H==0?0:4),depth:N,frames:[]},Q=(U+H)*N,F=Q*M;for(let w=0;w<A.length;w++)_.frames.push({rect:{x:0,y:0,width:M,height:P},img:new Uint8Array(A[w]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(F/8)});return v(_,0,!0),g(_,M,P,G,O)},Vi.encode.compress=b,Vi.encode.dither=d,Vi.quantize=D,Vi.quantize.getKDtree=Y,Vi.quantize.getNearest=V})();const YE={toArrayBuffer(n,e){const i=n.width,s=n.height,a=i<<2,u=n.getContext("2d").getImageData(0,0,i,s),h=new Uint32Array(u.data.buffer),d=(32*i+31)/32<<2,g=d*s,v=122+g,b=new ArrayBuffer(v),E=new DataView(b),S=1<<20;let x,R,D,Y,V=S,J=0,$=0,ne=0;function W(B){E.setUint16($,B,!0),$+=2}function z(B){E.setUint32($,B,!0),$+=4}function X(B){$+=B}W(19778),z(v),X(4),z(122),z(108),z(i),z(-s>>>0),W(1),W(32),z(3),z(g),z(2835),z(2835),X(8),z(16711680),z(65280),z(255),z(4278190080),z(1466527264),function B(){for(;J<s&&V>0;){for(Y=122+J*d,x=0;x<a;)V--,R=h[ne++],D=R>>>24,E.setUint32(Y+x,R<<8|D),x+=4;J++}ne<h.length?(V=S,setTimeout(B,YE._dly)):e(b)}()},toBlob(n,e){this.toArrayBuffer(n,i=>{e(new Blob([i],{type:"image/bmp"}))})},_dly:9};var Qn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},GP={[Qn.CHROME]:16384,[Qn.FIREFOX]:11180,[Qn.DESKTOP_SAFARI]:16384,[Qn.IE]:8192,[Qn.IOS]:4096,[Qn.ETC]:8192};const K_=typeof window<"u",KE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$h=K_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),YP=(K_||KE)&&($h&&$h.getOriginalSymbol(window,"File")||typeof File<"u"&&File),XE=(K_||KE)&&($h&&$h.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function X_(n,e,i=Date.now()){return new Promise(s=>{const a=n.split(","),u=a[0].match(/:(.*?);/)[1],h=globalThis.atob(a[1]);let d=h.length;const g=new Uint8Array(d);for(;d--;)g[d]=h.charCodeAt(d);const v=new Blob([g],{type:u});v.name=e,v.lastModified=i,s(v)})}function QE(n){return new Promise((e,i)=>{const s=new XE;s.onload=()=>e(s.result),s.onerror=a=>i(a),s.readAsDataURL(n)})}function $E(n){return new Promise((e,i)=>{const s=new Image;s.onload=()=>e(s),s.onerror=a=>i(a),s.src=n})}function ua(){if(ua.cachedResult!==void 0)return ua.cachedResult;let n=Qn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Qn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Qn.IOS:/Safari/i.test(e)?n=Qn.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Qn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Qn.IE),ua.cachedResult=n,ua.cachedResult}function JE(n,e){const i=ua(),s=GP[i];let a=n,u=e,h=a*u;const d=a>u?u/a:a/u;for(;h>s*s;){const g=(s+a)/2,v=(s+u)/2;g<v?(u=v,a=v*d):(u=g*d,a=g),h=a*u}return{width:a,height:u}}function Cd(n,e){let i,s;try{if(i=new OffscreenCanvas(n,e),s=i.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),s=i.getContext("2d")}return i.width=n,i.height=e,[i,s]}function eT(n,e){const{width:i,height:s}=JE(n.width,n.height),[a,u]=Cd(i,s);return e&&/jpe?g/.test(e)&&(u.fillStyle="white",u.fillRect(0,0,a.width,a.height)),u.drawImage(n,0,0,a.width,a.height),a}function xh(){return xh.cachedResult!==void 0||(xh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),xh.cachedResult}function Jh(n,e={}){return new Promise(function(i,s){let a,u;var h=function(){try{return u=eT(a,e.fileType||n.type),i([a,u])}catch(g){return s(g)}},d=function(g){try{var v=function(b){try{throw b}catch(E){return s(E)}};try{let b;return QE(n).then(function(E){try{return b=E,$E(b).then(function(S){try{return a=S,function(){try{return h()}catch(x){return s(x)}}()}catch(x){return v(x)}},v)}catch(S){return v(S)}},v)}catch(b){v(b)}}catch(b){return s(b)}};try{if(xh()||[Qn.DESKTOP_SAFARI,Qn.MOBILE_SAFARI].includes(ua()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(g){try{return a=g,h()}catch{return d()}},d)}catch{d()}})}function ed(n,e,i,s,a=1){return new Promise(function(u,h){let d;if(e==="image/png"){let E,S,x;return E=n.getContext("2d"),{data:S}=E.getImageData(0,0,n.width,n.height),x=Vi.encode([S.buffer],n.width,n.height,4096*a),d=new Blob([x],{type:e}),d.name=i,d.lastModified=s,g.call(this)}{let E=function(){return g.call(this)};var v=E;if(e==="image/bmp")return new Promise(S=>YE.toBlob(n,S)).then((function(S){try{return d=S,d.name=i,d.lastModified=s,E.call(this)}catch(x){return h(x)}}).bind(this),h);{let S=function(){return E.call(this)};var b=S;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:a}).then((function(x){try{return d=x,d.name=i,d.lastModified=s,S.call(this)}catch(R){return h(R)}}).bind(this),h);{let x;return x=n.toDataURL(e,a),X_(x,i,s).then((function(R){try{return d=R,S.call(this)}catch(D){return h(D)}}).bind(this),h)}}}function g(){return u(d)}})}function _r(n){n.width=0,n.height=0}function ml(){return new Promise(function(n,e){let i,s,a,u;return ml.cachedResult!==void 0?n(ml.cachedResult):X_("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(h){try{return i=h,Jh(i).then(function(d){try{return s=d[1],ed(s,i.type,i.name,i.lastModified).then(function(g){try{return a=g,_r(s),Jh(a).then(function(v){try{return u=v[0],ml.cachedResult=u.width===1&&u.height===2,n(ml.cachedResult)}catch(b){return e(b)}},e)}catch(v){return e(v)}},e)}catch(g){return e(g)}},e)}catch(d){return e(d)}},e)})}function tT(n){return new Promise((e,i)=>{const s=new XE;s.onload=a=>{const u=new DataView(a.target.result);if(u.getUint16(0,!1)!=65496)return e(-2);const h=u.byteLength;let d=2;for(;d<h;){if(u.getUint16(d+2,!1)<=8)return e(-1);const g=u.getUint16(d,!1);if(d+=2,g==65505){if(u.getUint32(d+=2,!1)!=1165519206)return e(-1);const v=u.getUint16(d+=6,!1)==18761;d+=u.getUint32(d+4,v);const b=u.getUint16(d,v);d+=2;for(let E=0;E<b;E++)if(u.getUint16(d+12*E,v)==274)return e(u.getUint16(d+12*E+8,v))}else{if((65280&g)!=65280)break;d+=u.getUint16(d,!1)}}return e(-1)},s.onerror=a=>i(a),s.readAsArrayBuffer(n)})}function nT(n,e){const{width:i}=n,{height:s}=n,{maxWidthOrHeight:a}=e;let u,h=n;return isFinite(a)&&(i>a||s>a)&&([h,u]=Cd(i,s),i>s?(h.width=a,h.height=s/i*a):(h.width=i/s*a,h.height=a),u.drawImage(n,0,0,h.width,h.height),_r(n)),h}function iT(n,e){const{width:i}=n,{height:s}=n,[a,u]=Cd(i,s);switch(e>4&&e<9?(a.width=s,a.height=i):(a.width=i,a.height=s),e){case 2:u.transform(-1,0,0,1,i,0);break;case 3:u.transform(-1,0,0,-1,i,s);break;case 4:u.transform(1,0,0,-1,0,s);break;case 5:u.transform(0,1,1,0,0,0);break;case 6:u.transform(0,1,-1,0,s,0);break;case 7:u.transform(0,-1,-1,0,s,i);break;case 8:u.transform(0,-1,1,0,0,i)}return u.drawImage(n,0,0,i,s),_r(n),a}function Sw(n,e,i=0){return new Promise(function(s,a){let u,h,d,g,v,b,E,S,x,R,D,Y,V,J,$,ne,W,z,X,B;function A(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;u+=P,e.onProgress(Math.min(u,100))}function M(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;u=Math.min(Math.max(P,u),100),e.onProgress(u)}return u=i,h=e.maxIteration||10,d=1024*e.maxSizeMB*1024,A(),Jh(n,e).then((function(P){try{return[,g]=P,A(),v=nT(g,e),A(),new Promise(function(U,H){var N;if(!(N=e.exifOrientation))return tT(n).then((function(O){try{return N=O,G.call(this)}catch(_){return H(_)}}).bind(this),H);function G(){return U(N)}return G.call(this)}).then((function(U){try{return b=U,A(),ml().then((function(H){try{return E=H?v:iT(v,b),A(),S=e.initialQuality||1,x=e.fileType||n.type,ed(E,x,n.name,n.lastModified,S).then((function(N){try{{let Q=function(){if(h--&&($>d||$>V)){let w,k;return w=B?.95*X.width:X.width,k=B?.95*X.height:X.height,[W,z]=Cd(w,k),z.drawImage(X,0,0,w,k),S*=x==="image/png"?.85:.95,ed(W,x,n.name,n.lastModified,S).then(function(K){try{return ne=K,_r(X),X=W,$=ne.size,M(Math.min(99,Math.floor((J-$)/(J-d)*100))),Q}catch(ie){return a(ie)}},a)}return[1]},F=function(){return _r(X),_r(W),_r(v),_r(E),_r(g),M(100),s(ne)};var O=Q,_=F;if(R=N,A(),D=R.size>d,Y=R.size>n.size,!D&&!Y)return M(100),s(R);var G;return V=n.size,J=R.size,$=J,X=E,B=!e.alwaysKeepResolution&&D,(G=(function(w){for(;w;){if(w.then)return void w.then(G,a);try{if(w.pop){if(w.length)return w.pop()?F.call(this):w;w=Q}else w=w.call(this)}catch(k){return a(k)}}}).bind(this))(Q)}}catch(Q){return a(Q)}}).bind(this),a)}catch(N){return a(N)}}).bind(this),a)}catch(H){return a(H)}}).bind(this),a)}catch(U){return a(U)}}).bind(this),a)})}const KP=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Vm;function XP(n,e){return new Promise((i,s)=>{Vm||(Vm=function(h){const d=[];return d.push(h),URL.createObjectURL(new Blob(d))}(KP));const a=new Worker(Vm);a.addEventListener("message",function(h){if(e.signal&&e.signal.aborted)a.terminate();else if(h.data.progress===void 0){if(h.data.error)return s(new Error(h.data.error)),void a.terminate();i(h.data.file),a.terminate()}else e.onProgress(h.data.progress)}),a.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",()=>{s(e.signal.reason),a.terminate()}),a.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function kn(n,e){return new Promise(function(i,s){let a,u,h,d,g,v;if(a={...e},h=0,{onProgress:d}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=x=>{h=x,typeof d=="function"&&d(h)},!(n instanceof Blob||n instanceof YP))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return s(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||v)return Sw(n,a).then((function(x){try{return u=x,S.call(this)}catch(R){return s(R)}}).bind(this),s);var b=(function(){try{return S.call(this)}catch(x){return s(x)}}).bind(this),E=function(x){try{return Sw(n,a).then(function(R){try{return u=R,b()}catch(D){return s(D)}},s)}catch(R){return s(R)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",XP(n,a).then(function(x){try{return u=x,b()}catch{return E()}},E)}catch{E()}function S(){try{u.name=n.name,u.lastModified=n.lastModified}catch{}try{a.preserveExif&&n.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===n.type)&&(u=GE(n,u))}catch{}return i(u)}})}kn.getDataUrlFromFile=QE,kn.getFilefromDataUrl=X_,kn.loadImage=$E,kn.drawImageInCanvas=eT,kn.drawFileInCanvas=Jh,kn.canvasToFile=ed,kn.getExifOrientation=tT,kn.handleMaxWidthOrHeight=nT,kn.followExifOrientation=iT,kn.cleanupCanvasMemory=_r,kn.isAutoOrientationInBrowser=ml,kn.approximateBelowMaximumCanvasSizeOfBrowser=JE,kn.copyExifWithoutOrientation=GE,kn.getBrowserName=ua,kn.version="2.0.2";const QP={apiKey:"AIzaSyAy4bpv1rd_PCWAAmqdaGWQ_gFqut-IUf4",authDomain:"theuboo-5da95.firebaseapp.com",databaseURL:"https://theuboo-5da95-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"theuboo-5da95",storageBucket:"theuboo-5da95.firebasestorage.app",messagingSenderId:"648512308994",appId:"1:648512308994:web:89f13e916906d475c3e41b",measurementId:"G-KZ48K72PL1"},Q_=N1(QP),Lt=mL(Q_),hs=CI(Q_),rT=ZE(Q_);async function $P({file:n,name:e,description:i,price:s,category:a,tags:u}){const h=fs(hs,`menus/${n.name}`);try{await Ul(h,n);const d=await zl(h),g=_d(Mt(Lt,"menus"));await To(g,{name:e,description:i,price:s,category:a,tags:u,imageUrl:d,createdAt:Date.now()})}catch(d){throw await wd(h),d}}async function JP(n,{file:e,name:i,description:s,price:a,category:u,tags:h}){const d=Mt(Lt,`menus/${n}`);let g=null;if(e){const b=`menus/${Date.now()}_${e.name}`,E=fs(hs,b);await Ul(E,e),g=await zl(E)}const v={name:i,description:s,price:a,category:u,tags:h,updatedAt:Date.now()};g&&(v.imageUrl=g),await yd(d,v)}async function sT(){const n=await ki(Mt(Lt,"menus"));return n.exists()?n.val():{}}async function eD(n,e){await vd(Mt(Lt,`menus/${n}`));const i=new URL(e).pathname,s=decodeURIComponent(i.replace(/^\/v0\/b\/[^/]+\/o\//,"").split("?")[0]);await wd(fs(hs,s))}async function tD({nickname:n,password:e,content:i,files:s}){const a=[];for(let h of s){const d=await kn(h,{maxSizeMB:.5}),g=`${Date.now()}_${h.name}`,v=fs(hs,`reviews/${g}`);await Ul(v,d);const b=await zl(v);a.push(b)}const u=_d(Mt(Lt,"reviews"));await To(u,{nickname:n,password:e,content:i,images:a,createdAt:Date.now(),isVisible:!0})}async function Ew(){const n=await ki(Mt(Lt,"reviews"));return n.exists()?Object.entries(n.val()).filter(([e,i])=>i.isVisible):[]}async function Tw(){const n=await ki(Mt(Lt,"reviews"));return n.exists()?n.val():{}}async function nD(n){await yd(Mt(Lt,`reviews/${n}`),{isVisible:!1})}async function iD(n){await yd(Mt(Lt,`reviews/${n}`),{isVisible:!0})}async function rD(n,e){const i=`slot-${e}-${Date.now()}.jpg`,s=fs(hs,`intro-slides/${i}`);await Ul(s,n);const a=await zl(s);return await To(Mt(Lt,`introSlides/${e}`),{imageUrl:a}),a}async function sD(n){const e=await ki(Mt(Lt,`introSlides/${n}`));if(!e.exists())return;const{imageUrl:i}=e.val();if(i){const s=new URL(i).pathname,a=decodeURIComponent(s.replace(/^\/v0\/b\/[^/]+\/o\//,"").split("?")[0]),u=fs(hs,a);await wd(u)}await vd(Mt(Lt,`introSlides/${n}`))}async function oD(){const n=await ki(Mt(Lt,"introSlides"));return n.exists()?n.val():{}}async function aD({address:n,latitude:e,longitude:i,description:s}){const a=Mt(Lt,"storeInfo");await To(a,{address:n,latitude:e,longitude:i,description:s,updatedAt:Date.now()})}async function oT(){const n=await ki(Mt(Lt,"storeInfo"));return n.exists()?n.val():null}async function lD(n){const e=`store-${Date.now()}.jpg`,i=fs(hs,`store-images/${e}`);await Ul(i,n);const s=await zl(i),a=_d(Mt(Lt,"storeImages"));return await To(a,s),s}async function uD(n){const e=decodeURIComponent(new URL(n).pathname.split("/o/")[1].split("?")[0]),i=fs(hs,e);await wd(i);const s=await ki(Mt(Lt,"storeImages"));if(!s.exists())return;const a=s.val(),u=Object.keys(a).find(h=>a[h]===n);u&&await vd(Mt(Lt,`storeImages/${u}`))}async function aT(){const n=await ki(Mt(Lt,"storeImages"));return n.exists()?Object.values(n.val()):[]}async function Ch(){const n=await ki(Mt(Lt,"events"));return n.exists()?Object.entries(n.val()).sort((e,i)=>i[1].createdAt-e[1].createdAt):[]}async function cD({title:n,description:e,startDate:i,endDate:s,file:a}){const u=_d(Mt(Lt,"events")),h=u.key,d=fs(hs,`events/${h}/${a.name}`);await Ul(d,a);const g=await zl(d);await To(u,{title:n,description:e,startDate:i,endDate:s,imageUrl:g,participants:0,views:0,createdAt:Date.now()})}async function lT(n){const e=await ki(Mt(Lt,`events/${n}`));return e.exists()?e.val():null}async function uT(n){const e=Mt(Lt,`events/${n}/views`),i=await ki(e),s=i.exists()?i.val():0;await To(e,s+1)}async function fD(n,e){const i=Mt(Lt,`events/${n}`);await yd(i,{...e,updatedAt:Date.now()})}async function hD(n){await vd(Mt(Lt,`events/${n}`))}function dD(){const n=oe.useRef(null),[e,i]=oe.useState({category:"",name:"",description:"",price:"",tags:"",file:null}),[s,a]=oe.useState(null),[u,h]=oe.useState({}),[d,g]=oe.useState(!1),[v,b]=oe.useState(""),[E,S]=oe.useState(null);oe.useEffect(()=>{x()},[]);const x=async()=>{const J=await sT();h(J)},R=J=>{const{name:$,value:ne,files:W}=J.target;if($==="file"){const z=W[0];i(X=>({...X,file:z})),a(URL.createObjectURL(z))}else i(z=>({...z,[$]:ne}))},D=async J=>{if(J.preventDefault(),!e.name||!e.price||!e.file&&!E){b("메뉴명, 가격, 이미지를 모두 입력해주세요.");return}g(!0);try{E?(await JP(E,{name:e.name,description:e.description,price:parseInt(e.price,10),category:e.category,tags:e.tags.split(",").map($=>$.trim()).filter(Boolean),file:e.file}),b("✅ 메뉴가 수정되었습니다!"),S(null)):(await $P({name:e.name,description:e.description,price:parseInt(e.price,10),category:e.category,tags:e.tags.split(",").map($=>$.trim()).filter(Boolean),file:e.file}),b("✅ 메뉴가 등록되었습니다!")),i({name:"",description:"",price:"",category:"",tags:"",file:null}),a(null),n.current&&(n.current.value=""),x()}catch($){console.error($),b("❌ 오류 발생: 메뉴 등록 실패")}g(!1)},Y=J=>{const $=u[J];$&&(i({name:$.name,description:$.description,price:$.price,category:$.category||"",tags:($.tags||[]).join(", "),file:null}),a($.imageUrl),S(J),n.current&&(n.current.value=""))},V=async(J,$)=>{if(window.confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await eD(J,$),b("🗑️ 메뉴 삭제 완료"),x()}catch(ne){console.error(ne),b("❌ 메뉴 삭제 중 오류 발생")}};return j.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1.5rem",padding:"1.5rem",width:"100%",boxSizing:"border-box",fontFamily:"'Segoe UI', 'Noto Sans KR', sans-serif"},children:[j.jsxs("div",{style:{flex:4,minWidth:"800px"},children:[j.jsx("h2",{children:"📋 메뉴 목록"}),["식사류","유부","하절기메뉴","사이드&음료"].map(J=>{const $=Object.entries(u).filter(([ne,W])=>W.category===J);return $.length===0?null:j.jsxs("div",{style:{marginBottom:32},children:[j.jsx("h3",{style:{marginBottom:12},children:J}),j.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},children:$.map(([ne,W])=>j.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:10,padding:12,backgroundColor:"#f9f9f9",boxShadow:"0 2px 6px rgba(0,0,0,0.06)"},children:[j.jsx("img",{src:W.imageUrl,alt:W.name,style:{width:"100%",height:160,objectFit:"cover",borderRadius:6}}),j.jsx("h4",{style:{margin:"8px 0 4px"},children:W.name}),j.jsx("p",{style:{margin:0,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",textOverflow:"ellipsis"},children:W.description}),j.jsx("p",{style:{margin:"4px 0",color:"#666",fontSize:14,minHeight:"22px"},children:W.tags&&W.tags.length>0?W.tags.map((z,X)=>j.jsxs("span",{style:{marginRight:6,background:"#eee",padding:"2px 6px",borderRadius:4},children:["#",z]},X)):""}),j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[j.jsxs("strong",{children:[W.price.toLocaleString(),"원"]}),j.jsxs("div",{children:[j.jsx("button",{onClick:()=>Y(ne),style:{background:"#f39c12",color:"white",padding:"6px 12px",border:"none",borderRadius:4,cursor:"pointer",marginRight:8},children:"수정"}),j.jsx("button",{onClick:()=>V(ne,W.imageUrl),style:{background:"#e74c3c",color:"white",padding:"6px 12px",border:"none",borderRadius:4,cursor:"pointer"},children:"삭제"})]})]})]},ne))})]},J)})]}),j.jsxs("div",{style:{flex:1},children:[j.jsx("h2",{children:"🍱 메뉴 등록"}),j.jsxs("form",{onSubmit:D,children:[j.jsxs("div",{style:{marginBottom:12},children:[j.jsx("label",{style:{fontWeight:"bold"},children:"메뉴명"}),j.jsx("input",{type:"text",name:"name",value:e.name,onChange:R,style:{width:"100%",padding:12,fontSize:16,border:"1px solid #ccc",borderRadius:6,boxSizing:"border-box",height:48}})]}),j.jsxs("div",{style:{marginBottom:12},children:[j.jsx("label",{style:{fontWeight:"bold"},children:"카테고리"}),j.jsxs("select",{name:"category",value:e.category,onChange:R,style:{width:"100%",padding:12,fontSize:16,border:"1px solid #ccc",borderRadius:6,boxSizing:"border-box",height:48},children:[j.jsx("option",{value:"",children:"선택해주세요"}),j.jsx("option",{value:"식사류",children:"식사류"}),j.jsx("option",{value:"유부",children:"유부"}),j.jsx("option",{value:"하절기메뉴",children:"하절기메뉴"}),j.jsx("option",{value:"사이드&음료",children:"사이드&음료"})]})]}),j.jsxs("div",{style:{marginBottom:12},children:[j.jsx("label",{style:{fontWeight:"bold"},children:"설명"}),j.jsx("textarea",{name:"description",value:e.description,onChange:R,style:{width:"100%",padding:12,fontSize:16,border:"1px solid #ccc",borderRadius:6,boxSizing:"border-box",height:120}})]}),j.jsxs("div",{style:{marginBottom:12},children:[j.jsx("label",{style:{fontWeight:"bold"},children:"가격"}),j.jsx("input",{type:"number",name:"price",value:e.price,onChange:R,style:{width:"100%",padding:12,fontSize:16,border:"1px solid #ccc",borderRadius:6,boxSizing:"border-box",height:48}})]}),j.jsxs("div",{style:{marginBottom:12},children:[j.jsx("label",{style:{fontWeight:"bold"},children:"태그 (쉼표로 구분)"}),j.jsx("input",{type:"text",name:"tags",value:e.tags,onChange:R,placeholder:"예: 유부초밥, 단백질",style:{width:"100%",padding:12,fontSize:16,border:"1px solid #ccc",borderRadius:6,boxSizing:"border-box",height:48}})]}),j.jsxs("div",{style:{marginBottom:12},children:[j.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:4},children:"사진"}),j.jsx("div",{onDragOver:J=>J.preventDefault(),onDrop:J=>{J.preventDefault();const $=J.dataTransfer.files[0];$&&(i(ne=>({...ne,file:$})),a(URL.createObjectURL($)),n.current&&(n.current.files=J.dataTransfer.files))},onClick:()=>{var J;return(J=n.current)==null?void 0:J.click()},style:{width:"100%",height:180,padding:"20px",border:"2px dashed #ccc",textAlign:"center",borderRadius:8,background:"#f9f9f9",color:"#666",cursor:"pointer",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:s?j.jsx("img",{src:s,alt:"미리보기",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",borderRadius:6}}):j.jsxs("span",{children:["화면을 클릭하여 파일을 선택하거나",j.jsx("br",{}),"드래그 후 업로드"]})}),j.jsx("input",{ref:n,type:"file",name:"file",accept:"image/*",onChange:R,style:{display:"none"}})]}),j.jsx("div",{style:{textAlign:"center"},children:j.jsx("button",{type:"submit",disabled:d,style:{background:"#3498db",color:"white",padding:"10px 16px",fontSize:"16px",border:"none",borderRadius:"6px",cursor:"pointer"},children:d?"저장 중...":E?"메뉴 수정":"메뉴 등록"})})]}),v&&j.jsx("p",{style:{marginTop:16,padding:8,backgroundColor:v.startsWith("✅")?"#d4edda":"#f8d7da",color:v.startsWith("✅")?"#155724":"#721c24",borderRadius:6},children:v})]})]})}function pD(){const[n,e]=oe.useState({}),[i,s]=oe.useState([...Array(10).fill(null)]),a=oe.useRef([...Array(10).fill(null)]),[u,h]=oe.useState(!1),[d,g]=oe.useState(null),[v,b]=oe.useState(null),E=async()=>{const P=await ki(Mt(Lt,"introSlides"));P.exists()?e(P.val()):e({})};oe.useEffect(()=>{E()},[]);const S=async(P,U)=>{try{const H=await rD(P,U);alert("업로드 완료!"),s(N=>{const G=[...N];return G[U]=null,G}),e(N=>({...N,[U]:{imageUrl:H}})),a.current[U]&&(a.current[U].value=""),h(!1)}catch(H){console.error(H),alert("업로드 실패")}},x=async P=>{if(window.confirm("삭제하시겠습니까?"))try{await sD(P),s(U=>{const H=[...U];return H[P]=null,H}),alert("삭제 완료!"),E()}catch(U){console.error(U),alert("삭제 실패")}},R=(P,U)=>{const H=U.target.files[0];H&&b(H)},[D,Y]=oe.useState({address:"",latitude:"",longitude:"",description:""}),[V,J]=oe.useState("");oe.useEffect(()=>{oT().then(P=>{P&&Y({address:P.address||"",latitude:P.latitude||"",longitude:P.longitude||"",description:P.description||""})})},[]),oe.useEffect(()=>{console.log("📥 postMessage 리스너 등록됨");const P=U=>{U.origin===window.location.origin&&(U.source===window||U.source===window.opener)&&U.data&&typeof U.data=="object"&&"roadAddr"in U.data&&(console.log("✅ 주소 수신됨:",U.data),Y(H=>({...H,address:U.data.roadAddr})))};return window.addEventListener("message",P),()=>window.removeEventListener("message",P)},[]);const $=P=>{const{name:U,value:H}=P.target;Y(N=>({...N,[U]:H}))},ne=async()=>{try{const P={address:D.address,latitude:D.latitude,longitude:D.longitude,description:D.description};await aD(P),alert("✅ 저장 완료!"),J("")}catch(P){console.error(P),J("❌ 저장 실패")}},[W,z]=oe.useState([]),[X,B]=oe.useState(null),A=P=>{const U=P.target.files[0];U&&B(U)};oe.useEffect(()=>{aT().then(P=>z(P)).catch(P=>{console.error(P),alert("이미지를 불러오는 데 실패했습니다.")})},[]);const M=async P=>{window.confirm("이미지를 삭제하시겠습니까?")&&(await uD(P),z(U=>U.filter(H=>H!==P)))};return j.jsxs("div",{style:{padding:24},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[j.jsx("h2",{children:"홈화면 슬라이드 이미지 관리"}),j.jsx("button",{onClick:()=>{h(!0);const P=i.findIndex((U,H)=>{var N;return!i[H]&&!((N=n[H])!=null&&N.imageUrl)});g(P)},disabled:Object.keys(n).length>=10,style:{padding:"8px 16px",background:Object.keys(n).length>=10?"#ccc":"#3498db",color:"white",border:"none",borderRadius:4,cursor:Object.keys(n).length>=10?"not-allowed":"pointer"},children:"이미지 추가"})]}),j.jsx("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginTop:16},children:[...Array(10).keys()].map(P=>{var U,H;return(i[P]||((U=n[P])==null?void 0:U.imageUrl))&&j.jsxs("div",{style:{position:"relative"},children:[j.jsx("img",{src:i[P]||((H=n[P])==null?void 0:H.imageUrl),alt:`slide-${P}`,style:{width:220,height:220,borderRadius:8,objectFit:"cover"}}),j.jsx("button",{onClick:()=>x(P),style:{position:"absolute",top:6,right:6,width:24,height:24,background:"rgba(0, 0, 0, 0.7)",color:"#fff",border:"none",borderRadius:4,fontWeight:"bold",fontSize:16,lineHeight:"24px",textAlign:"center",padding:0,cursor:"pointer"},children:"×"})]},P)})}),j.jsxs("div",{style:{marginTop:48},children:[j.jsx("h2",{children:"🧭 오시는 길 / 매장 소개"}),j.jsxs("div",{style:{marginBottom:8,display:"flex",gap:12},children:[j.jsx("input",{type:"text",name:"address",value:D.address,placeholder:"도로명 주소",onChange:$,style:{flex:1,padding:8}}),j.jsx("input",{type:"text",placeholder:"위도, 경도 (쉼표로 구분)",value:`${D.latitude}, ${D.longitude}`,onChange:P=>{const[U,H]=P.target.value.split(",").map(N=>N.trim());Y(N=>({...N,latitude:U||"",longitude:H||""}))},style:{flex:1,padding:8}})]}),j.jsx("textarea",{name:"description",value:D.description,placeholder:"매장 소개글",onChange:$,rows:4,style:{width:"100%",padding:8,marginBottom:8}}),j.jsx("button",{onClick:ne,style:{padding:"10px 16px",background:"#2ecc71",color:"white",border:"none",borderRadius:4,cursor:"pointer"},children:"저장"}),V&&j.jsx("p",{style:{marginTop:12,color:V.startsWith("✅")?"#2ecc71":"#e74c3c"},children:V})]}),j.jsxs("div",{style:{marginTop:32},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[j.jsx("h2",{children:"🏪 매장 대표 사진"}),j.jsx("button",{onClick:()=>{h(!0),g(null)},disabled:W.length>=10,style:{padding:"8px 16px",background:W.length>=10?"#ccc":"#3498db",color:"white",border:"none",borderRadius:4,cursor:W.length>=10?"not-allowed":"pointer",marginLeft:12},children:"이미지 추가"})]}),j.jsx("div",{style:{display:"flex",gap:12,marginTop:16},children:W.map((P,U)=>j.jsxs("div",{style:{position:"relative"},children:[j.jsx("img",{src:P,alt:`store-${U}`,style:{width:220,height:220,borderRadius:8,objectFit:"cover"}}),j.jsx("button",{onClick:()=>M(P),style:{position:"absolute",top:6,right:6,width:24,height:24,background:"rgba(0, 0, 0, 0.7)",color:"#fff",border:"none",borderRadius:4,fontWeight:"bold",fontSize:16,lineHeight:"24px",textAlign:"center",padding:0,cursor:"pointer"},children:"×"})]},U))})]}),u&&j.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",zIndex:1e3},children:j.jsxs("div",{style:{background:"#fff",width:400,margin:"10% auto",padding:24,borderRadius:8,position:"relative"},children:[d===null?j.jsxs(j.Fragment,{children:[j.jsx("h3",{children:"매장 이미지 등록"}),j.jsx("input",{type:"file",accept:"image/*",onChange:P=>{A(P)}}),j.jsx("div",{onDragOver:P=>P.preventDefault(),onDrop:P=>{var H;P.preventDefault();const U=(H=P.dataTransfer.files)==null?void 0:H[0];U&&B(U)},style:{border:"2px dashed #ccc",padding:20,marginTop:16,textAlign:"center",borderRadius:8},children:"또는 이곳에 드래그하여 업로드"}),j.jsx("div",{style:{textAlign:"center",marginTop:16},children:j.jsx("button",{onClick:async()=>{if(W.length>=10){alert("이미지는 최대 10개까지만 등록할 수 있습니다.");return}if(X){try{const P=await lD(X);z(U=>[...U,P])}catch{alert("❌ 업로드 실패")}B(null),h(!1)}},disabled:!X,style:{padding:"10px 16px",fontSize:14,background:X?"#3498db":"#ccc",color:"white",border:"none",borderRadius:4,cursor:X?"pointer":"not-allowed"},children:"등록"})})]}):j.jsxs(j.Fragment,{children:[j.jsx("h3",{children:"이미지 추가"}),j.jsx("input",{type:"file",accept:"image/*",onChange:P=>R(d,P),ref:P=>a.current[d]=P}),j.jsx("div",{onDragOver:P=>P.preventDefault(),onDrop:P=>{var H;P.preventDefault();const U=(H=P.dataTransfer.files)==null?void 0:H[0];if(U){if(a.current[d]){const N=new DataTransfer;N.items.add(U),a.current[d].files=N.files}b(U)}},style:{border:"2px dashed #ccc",padding:20,marginTop:16,textAlign:"center",borderRadius:8},children:"또는 이곳에 드래그하여 업로드"}),j.jsx("div",{style:{textAlign:"center",marginTop:16},children:j.jsx("button",{onClick:async()=>{v&&(await S(v,d),b(null))},disabled:!v,style:{padding:"10px 16px",fontSize:14,background:v?"#3498db":"#ccc",color:"white",border:"none",borderRadius:4,cursor:v?"pointer":"not-allowed"},children:"등록"})})]}),j.jsx("button",{onClick:()=>{h(!1),b(null),B(null),d!==null&&s(P=>{const U=[...P];return U[d]=null,U})},style:{position:"absolute",top:8,right:8},children:"X"})]})})]})}function mD(){const[n,e]=oe.useState({});oe.useEffect(()=>{Tw().then(e)},[]);const i=()=>Tw().then(e),s=async u=>{window.confirm("정말 숨기시겠습니까?")&&(await nD(u),i())},a=async u=>{window.confirm("이 후기를 다시 공개할까요?")&&(await iD(u),i())};return j.jsxs("div",{style:{padding:24},children:[j.jsx("h2",{children:"👨‍💻 방문 후기 관리"}),Object.entries(n).map(([u,h])=>{var d;return j.jsxs("div",{style:{borderBottom:"1px solid #ddd",padding:16,marginBottom:24,background:h.isVisible?"#fff":"#f8f8f8"},children:[j.jsxs("div",{children:[j.jsx("strong",{children:h.nickname})," / ",new Date(h.createdAt).toLocaleDateString()]}),j.jsx("div",{style:{margin:"12px 0"},children:h.content}),j.jsx("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:(d=h.images)==null?void 0:d.map((g,v)=>j.jsx("img",{src:g,alt:"리뷰 이미지",style:{width:120,borderRadius:6}},v))}),j.jsx("div",{style:{marginTop:12},children:h.isVisible?j.jsx("button",{onClick:()=>s(u),style:{background:"#e74c3c",color:"white",padding:"6px 12px",border:"none",borderRadius:4,cursor:"pointer"},children:"숨기기"}):j.jsx("button",{onClick:()=>a(u),style:{background:"#2ecc71",color:"white",padding:"6px 12px",border:"none",borderRadius:4,cursor:"pointer"},children:"다시 공개"})})]},u)})]})}function gD({tab:n,setTab:e}){const i=Cc(),s=async()=>{await Lk(ZE()),localStorage.removeItem("adminToken"),i("/admin-login")},a=u=>({background:u?"#3498db":"transparent",color:u?"#fff":"#ecf0f1",border:"none",padding:"8px 16px",margin:"0 6px",fontSize:"15px",borderRadius:6,cursor:"pointer"});return j.jsxs("header",{style:{backgroundColor:"#2c3e50",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 24px",position:"sticky",top:0,zIndex:100,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[j.jsx("img",{src:"/theUBoo/logo.png",alt:"로고",style:{height:28}}),j.jsx("strong",{style:{fontSize:"18px",color:"white"},children:"TheUboo Admin"})]}),j.jsxs("nav",{children:[j.jsx("button",{onClick:()=>e("home"),style:a(n==="home"),children:"홈화면 관리"}),j.jsx("button",{onClick:()=>e("menu"),style:a(n==="menu"),children:"메뉴 관리"}),j.jsx("button",{onClick:()=>e("review"),style:a(n==="review"),children:"리뷰 관리"}),j.jsx("button",{onClick:()=>e("event"),style:a(n==="event"),children:"이벤트 관리"})]}),j.jsx("button",{onClick:s,style:{background:"#e74c3c",color:"white",padding:"8px 14px",border:"none",borderRadius:6,fontWeight:"bold",cursor:"pointer"},children:"로그아웃"})]})}function _D({onRegistered:n}){const[e,i]=oe.useState({title:"",description:"",startDate:"",endDate:"",file:null}),[s,a]=oe.useState(null),[u,h]=oe.useState(""),d=v=>{const{name:b,value:E,files:S}=v.target;if(b==="file"){const x=S[0];i(R=>({...R,file:x})),a(URL.createObjectURL(x))}else i(x=>({...x,[b]:E}))},g=async v=>{if(v.preventDefault(),!e.title||!e.description||!e.startDate||!e.endDate||!e.file){h("⚠️ 모든 항목을 입력해주세요.");return}try{await cD(e),h("✅ 이벤트가 등록되었습니다!"),i({title:"",description:"",startDate:"",endDate:"",file:null}),a(null),n&&n()}catch(b){console.error(b),h("❌ 등록 실패")}};return j.jsxs("form",{onSubmit:g,style:{maxWidth:600},children:[j.jsx("h3",{style:{marginBottom:16},children:"📝 이벤트 등록"}),j.jsx("input",{type:"text",name:"title",placeholder:"제목",value:e.title,onChange:d,style:Yu.input}),j.jsx("textarea",{name:"description",placeholder:"내용",value:e.description,onChange:d,rows:12,style:Yu.input}),j.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:6},children:"게시 기간"}),j.jsxs("div",{style:{display:"flex",gap:12},children:[j.jsx("input",{type:"date",name:"startDate",value:e.startDate,onChange:d,style:Yu.input}),j.jsx("span",{style:{alignSelf:"center"},children:" ~ "}),j.jsx("input",{type:"date",name:"endDate",value:e.endDate,onChange:d,style:Yu.input})]}),j.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:6},children:"이미지"}),j.jsx("input",{type:"file",accept:"image/*",name:"file",onChange:d,style:{marginTop:12,marginBottom:12}}),s&&j.jsx("img",{src:s,alt:"미리보기",style:{width:"100%",maxHeight:200,objectFit:"cover",borderRadius:8}}),j.jsx("button",{type:"submit",style:Yu.button,children:"등록"}),u&&j.jsx("p",{style:{marginTop:12},children:u})]})}const Yu={input:{width:"100%",padding:12,fontSize:16,marginBottom:12,border:"1px solid #ccc",borderRadius:6,boxSizing:"border-box"},button:{width:"100%",padding:12,backgroundColor:"#3498db",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"}};function vD({event:n,onClose:e}){const[i,s]=oe.useState(!1),[a,u]=oe.useState((n==null?void 0:n.title)||""),[h,d]=oe.useState((n==null?void 0:n.imageUrl)||""),[g,v]=oe.useState((n==null?void 0:n.startDate)||""),[b,E]=oe.useState((n==null?void 0:n.endDate)||""),[S,x]=oe.useState((n==null?void 0:n.description)||""),[R,D]=oe.useState((n==null?void 0:n.imageUrl)||"");if(!n)return null;const Y=async()=>{const V={...n,title:a,imageUrl:R,startDate:g,endDate:b,description:S};try{await fD(V.id,V),s(!1),e()}catch(J){console.error("이벤트 업데이트 실패:",J),alert("이벤트 저장 중 오류가 발생했습니다.")}};return j.jsx("div",{style:Qr.overlay,children:j.jsxs("div",{style:Qr.modal,children:[i?j.jsxs(j.Fragment,{children:[j.jsx("label",{style:{fontWeight:"bold",marginBottom:4},children:"제목"}),j.jsx("input",{value:a,onChange:V=>u(V.target.value),style:{width:"100%",marginBottom:8,fontSize:20}}),j.jsx("label",{style:{fontWeight:"bold",marginBottom:4},children:"게시 기간"}),j.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[j.jsx("input",{type:"date",value:g,onChange:V=>v(V.target.value)}),j.jsx("text",{children:" ~ "}),j.jsx("input",{type:"date",value:b,onChange:V=>E(V.target.value)})]}),j.jsx("label",{style:{fontWeight:"bold",marginBottom:4},children:"이미지"}),j.jsxs("div",{onDragOver:V=>V.preventDefault(),onDrop:V=>{var $;V.preventDefault();const J=($=V.dataTransfer.files)==null?void 0:$[0];if(J){const ne=new FileReader;ne.onload=W=>{D(W.target.result)},ne.readAsDataURL(J)}},style:{border:"2px dashed #ccc",borderRadius:6,padding:16,textAlign:"center",marginBottom:16,cursor:"pointer",backgroundColor:"#f9f9f9"},children:[j.jsx("input",{type:"file",accept:"image/*",onChange:V=>{var $;const J=($=V.target.files)==null?void 0:$[0];if(J){const ne=new FileReader;ne.onload=W=>{D(W.target.result)},ne.readAsDataURL(J)}},style:{display:"none"},id:"image-upload-input"}),j.jsx("label",{htmlFor:"image-upload-input",style:{cursor:"pointer",display:"block",fontSize:14,fontWeight:"500",color:"#333",padding:"12px 0"},children:"이 곳을 클릭하거나 이미지를 드래그하여 업로드하세요 (최대 1장)"}),R&&j.jsx("img",{src:R,alt:"preview",style:{marginTop:12,width:"100%",height:240,objectFit:"cover",borderRadius:6}})]})]}):j.jsxs(j.Fragment,{children:[j.jsx("h2",{style:Qr.title,children:n.title}),j.jsxs("p",{style:Qr.date,children:["📅 ",n.startDate," ~ ",n.endDate," | 👁‍🗨 ",n.views||0,"회 조회"]})]}),n.imageUrl&&!i&&j.jsx("img",{src:n.imageUrl,alt:"event",style:Qr.image}),i?j.jsxs(j.Fragment,{children:[j.jsx("label",{style:{fontWeight:"bold",marginBottom:4},children:"내용"}),j.jsx("textarea",{value:S,onChange:V=>x(V.target.value),style:{width:"100%",height:150,marginBottom:12}}),j.jsx("button",{onClick:Y,style:{...Qr.closeBtn,backgroundColor:"#4CAF50",color:"#fff"},children:"저장"})]}):j.jsx("p",{style:Qr.description,children:n.description}),j.jsxs("div",{style:{display:"flex",gap:8},children:[!i&&j.jsx("button",{onClick:()=>s(!0),style:{...Qr.closeBtn,backgroundColor:"#3498db",color:"#fff"},children:"수정"}),j.jsx("button",{onClick:e,style:{...Qr.closeBtn,backgroundColor:"#888"},children:"닫기"})]})]})})}const Qr={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},modal:{backgroundColor:"#fff",padding:24,borderRadius:8,width:"100%",maxWidth:520,boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},title:{fontSize:24,fontWeight:"bold",marginBottom:8},date:{fontSize:14,color:"#999",marginBottom:16},image:{width:"100%",height:240,objectFit:"cover",borderRadius:6,marginBottom:16},description:{fontSize:16,lineHeight:1.6,whiteSpace:"pre-line",maxHeight:"16em",overflowY:"auto"},closeBtn:{marginTop:24,padding:"10px 16px",backgroundColor:"#888",border:"none",borderRadius:6,cursor:"pointer",width:"100%"}};function yD(){const[n,e]=oe.useState([]),[i,s]=oe.useState(null),[a,u]=oe.useState(null),[h,d]=oe.useState(!1);oe.useEffect(()=>{Ch().then(e)},[]);const g=async()=>{d(!1);const S=await Ch();e(S)},v=async S=>{const x=await lT(S);u(x),s(S)},b=()=>{u(null),s(null)},E=async S=>{if(!window.confirm("정말 삭제하시겠습니까?"))return;await hD(S);const x=await Ch();e(x)};return j.jsxs("div",{style:{padding:24},children:[j.jsx("h2",{style:{marginBottom:16},children:"📌 이벤트 관리"}),j.jsx("div",{style:{textAlign:"right",marginBottom:12},children:j.jsx("button",{onClick:()=>d(!0),style:rn.writeBtn,children:"글쓰기"})}),j.jsx("h3",{style:{marginBottom:12},children:"📋 이벤트 목록"}),j.jsxs("table",{style:rn.table,children:[j.jsx("thead",{children:j.jsxs("tr",{children:[j.jsx("th",{style:rn.th,children:"순번"}),j.jsx("th",{style:rn.th,children:"제목"}),j.jsx("th",{style:rn.th,children:"등록자"}),j.jsx("th",{style:rn.th,children:"등록일"}),j.jsx("th",{style:rn.th,children:"조회수"}),j.jsx("th",{style:rn.th,children:"상세"})]})}),j.jsx("tbody",{children:n.map(([S,x],R)=>j.jsxs("tr",{children:[j.jsx("td",{style:rn.td,children:n.length-R}),j.jsx("td",{style:rn.td,children:x.title}),j.jsx("td",{style:rn.td,children:"관리자"}),j.jsx("td",{style:rn.td,children:new Date(x.createdAt).toLocaleDateString()}),j.jsx("td",{style:rn.td,children:x.views||0}),j.jsxs("td",{style:rn.td,children:[j.jsx("button",{onClick:()=>v(S),style:rn.viewBtn,children:"보기"}),j.jsx("button",{onClick:()=>E(S),style:rn.deleteBtn,children:"삭제"})]})]},S))})]}),h&&j.jsx("div",{style:rn.modalOverlay,children:j.jsxs("div",{style:rn.modalBox,children:[j.jsx(_D,{onRegistered:g}),j.jsx("button",{onClick:()=>d(!1),style:rn.closeBtn,children:"닫기"})]})}),i&&a&&j.jsx(vD,{event:a,onClose:b})]})}const rn={writeBtn:{backgroundColor:"#3498db",color:"#fff",padding:"6px 12px",border:"none",borderRadius:6,cursor:"pointer"},table:{width:"100%",borderCollapse:"collapse",fontFamily:'"Noto Sans KR", sans-serif'},viewBtn:{background:"#3498db",color:"#fff",padding:"4px 8px",border:"none",borderRadius:4,cursor:"pointer"},deleteBtn:{background:"#e74c3c",color:"#fff",padding:"4px 8px",border:"none",borderRadius:4,cursor:"pointer",marginLeft:8},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},modalBox:{backgroundColor:"#fff",padding:24,borderRadius:8,width:"100%",maxWidth:560,position:"relative"},closeBtn:{marginTop:16,backgroundColor:"#888",border:"none",borderRadius:6,padding:10,cursor:"pointer",width:"100%"},th:{textAlign:"left",padding:"8px 12px",borderBottom:"1px solid #ddd"},td:{padding:"8px 12px",borderBottom:"1px solid #eee",verticalAlign:"middle"}};function bD(){const[n,e]=oe.useState("home");return j.jsxs("div",{style:{margin:0,padding:0},children:[" ",j.jsx(gD,{tab:n,setTab:e}),j.jsxs("main",{style:{width:"100%",maxWidth:"1400px",margin:"0 auto",padding:"24px",fontFamily:"'Segoe UI', 'Noto Sans KR', sans-serif"},children:[n==="home"&&j.jsx(pD,{}),n==="menu"&&j.jsx(dD,{}),n==="review"&&j.jsx(mD,{}),n==="event"&&j.jsx(yD,{})]})]})}function wD(){const[n,e]=oe.useState(""),[i,s]=oe.useState(""),[a,u]=oe.useState(""),h=Cc(),d=async g=>{g.preventDefault();try{await Ok(rT,n,i),localStorage.setItem("adminToken","true"),h("/admin",{replace:!0})}catch{u("이메일 또는 비밀번호가 올바르지 않습니다.")}};return j.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw",backgroundColor:"#f4f4f4",fontFamily:"Noto Sans KR"},children:j.jsxs("div",{style:{width:360,padding:32,border:"1px solid #ccc",borderRadius:8,backgroundColor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[j.jsx("h2",{style:{marginBottom:24},children:"🔐 관리자 로그인"}),j.jsxs("form",{onSubmit:d,children:[j.jsx("input",{type:"email",placeholder:"이메일",value:n,onChange:g=>e(g.target.value),style:{width:"100%",padding:"12px",boxSizing:"border-box",marginBottom:12,borderRadius:4,border:"1px solid #ccc"}}),j.jsx("input",{type:"password",placeholder:"비밀번호",value:i,onChange:g=>s(g.target.value),style:{width:"100%",padding:"12px",boxSizing:"border-box",marginBottom:12,borderRadius:4,border:"1px solid #ccc"}}),j.jsx("button",{type:"submit",style:{width:"100%",padding:"12px",boxSizing:"border-box",background:"#3498db",color:"#fff",border:"none",borderRadius:4,fontWeight:"bold",cursor:"pointer"},children:"로그인"})]})]})})}function SD({children:n}){const[e,i]=oe.useState(!0),[s,a]=oe.useState(!1);return oe.useEffect(()=>{const u=Mk(rT,h=>{a(!!h),i(!1)});return()=>u()},[]),e?null:s?n:j.jsx(_1,{to:"/admin-login",replace:!0})}function ED(){const n=[{label:"메뉴",path:"/menu"},{label:"방문후기",path:"/review"},{label:"이벤트",path:"/event"}],e=["고객센터","사이트맵","가맹점 개설안내"];return j.jsxs("header",{style:$r.header,children:[j.jsx("div",{style:$r.topInfo,children:e.map((i,s)=>j.jsxs("span",{children:[i,s<e.length-1&&j.jsx("span",{style:$r.topDivider,children:"｜"})]},s))}),j.jsxs("div",{style:$r.navWrapper,children:[j.jsx("div",{style:$r.logoSection,children:j.jsxs(Rh,{to:"/",style:{display:"flex",alignItems:"center",gap:8,textDecoration:"none"},children:[j.jsx("img",{src:"/theUBoo/logo.png",alt:"TheUboo",style:{height:32}}),j.jsx("strong",{style:$r.logoText,children:"THE 유부"})]})}),j.jsx("nav",{style:$r.nav,children:n.map((i,s)=>j.jsxs(Rh,{to:i.path,style:$r.navItem,children:[s!==0&&j.jsx("span",{style:$r.navDivider,children:"｜"}),j.jsx("span",{children:i.label})]},i.label))})]})]})}const $r={header:{position:"fixed",top:0,left:0,right:0,zIndex:1e3,backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",borderBottom:"1px solid #eee"},topInfo:{fontSize:13,color:"#a89f93",textAlign:"right",padding:"6px 24px 4px"},topDivider:{margin:"0 6px"},navWrapper:{display:"flex",alignItems:"center",justifyContent:"center",padding:"14px 32px",gap:32},logoSection:{display:"flex",alignItems:"center",gap:8},logoText:{fontSize:18,color:"#111",textDecoration:"none",fontWeight:"bold"},nav:{display:"flex",alignItems:"center",fontWeight:700,fontSize:18,fontFamily:'"Noto Sans KR", sans-serif',color:"#111",gap:18},navItem:{display:"flex",alignItems:"center",gap:16,cursor:"pointer",textDecoration:"none",color:"#111"},navDivider:{color:"#ccc",fontSize:18,fontWeight:400}};function TD(){return j.jsxs("footer",{style:na.footer,children:[j.jsxs("div",{style:na.container,children:[j.jsxs("div",{style:na.info,children:[j.jsxs("p",{children:[j.jsx("strong",{children:"상호명:"})," 더 유부 (The Uboo)"]}),j.jsxs("p",{children:[j.jsx("strong",{children:"사업자등록번호:"})," 123-45-67890"]}),j.jsxs("p",{children:[j.jsx("strong",{children:"대표자:"})," 홍길동"]}),j.jsxs("p",{children:[j.jsx("strong",{children:"고객센터:"})," 02-1234-5678"]}),j.jsxs("p",{children:[j.jsx("strong",{children:"이메일:"})," contact@theuboo.com"]})]}),j.jsxs("div",{style:na.links,children:[j.jsx("a",{href:"/terms",style:na.link,children:"이용약관"}),j.jsx("a",{href:"/privacy",style:na.link,children:"개인정보처리방침"})]})]}),j.jsx("div",{style:na.copy,children:"© 2025 The Uboo. All rights reserved."})]})}const na={footer:{backgroundColor:"#222",color:"#ccc",padding:"2rem 1.5rem",fontSize:14,marginTop:"auto"},container:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:20,maxWidth:960,margin:"0 auto"},info:{lineHeight:1.6},links:{display:"flex",flexDirection:"column",gap:8,justifyContent:"center"},link:{color:"#ccc",textDecoration:"none"},copy:{textAlign:"center",marginTop:"2rem",fontSize:12,color:"#888"}};function Ku({children:n}){return j.jsxs(j.Fragment,{children:[j.jsx(ED,{}),j.jsx("main",{style:xD.main,children:n}),j.jsx(TD,{})]})}const xD={main:{paddingTop:110,minHeight:"calc(100vh - 160px)",backgroundColor:"#fafafa"}};var ph={exports:{}},oo={},Zm={exports:{}},Gm,xw;function CD(){if(xw)return Gm;xw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gm=n,Gm}var Ym,Cw;function OD(){if(Cw)return Ym;Cw=1;var n=CD();function e(){}function i(){}return i.resetWarningCache=e,Ym=function(){function s(h,d,g,v,b,E){if(E!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function a(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:i,resetWarningCache:e};return u.PropTypes=u,u},Ym}var Ow;function cT(){return Ow||(Ow=1,Zm.exports=OD()()),Zm.exports}var mh={exports:{}},Ri={},gh={exports:{}},Rw;function fT(){return Rw||(Rw=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var i="none",s="contents",a=/^(input|select|textarea|button|object|iframe)$/;function u(E,S){return S.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function h(E){var S=E.offsetWidth<=0&&E.offsetHeight<=0;if(S&&!E.innerHTML)return!0;try{var x=window.getComputedStyle(E),R=x.getPropertyValue("display");return S?R!==s&&u(E,x):R===i}catch{return console.warn("Failed to inspect element style"),!1}}function d(E){for(var S=E,x=E.getRootNode&&E.getRootNode();S&&S!==document.body;){if(x&&S===x&&(S=x.host.parentNode),h(S))return!1;S=S.parentNode}return!0}function g(E,S){var x=E.nodeName.toLowerCase(),R=a.test(x)&&!E.disabled||x==="a"&&E.href||S;return R&&d(E)}function v(E){var S=E.getAttribute("tabindex");S===null&&(S=void 0);var x=isNaN(S);return(x||S>=0)&&g(E,!x)}function b(E){var S=[].slice.call(E.querySelectorAll("*"),0).reduce(function(x,R){return x.concat(R.shadowRoot?b(R.shadowRoot):[R])},[]);return S.filter(v)}n.exports=e.default}(gh,gh.exports)),gh.exports}var Aw;function RD(){if(Aw)return Ri;Aw=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.resetState=h,Ri.log=d,Ri.handleBlur=g,Ri.handleFocus=v,Ri.markForFocusLater=b,Ri.returnFocus=E,Ri.popWithoutFocus=S,Ri.setupScopedFocus=x,Ri.teardownScopedFocus=R;var n=fT(),e=i(n);function i(D){return D&&D.__esModule?D:{default:D}}var s=[],a=null,u=!1;function h(){s=[]}function d(){}function g(){u=!0}function v(){if(u){if(u=!1,!a)return;setTimeout(function(){if(!a.contains(document.activeElement)){var D=(0,e.default)(a)[0]||a;D.focus()}},0)}}function b(){s.push(document.activeElement)}function E(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Y=null;try{s.length!==0&&(Y=s.pop(),Y.focus({preventScroll:D}));return}catch{console.warn(["You tried to return focus to",Y,"but it is not in the DOM anymore"].join(" "))}}function S(){s.length>0&&s.pop()}function x(D){a=D,window.addEventListener?(window.addEventListener("blur",g,!1),document.addEventListener("focus",v,!0)):(window.attachEvent("onBlur",g),document.attachEvent("onFocus",v))}function R(){a=null,window.addEventListener?(window.removeEventListener("blur",g),document.removeEventListener("focus",v)):(window.detachEvent("onBlur",g),document.detachEvent("onFocus",v))}return Ri}var _h={exports:{}},Mw;function AD(){return Mw||(Mw=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var i=fT(),s=a(i);function a(d){return d&&d.__esModule?d:{default:d}}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?u(d.activeElement.shadowRoot):d.activeElement}function h(d,g){var v=(0,s.default)(d);if(!v.length){g.preventDefault();return}var b=void 0,E=g.shiftKey,S=v[0],x=v[v.length-1],R=u();if(d===R){if(!E)return;b=x}if(x===R&&!E&&(b=S),S===R&&E&&(b=x),b){g.preventDefault(),b.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),Y=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(Y){var V=v.indexOf(R);if(V>-1&&(V+=E?-1:1),b=v[V],typeof b>"u"){g.preventDefault(),b=E?x:S,b.focus();return}g.preventDefault(),b.focus()}}n.exports=e.default}(_h,_h.exports)),_h.exports}var Wi={},Km,Lw;function MD(){if(Lw)return Km;Lw=1;var n=function(){};return Km=n,Km}var mr={},Xm={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var Iw;function LD(){return Iw||(Iw=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=i:window.ExecutionEnvironment=i})()}(Xm)),Xm.exports}var kw;function $_(){if(kw)return mr;kw=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.canUseDOM=mr.SafeNodeList=mr.SafeHTMLCollection=void 0;var n=LD(),e=i(n);function i(u){return u&&u.__esModule?u:{default:u}}var s=e.default,a=s.canUseDOM?window.HTMLElement:{};return mr.SafeHTMLCollection=s.canUseDOM?window.HTMLCollection:{},mr.SafeNodeList=s.canUseDOM?window.NodeList:{},mr.canUseDOM=s.canUseDOM,mr.default=a,mr}var Pw;function hT(){if(Pw)return Wi;Pw=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.resetState=u,Wi.log=h,Wi.assertNodeList=d,Wi.setElement=g,Wi.validateElement=v,Wi.hide=b,Wi.show=E,Wi.documentNotReadyOrSSRTesting=S;var n=MD(),e=s(n),i=$_();function s(x){return x&&x.__esModule?x:{default:x}}var a=null;function u(){a&&(a.removeAttribute?a.removeAttribute("aria-hidden"):a.length!=null?a.forEach(function(x){return x.removeAttribute("aria-hidden")}):document.querySelectorAll(a).forEach(function(x){return x.removeAttribute("aria-hidden")})),a=null}function h(){}function d(x,R){if(!x||!x.length)throw new Error("react-modal: No elements were found for selector "+R+".")}function g(x){var R=x;if(typeof R=="string"&&i.canUseDOM){var D=document.querySelectorAll(R);d(D,R),R=D}return a=R||a,a}function v(x){var R=x||a;return R?Array.isArray(R)||R instanceof HTMLCollection||R instanceof NodeList?R:[R]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function b(x){var R=!0,D=!1,Y=void 0;try{for(var V=v(x)[Symbol.iterator](),J;!(R=(J=V.next()).done);R=!0){var $=J.value;$.setAttribute("aria-hidden","true")}}catch(ne){D=!0,Y=ne}finally{try{!R&&V.return&&V.return()}finally{if(D)throw Y}}}function E(x){var R=!0,D=!1,Y=void 0;try{for(var V=v(x)[Symbol.iterator](),J;!(R=(J=V.next()).done);R=!0){var $=J.value;$.removeAttribute("aria-hidden")}}catch(ne){D=!0,Y=ne}finally{try{!R&&V.return&&V.return()}finally{if(D)throw Y}}}function S(){a=null}return Wi}var ia={},Dw;function ID(){if(Dw)return ia;Dw=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.resetState=s,ia.log=a;var n={},e={};function i(v,b){v.classList.remove(b)}function s(){var v=document.getElementsByTagName("html")[0];for(var b in n)i(v,n[b]);var E=document.body;for(var S in e)i(E,e[S]);n={},e={}}function a(){}var u=function(b,E){return b[E]||(b[E]=0),b[E]+=1,E},h=function(b,E){return b[E]&&(b[E]-=1),E},d=function(b,E,S){S.forEach(function(x){u(E,x),b.add(x)})},g=function(b,E,S){S.forEach(function(x){h(E,x),E[x]===0&&b.remove(x)})};return ia.add=function(b,E){return d(b.classList,b.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},ia.remove=function(b,E){return g(b.classList,b.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},ia}var fl={},Nw;function dT(){if(Nw)return fl;Nw=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.log=s,fl.resetState=a;function n(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var e=function u(){var h=this;n(this,u),this.register=function(d){h.openInstances.indexOf(d)===-1&&(h.openInstances.push(d),h.emit("register"))},this.deregister=function(d){var g=h.openInstances.indexOf(d);g!==-1&&(h.openInstances.splice(g,1),h.emit("deregister"))},this.subscribe=function(d){h.subscribers.push(d)},this.emit=function(d){h.subscribers.forEach(function(g){return g(d,h.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},i=new e;function s(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach(function(u){return console.log(u)}),console.log("end portalOpenInstances ----------")}function a(){i=new e}return fl.default=i,fl}var Xu={},Uw;function kD(){if(Uw)return Xu;Uw=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.resetState=h,Xu.log=d;var n=dT(),e=i(n);function i(b){return b&&b.__esModule?b:{default:b}}var s=void 0,a=void 0,u=[];function h(){for(var b=[s,a],E=0;E<b.length;E++){var S=b[E];S&&S.parentNode&&S.parentNode.removeChild(S)}s=a=null,u=[]}function d(){console.log("bodyTrap ----------"),console.log(u.length);for(var b=[s,a],E=0;E<b.length;E++){var S=b[E],x=S||{};console.log(x.nodeName,x.className,x.id)}console.log("edn bodyTrap ----------")}function g(){u.length!==0&&u[u.length-1].focusContent()}function v(b,E){!s&&!a&&(s=document.createElement("div"),s.setAttribute("data-react-modal-body-trap",""),s.style.position="absolute",s.style.opacity="0",s.setAttribute("tabindex","0"),s.addEventListener("focus",g),a=s.cloneNode(),a.addEventListener("focus",g)),u=E,u.length>0?(document.body.firstChild!==s&&document.body.insertBefore(s,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(s.parentElement&&s.parentElement.removeChild(s),a.parentElement&&a.parentElement.removeChild(a))}return e.default.subscribe(v),Xu}var zw;function PD(){return zw||(zw=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(N){for(var G=1;G<arguments.length;G++){var O=arguments[G];for(var _ in O)Object.prototype.hasOwnProperty.call(O,_)&&(N[_]=O[_])}return N},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},a=function(){function N(G,O){for(var _=0;_<O.length;_++){var Q=O[_];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(G,Q.key,Q)}}return function(G,O,_){return O&&N(G.prototype,O),_&&N(G,_),G}}(),u=Ii(),h=cT(),d=W(h),g=RD(),v=ne(g),b=AD(),E=W(b),S=hT(),x=ne(S),R=ID(),D=ne(R),Y=$_(),V=W(Y),J=dT(),$=W(J);kD();function ne(N){if(N&&N.__esModule)return N;var G={};if(N!=null)for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(G[O]=N[O]);return G.default=N,G}function W(N){return N&&N.__esModule?N:{default:N}}function z(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}function X(N,G){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:N}function B(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);N.prototype=Object.create(G&&G.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(N,G):N.__proto__=G)}var A={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=function(G){return G.code==="Tab"||G.keyCode===9},P=function(G){return G.code==="Escape"||G.keyCode===27},U=0,H=function(N){B(G,N);function G(O){z(this,G);var _=X(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,O));return _.setOverlayRef=function(Q){_.overlay=Q,_.props.overlayRef&&_.props.overlayRef(Q)},_.setContentRef=function(Q){_.content=Q,_.props.contentRef&&_.props.contentRef(Q)},_.afterClose=function(){var Q=_.props,F=Q.appElement,w=Q.ariaHideApp,k=Q.htmlOpenClassName,K=Q.bodyOpenClassName,ie=Q.parentSelector,ee=ie&&ie().ownerDocument||document;K&&D.remove(ee.body,K),k&&D.remove(ee.getElementsByTagName("html")[0],k),w&&U>0&&(U-=1,U===0&&x.show(F)),_.props.shouldFocusAfterRender&&(_.props.shouldReturnFocusAfterClose?(v.returnFocus(_.props.preventScroll),v.teardownScopedFocus()):v.popWithoutFocus()),_.props.onAfterClose&&_.props.onAfterClose(),$.default.deregister(_)},_.open=function(){_.beforeOpen(),_.state.afterOpen&&_.state.beforeClose?(clearTimeout(_.closeTimer),_.setState({beforeClose:!1})):(_.props.shouldFocusAfterRender&&(v.setupScopedFocus(_.node),v.markForFocusLater()),_.setState({isOpen:!0},function(){_.openAnimationFrame=requestAnimationFrame(function(){_.setState({afterOpen:!0}),_.props.isOpen&&_.props.onAfterOpen&&_.props.onAfterOpen({overlayEl:_.overlay,contentEl:_.content})})}))},_.close=function(){_.props.closeTimeoutMS>0?_.closeWithTimeout():_.closeWithoutTimeout()},_.focusContent=function(){return _.content&&!_.contentHasFocus()&&_.content.focus({preventScroll:!0})},_.closeWithTimeout=function(){var Q=Date.now()+_.props.closeTimeoutMS;_.setState({beforeClose:!0,closesAt:Q},function(){_.closeTimer=setTimeout(_.closeWithoutTimeout,_.state.closesAt-Date.now())})},_.closeWithoutTimeout=function(){_.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},_.afterClose)},_.handleKeyDown=function(Q){M(Q)&&(0,E.default)(_.content,Q),_.props.shouldCloseOnEsc&&P(Q)&&(Q.stopPropagation(),_.requestClose(Q))},_.handleOverlayOnClick=function(Q){_.shouldClose===null&&(_.shouldClose=!0),_.shouldClose&&_.props.shouldCloseOnOverlayClick&&(_.ownerHandlesClose()?_.requestClose(Q):_.focusContent()),_.shouldClose=null},_.handleContentOnMouseUp=function(){_.shouldClose=!1},_.handleOverlayOnMouseDown=function(Q){!_.props.shouldCloseOnOverlayClick&&Q.target==_.overlay&&Q.preventDefault()},_.handleContentOnClick=function(){_.shouldClose=!1},_.handleContentOnMouseDown=function(){_.shouldClose=!1},_.requestClose=function(Q){return _.ownerHandlesClose()&&_.props.onRequestClose(Q)},_.ownerHandlesClose=function(){return _.props.onRequestClose},_.shouldBeClosed=function(){return!_.state.isOpen&&!_.state.beforeClose},_.contentHasFocus=function(){return document.activeElement===_.content||_.content.contains(document.activeElement)},_.buildClassName=function(Q,F){var w=(typeof F>"u"?"undefined":s(F))==="object"?F:{base:A[Q],afterOpen:A[Q]+"--after-open",beforeClose:A[Q]+"--before-close"},k=w.base;return _.state.afterOpen&&(k=k+" "+w.afterOpen),_.state.beforeClose&&(k=k+" "+w.beforeClose),typeof F=="string"&&F?k+" "+F:k},_.attributesFromObject=function(Q,F){return Object.keys(F).reduce(function(w,k){return w[Q+"-"+k]=F[k],w},{})},_.state={afterOpen:!1,beforeClose:!1},_.shouldClose=null,_.moveFromContentToOverlay=null,_}return a(G,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(_,Q){this.props.isOpen&&!_.isOpen?this.open():!this.props.isOpen&&_.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Q.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var _=this.props,Q=_.appElement,F=_.ariaHideApp,w=_.htmlOpenClassName,k=_.bodyOpenClassName,K=_.parentSelector,ie=K&&K().ownerDocument||document;k&&D.add(ie.body,k),w&&D.add(ie.getElementsByTagName("html")[0],w),F&&(U+=1,x.hide(Q)),$.default.register(this)}},{key:"render",value:function(){var _=this.props,Q=_.id,F=_.className,w=_.overlayClassName,k=_.defaultStyles,K=_.children,ie=F?{}:k.content,ee=w?{}:k.overlay;if(this.shouldBeClosed())return null;var te={ref:this.setOverlayRef,className:this.buildClassName("overlay",w),style:i({},ee,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ae=i({id:Q,ref:this.setContentRef,style:i({},ie,this.props.style.content),className:this.buildClassName("content",F),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",i({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ge=this.props.contentElement(ae,K);return this.props.overlayElement(te,ge)}}]),G}(u.Component);H.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},H.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(V.default),d.default.instanceOf(Y.SafeHTMLCollection),d.default.instanceOf(Y.SafeNodeList),d.default.arrayOf(d.default.instanceOf(V.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},e.default=H,n.exports=e.default}(mh,mh.exports)),mh.exports}function pT(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function mT(n){function e(i){var s=this.constructor.getDerivedStateFromProps(n,i);return s??null}this.setState(e.bind(this))}function gT(n,e){try{var i=this.props,s=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,s)}finally{this.props=i,this.state=s}}pT.__suppressDeprecationWarning=!0;mT.__suppressDeprecationWarning=!0;gT.__suppressDeprecationWarning=!0;function DD(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var i=null,s=null,a=null;if(typeof e.componentWillMount=="function"?i="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),i!==null||s!==null||a!==null){var u=n.displayName||n.name,h=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+h+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(s!==null?`
  `+s:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=pT,e.componentWillReceiveProps=mT),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=gT;var d=e.componentDidUpdate;e.componentDidUpdate=function(v,b,E){var S=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;d.call(this,v,b,S)}}return n}const ND=Object.freeze(Object.defineProperty({__proto__:null,polyfill:DD},Symbol.toStringTag,{value:"Module"})),UD=a1(ND);var jw;function zD(){if(jw)return oo;jw=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.bodyOpenClassName=oo.portalClassName=void 0;var n=Object.assign||function(P){for(var U=1;U<arguments.length;U++){var H=arguments[U];for(var N in H)Object.prototype.hasOwnProperty.call(H,N)&&(P[N]=H[N])}return P},e=function(){function P(U,H){for(var N=0;N<H.length;N++){var G=H[N];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(U,G.key,G)}}return function(U,H,N){return H&&P(U.prototype,H),N&&P(U,N),U}}(),i=Ii(),s=Y(i),a=Ug(),u=Y(a),h=cT(),d=Y(h),g=PD(),v=Y(g),b=hT(),E=D(b),S=$_(),x=Y(S),R=UD;function D(P){if(P&&P.__esModule)return P;var U={};if(P!=null)for(var H in P)Object.prototype.hasOwnProperty.call(P,H)&&(U[H]=P[H]);return U.default=P,U}function Y(P){return P&&P.__esModule?P:{default:P}}function V(P,U){if(!(P instanceof U))throw new TypeError("Cannot call a class as a function")}function J(P,U){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:P}function $(P,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);P.prototype=Object.create(U&&U.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(P,U):P.__proto__=U)}var ne=oo.portalClassName="ReactModalPortal",W=oo.bodyOpenClassName="ReactModal__Body--open",z=S.canUseDOM&&u.default.createPortal!==void 0,X=function(U){return document.createElement(U)},B=function(){return z?u.default.createPortal:u.default.unstable_renderSubtreeIntoContainer};function A(P){return P()}var M=function(P){$(U,P);function U(){var H,N,G,O;V(this,U);for(var _=arguments.length,Q=Array(_),F=0;F<_;F++)Q[F]=arguments[F];return O=(N=(G=J(this,(H=U.__proto__||Object.getPrototypeOf(U)).call.apply(H,[this].concat(Q))),G),G.removePortal=function(){!z&&u.default.unmountComponentAtNode(G.node);var w=A(G.props.parentSelector);w&&w.contains(G.node)?w.removeChild(G.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},G.portalRef=function(w){G.portal=w},G.renderPortal=function(w){var k=B(),K=k(G,s.default.createElement(v.default,n({defaultStyles:U.defaultStyles},w)),G.node);G.portalRef(K)},N),J(G,O)}return e(U,[{key:"componentDidMount",value:function(){if(S.canUseDOM){z||(this.node=X("div")),this.node.className=this.props.portalClassName;var N=A(this.props.parentSelector);N.appendChild(this.node),!z&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(N){var G=A(N.parentSelector),O=A(this.props.parentSelector);return{prevParent:G,nextParent:O}}},{key:"componentDidUpdate",value:function(N,G,O){if(S.canUseDOM){var _=this.props,Q=_.isOpen,F=_.portalClassName;N.portalClassName!==F&&(this.node.className=F);var w=O.prevParent,k=O.nextParent;k!==w&&(w.removeChild(this.node),k.appendChild(this.node)),!(!N.isOpen&&!Q)&&!z&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!S.canUseDOM||!this.node||!this.portal)){var N=this.portal.state,G=Date.now(),O=N.isOpen&&this.props.closeTimeoutMS&&(N.closesAt||G+this.props.closeTimeoutMS);O?(N.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,O-G)):this.removePortal()}}},{key:"render",value:function(){if(!S.canUseDOM||!z)return null;!this.node&&z&&(this.node=X("div"));var N=B();return N(s.default.createElement(v.default,n({ref:this.portalRef,defaultStyles:U.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(N){E.setElement(N)}}]),U}(i.Component);return M.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(x.default),d.default.instanceOf(S.SafeHTMLCollection),d.default.instanceOf(S.SafeNodeList),d.default.arrayOf(d.default.instanceOf(x.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},M.defaultProps={isOpen:!1,portalClassName:ne,bodyOpenClassName:W,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(U,H){return s.default.createElement("div",U,H)},contentElement:function(U,H){return s.default.createElement("div",U,H)}},M.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,R.polyfill)(M),oo.default=M,oo}var Bw;function jD(){return Bw||(Bw=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var i=zD(),s=a(i);function a(u){return u&&u.__esModule?u:{default:u}}e.default=s.default,n.exports=e.default}(ph,ph.exports)),ph.exports}var BD=jD();const Od=Ng(BD);function _T(n,e){const i=oe.useRef(e);oe.useEffect(function(){e!==i.current&&n.attributionControl!=null&&(i.current!=null&&n.attributionControl.removeAttribution(i.current),e!=null&&n.attributionControl.addAttribution(e)),i.current=e},[n,e])}const HD=1;function FD(n){return Object.freeze({__version:HD,map:n})}function qD(n,e){return Object.freeze({...n,...e})}const J_=oe.createContext(null);function vT(){const n=oe.use(J_);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function WD(n){function e(i,s){const{instance:a,context:u}=n(i).current;oe.useImperativeHandle(s,()=>a);const{children:h}=i;return h==null?null:cg.createElement(J_,{value:u},h)}return oe.forwardRef(e)}function VD(n){function e(i,s){const[a,u]=oe.useState(!1),{instance:h}=n(i,u).current;oe.useImperativeHandle(s,()=>h),oe.useEffect(function(){a&&h.update()},[h,a,i.children]);const d=h._contentNode;return d?SO.createPortal(i.children,d):null}return oe.forwardRef(e)}function ZD(n){function e(i,s){const{instance:a}=n(i).current;return oe.useImperativeHandle(s,()=>a),null}return oe.forwardRef(e)}function yT(n,e){const i=oe.useRef(void 0);oe.useEffect(function(){return e!=null&&n.instance.on(e),i.current=e,function(){i.current!=null&&n.instance.off(i.current),i.current=null}},[n,e])}function ev(n,e){const i=n.pane??e.pane;return i?{...n,pane:i}:n}function GD(n,e){return function(s,a){const u=vT(),h=n(ev(s,u),u);return _T(u.map,s.attribution),yT(h.current,s.eventHandlers),e(h.current,u,s,a),h}}var nc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var YD=nc.exports,Hw;function KD(){return Hw||(Hw=1,function(n,e){(function(i,s){s(e)})(YD,function(i){var s="1.9.4";function a(o){var c,p,T,C;for(p=1,T=arguments.length;p<T;p++){C=arguments[p];for(c in C)o[c]=C[c]}return o}var u=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function h(o,c){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var T=p.call(arguments,2);return function(){return o.apply(c,T.length?T.concat(p.call(arguments)):arguments)}}var d=0;function g(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function v(o,c,p){var T,C,q,re;return re=function(){T=!1,C&&(q.apply(p,C),C=!1)},q=function(){T?C=arguments:(o.apply(p,arguments),setTimeout(re,c),T=!0)},q}function b(o,c,p){var T=c[1],C=c[0],q=T-C;return o===T&&p?o:((o-C)%q+q)%q+C}function E(){return!1}function S(o,c){if(c===!1)return o;var p=Math.pow(10,c===void 0?6:c);return Math.round(o*p)/p}function x(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function R(o){return x(o).split(/\s+/)}function D(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var p in c)o.options[p]=c[p];return o.options}function Y(o,c,p){var T=[];for(var C in o)T.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function J(o,c){return o.replace(V,function(p,T){var C=c[T];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(c)),C})}var $=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ne(o,c){for(var p=0;p<o.length;p++)if(o[p]===c)return p;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var X=0;function B(o){var c=+new Date,p=Math.max(0,16-(c-X));return X=c+p,window.setTimeout(o,p)}var A=window.requestAnimationFrame||z("RequestAnimationFrame")||B,M=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function P(o,c,p){if(p&&A===B)o.call(c);else return A.call(window,h(o,c))}function U(o){o&&M.call(window,o)}var H={__proto__:null,extend:a,create:u,bind:h,get lastId(){return d},stamp:g,throttle:v,wrapNum:b,falseFn:E,formatNum:S,trim:x,splitWords:R,setOptions:D,getParamString:Y,template:J,isArray:$,indexOf:ne,emptyImageUrl:W,requestFn:A,cancelFn:M,requestAnimFrame:P,cancelAnimFrame:U};function N(){}N.extend=function(o){var c=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,T=u(p);T.constructor=c,c.prototype=T;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return o.statics&&a(c,o.statics),o.includes&&(G(o.includes),a.apply(null,[T].concat(o.includes))),a(T,o),delete T.statics,delete T.includes,T.options&&(T.options=p.options?u(p.options):{},a(T.options,o.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var q=0,re=T._initHooks.length;q<re;q++)T._initHooks[q].call(this)}},c},N.include=function(o){var c=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},N.mergeOptions=function(o){return a(this.prototype.options,o),this},N.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function G(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=$(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var O={on:function(o,c,p){if(typeof o=="object")for(var T in o)this._on(T,o[T],c);else{o=R(o);for(var C=0,q=o.length;C<q;C++)this._on(o[C],c,p)}return this},off:function(o,c,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var T in o)this._off(T,o[T],c);else{o=R(o);for(var C=arguments.length===1,q=0,re=o.length;q<re;q++)C?this._off(o[q]):this._off(o[q],c,p)}return this},_on:function(o,c,p,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,p)===!1){p===this&&(p=void 0);var C={fn:c,ctx:p};T&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,c,p){var T,C,q;if(this._events&&(T=this._events[o],!!T)){if(arguments.length===1){if(this._firingCount)for(C=0,q=T.length;C<q;C++)T[C].fn=E;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var re=this._listens(o,c,p);if(re!==!1){var ce=T[re];this._firingCount&&(ce.fn=E,this._events[o]=T=T.slice()),T.splice(re,1)}}},fire:function(o,c,p){if(!this.listens(o,p))return this;var T=a({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var q=0,re=C.length;q<re;q++){var ce=C[q],me=ce.fn;ce.once&&this.off(o,me,ce.ctx),me.call(ce.ctx||this,T)}this._firingCount--}}return p&&this._propagateEvent(T),this},listens:function(o,c,p,T){typeof o!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(T=!!c,C=void 0,p=void 0);var q=this._events&&this._events[o];if(q&&q.length&&this._listens(o,C,p)!==!1)return!0;if(T){for(var re in this._eventParents)if(this._eventParents[re].listens(o,c,p,T))return!0}return!1},_listens:function(o,c,p){if(!this._events)return!1;var T=this._events[o]||[];if(!c)return!!T.length;p===this&&(p=void 0);for(var C=0,q=T.length;C<q;C++)if(T[C].fn===c&&T[C].ctx===p)return C;return!1},once:function(o,c,p){if(typeof o=="object")for(var T in o)this._on(T,o[T],c,!0);else{o=R(o);for(var C=0,q=o.length;C<q;C++)this._on(o[C],c,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[g(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[g(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var _=N.extend(O);function Q(o,c,p){this.x=p?Math.round(o):o,this.y=p?Math.round(c):c}var F=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(o){return this.clone()._add(w(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(w(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Q(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Q(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=F(this.x),this.y=F(this.y),this},distanceTo:function(o){o=w(o);var c=o.x-this.x,p=o.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(o){return o=w(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=w(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function w(o,c,p){return o instanceof Q?o:$(o)?new Q(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Q(o.x,o.y):new Q(o,c,p)}function k(o,c){if(o)for(var p=c?[o,c]:o,T=0,C=p.length;T<C;T++)this.extend(p[T])}k.prototype={extend:function(o){var c,p;if(!o)return this;if(o instanceof Q||typeof o[0]=="number"||"x"in o)c=p=w(o);else if(o=K(o),c=o.min,p=o.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return w((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return w(this.min.x,this.max.y)},getTopRight:function(){return w(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,p;return typeof o[0]=="number"||o instanceof Q?o=w(o):o=K(o),o instanceof k?(c=o.min,p=o.max):c=p=o,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=K(o);var c=this.min,p=this.max,T=o.min,C=o.max,q=C.x>=c.x&&T.x<=p.x,re=C.y>=c.y&&T.y<=p.y;return q&&re},overlaps:function(o){o=K(o);var c=this.min,p=this.max,T=o.min,C=o.max,q=C.x>c.x&&T.x<p.x,re=C.y>c.y&&T.y<p.y;return q&&re},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,p=this.max,T=Math.abs(c.x-p.x)*o,C=Math.abs(c.y-p.y)*o;return K(w(c.x-T,c.y-C),w(p.x+T,p.y+C))},equals:function(o){return o?(o=K(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function K(o,c){return!o||o instanceof k?o:new k(o,c)}function ie(o,c){if(o)for(var p=c?[o,c]:o,T=0,C=p.length;T<C;T++)this.extend(p[T])}ie.prototype={extend:function(o){var c=this._southWest,p=this._northEast,T,C;if(o instanceof te)T=o,C=o;else if(o instanceof ie){if(T=o._southWest,C=o._northEast,!T||!C)return this}else return o?this.extend(ae(o)||ee(o)):this;return!c&&!p?(this._southWest=new te(T.lat,T.lng),this._northEast=new te(C.lat,C.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(o){var c=this._southWest,p=this._northEast,T=Math.abs(c.lat-p.lat)*o,C=Math.abs(c.lng-p.lng)*o;return new ie(new te(c.lat-T,c.lng-C),new te(p.lat+T,p.lng+C))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof te||"lat"in o?o=ae(o):o=ee(o);var c=this._southWest,p=this._northEast,T,C;return o instanceof ie?(T=o.getSouthWest(),C=o.getNorthEast()):T=C=o,T.lat>=c.lat&&C.lat<=p.lat&&T.lng>=c.lng&&C.lng<=p.lng},intersects:function(o){o=ee(o);var c=this._southWest,p=this._northEast,T=o.getSouthWest(),C=o.getNorthEast(),q=C.lat>=c.lat&&T.lat<=p.lat,re=C.lng>=c.lng&&T.lng<=p.lng;return q&&re},overlaps:function(o){o=ee(o);var c=this._southWest,p=this._northEast,T=o.getSouthWest(),C=o.getNorthEast(),q=C.lat>c.lat&&T.lat<p.lat,re=C.lng>c.lng&&T.lng<p.lng;return q&&re},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=ee(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(o,c){return o instanceof ie?o:new ie(o,c)}function te(o,c,p){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,p!==void 0&&(this.alt=+p)}te.prototype={equals:function(o,c){if(!o)return!1;o=ae(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+S(this.lat,o)+", "+S(this.lng,o)+")"},distanceTo:function(o){return we.distance(this,ae(o))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,p=c/Math.cos(Math.PI/180*this.lat);return ee([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function ae(o,c,p){return o instanceof te?o:$(o)&&typeof o[0]!="object"?o.length===3?new te(o[0],o[1],o[2]):o.length===2?new te(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new te(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new te(o,c,p)}var ge={latLngToPoint:function(o,c){var p=this.projection.project(o),T=this.scale(c);return this.transformation._transform(p,T)},pointToLatLng:function(o,c){var p=this.scale(c),T=this.transformation.untransform(o,p);return this.projection.unproject(T)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(o),T=this.transformation.transform(c.min,p),C=this.transformation.transform(c.max,p);return new k(T,C)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?b(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?b(o.lat,this.wrapLat,!0):o.lat,T=o.alt;return new te(p,c,T)},wrapLatLngBounds:function(o){var c=o.getCenter(),p=this.wrapLatLng(c),T=c.lat-p.lat,C=c.lng-p.lng;if(T===0&&C===0)return o;var q=o.getSouthWest(),re=o.getNorthEast(),ce=new te(q.lat-T,q.lng-C),me=new te(re.lat-T,re.lng-C);return new ie(ce,me)}},we=a({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var p=Math.PI/180,T=o.lat*p,C=c.lat*p,q=Math.sin((c.lat-o.lat)*p/2),re=Math.sin((c.lng-o.lng)*p/2),ce=q*q+Math.cos(T)*Math.cos(C)*re*re,me=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*me}}),Ee=6378137,Oe={R:Ee,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,p=this.MAX_LATITUDE,T=Math.max(Math.min(p,o.lat),-p),C=Math.sin(T*c);return new Q(this.R*o.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var c=180/Math.PI;return new te((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=Ee*Math.PI;return new k([-o,-o],[o,o])}()};function Le(o,c,p,T){if($(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=p,this._d=T}Le.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new Q((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Ie(o,c,p,T){return new Le(o,c,p,T)}var Fe=a({},we,{code:"EPSG:3857",projection:Oe,transformation:function(){var o=.5/(Math.PI*Oe.R);return Ie(o,.5,-o,.5)}()}),Ne=a({},Fe,{code:"EPSG:900913"});function ke(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ye(o,c){var p="",T,C,q,re,ce,me;for(T=0,q=o.length;T<q;T++){for(ce=o[T],C=0,re=ce.length;C<re;C++)me=ce[C],p+=(C?"L":"M")+me.x+" "+me.y;p+=c?Pe.svg?"z":"x":""}return p||"M0 0"}var Te=document.documentElement.style,Ue="ActiveXObject"in window,Ke=Ue&&!document.addEventListener,Qe="msLaunchUri"in navigator&&!("documentMode"in document),Ze=Wn("webkit"),Et=Wn("android"),dt=Wn("android 2")||Wn("android 3"),ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dt=Et&&Wn("Google")&&ut<537&&!("AudioNode"in window),Kt=!!window.opera,pt=!Qe&&Wn("chrome"),ot=Wn("gecko")&&!Ze&&!Kt&&!Ue,Nt=!pt&&Wn("safari"),Xt=Wn("phantom"),Cn="OTransition"in Te,On=navigator.platform.indexOf("Win")===0,gn=Ue&&"transition"in Te,en="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!dt,an="MozPerspective"in Te,er=!window.L_DISABLE_3D&&(gn||en||an)&&!Cn&&!Xt,Jn=typeof orientation<"u"||Wn("mobile"),Co=Jn&&Ze,Oo=Jn&&en,Pi=!window.PointerEvent&&window.MSPointerEvent,ds=!!(window.PointerEvent||Pi),_n="ontouchstart"in window||!!window.TouchEvent,mi=!window.L_NO_TOUCH&&(_n||ds),Di=Jn&&Kt,tr=Jn&&ot,ps=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ei=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,c),window.removeEventListener("testPassiveEventSupport",E,c)}catch{}return o}(),gi=function(){return!!document.createElement("canvas").getContext}(),Hl=!!(document.createElementNS&&ke("svg").createSVGRect),nr=!!Hl&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ln=!Hl&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Rn=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function Wn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Pe={ie:Ue,ielt9:Ke,edge:Qe,webkit:Ze,android:Et,android23:dt,androidStock:Dt,opera:Kt,chrome:pt,gecko:ot,safari:Nt,phantom:Xt,opera12:Cn,win:On,ie3d:gn,webkit3d:en,gecko3d:an,any3d:er,mobile:Jn,mobileWebkit:Co,mobileWebkit3d:Oo,msPointer:Pi,pointer:ds,touch:mi,touchNative:_n,mobileOpera:Di,mobileGecko:tr,retina:ps,passiveEvents:ei,canvas:gi,svg:Hl,vml:ln,inlineSvg:nr,mac:Rn,linux:ms},Bc=Pe.msPointer?"MSPointerDown":"pointerdown",Fl=Pe.msPointer?"MSPointerMove":"pointermove",gs=Pe.msPointer?"MSPointerUp":"pointerup",Ea=Pe.msPointer?"MSPointerCancel":"pointercancel",ir={touchstart:Bc,touchmove:Fl,touchend:gs,touchcancel:Ea},Er={touchstart:qc,touchmove:Ro,touchend:Ro,touchcancel:Ro},_i={},Tr=!1;function Qt(o,c,p){return c==="touchstart"&&Ld(),Er[c]?(p=Er[c].bind(this,p),o.addEventListener(ir[c],p,!1),p):(console.warn("wrong event specified:",c),E)}function Hc(o,c,p){if(!ir[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(ir[c],p,!1)}function Fc(o){_i[o.pointerId]=o}function xr(o){_i[o.pointerId]&&(_i[o.pointerId]=o)}function Cr(o){delete _i[o.pointerId]}function Ld(){Tr||(document.addEventListener(Bc,Fc,!0),document.addEventListener(Fl,xr,!0),document.addEventListener(gs,Cr,!0),document.addEventListener(Ea,Cr,!0),Tr=!0)}function Ro(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in _i)c.touches.push(_i[p]);c.changedTouches=[c],o(c)}}function qc(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Bt(c),Ro(o,c)}function Id(o){var c={},p,T;for(T in o)p=o[T],c[T]=p&&p.bind?p.bind(o):p;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Ta=200;function xa(o,c){o.addEventListener("dblclick",c);var p=0,T;function C(q){if(q.detail!==1){T=q.detail;return}if(!(q.pointerType==="mouse"||q.sourceCapabilities&&!q.sourceCapabilities.firesTouchEvents)){var re=Vl(q);if(!(re.some(function(me){return me instanceof HTMLLabelElement&&me.attributes.for})&&!re.some(function(me){return me instanceof HTMLInputElement||me instanceof HTMLSelectElement}))){var ce=Date.now();ce-p<=Ta?(T++,T===2&&c(Id(q))):T=1,p=ce}}}return o.addEventListener("click",C),{dblclick:c,simDblclick:C}}function Ni(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Ao=bs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_s=bs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Or=_s==="webkitTransition"||_s==="OTransition"?_s+"End":"transitionend";function Ca(o){return typeof o=="string"?document.getElementById(o):o}function Rr(o,c){var p=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(o,null);p=T?T[c]:null}return p==="auto"?null:p}function at(o,c,p){var T=document.createElement(o);return T.className=c||"",p&&p.appendChild(T),T}function Tt(o){var c=o.parentNode;c&&c.removeChild(o)}function vn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ar(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function vs(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function ys(o,c){if(o.classList!==void 0)return o.classList.contains(c);var p=yn(o);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Ge(o,c){if(o.classList!==void 0)for(var p=R(c),T=0,C=p.length;T<C;T++)o.classList.add(p[T]);else if(!ys(o,c)){var q=yn(o);ql(o,(q?q+" ":"")+c)}}function xt(o,c){o.classList!==void 0?o.classList.remove(c):ql(o,x((" "+yn(o)+" ").replace(" "+c+" "," ")))}function ql(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function yn(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function An(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&Wc(o,c)}function Wc(o,c){var p=!1,T="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):o.style.filter+=" progid:"+T+"(opacity="+c+")"}function bs(o){for(var c=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in c)return o[p];return!1}function Vn(o,c,p){var T=c||new Q(0,0);o.style[Ao]=(Pe.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(p?" scale("+p+")":"")}function Ut(o,c){o._leaflet_pos=c,Pe.any3d?Vn(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function rr(o){return o._leaflet_pos||new Q(0,0)}var vi,Mo,Oa;if("onselectstart"in document)vi=function(){Ve(window,"selectstart",Bt)},Mo=function(){ct(window,"selectstart",Bt)};else{var ws=bs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vi=function(){if(ws){var o=document.documentElement.style;Oa=o[ws],o[ws]="none"}},Mo=function(){ws&&(document.documentElement.style[ws]=Oa,Oa=void 0)}}function Lo(){Ve(window,"dragstart",Bt)}function Wl(){ct(window,"dragstart",Bt)}var Ra,Ss;function Io(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Es(),Ra=o,Ss=o.style.outlineStyle,o.style.outlineStyle="none",Ve(window,"keydown",Es))}function Es(){Ra&&(Ra.style.outlineStyle=Ss,Ra=void 0,Ss=void 0,ct(window,"keydown",Es))}function Mr(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function sr(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var Vc={__proto__:null,TRANSFORM:Ao,TRANSITION:_s,TRANSITION_END:Or,get:Ca,getStyle:Rr,create:at,remove:Tt,empty:vn,toFront:Ar,toBack:vs,hasClass:ys,addClass:Ge,removeClass:xt,setClass:ql,getClass:yn,setOpacity:An,testProp:bs,setTransform:Vn,setPosition:Ut,getPosition:rr,get disableTextSelection(){return vi},get enableTextSelection(){return Mo},disableImageDrag:Lo,enableImageDrag:Wl,preventOutline:Io,restoreOutline:Es,getSizedParentNode:Mr,getScale:sr};function Ve(o,c,p,T){if(c&&typeof c=="object")for(var C in c)Lr(o,C,c[C],p);else{c=R(c);for(var q=0,re=c.length;q<re;q++)Lr(o,c[q],p,T)}return this}var ti="_leaflet_events";function ct(o,c,p,T){if(arguments.length===1)yi(o),delete o[ti];else if(c&&typeof c=="object")for(var C in c)bi(o,C,c[C],p);else if(c=R(c),arguments.length===2)yi(o,function(ce){return ne(c,ce)!==-1});else for(var q=0,re=c.length;q<re;q++)bi(o,c[q],p,T);return this}function yi(o,c){for(var p in o[ti]){var T=p.split(/\d/)[0];(!c||c(T))&&bi(o,T,null,null,p)}}var ko={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Lr(o,c,p,T){var C=c+g(p)+(T?"_"+g(T):"");if(o[ti]&&o[ti][C])return this;var q=function(ce){return p.call(T||o,ce||window.event)},re=q;!Pe.touchNative&&Pe.pointer&&c.indexOf("touch")===0?q=Qt(o,c,q):Pe.touch&&c==="dblclick"?q=xa(o,q):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(ko[c]||c,q,Pe.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(q=function(ce){ce=ce||window.event,kr(o,ce)&&re(ce)},o.addEventListener(ko[c],q,!1)):o.addEventListener(c,re,!1):o.attachEvent("on"+c,q),o[ti]=o[ti]||{},o[ti][C]=q}function bi(o,c,p,T,C){C=C||c+g(p)+(T?"_"+g(T):"");var q=o[ti]&&o[ti][C];if(!q)return this;!Pe.touchNative&&Pe.pointer&&c.indexOf("touch")===0?Hc(o,c,q):Pe.touch&&c==="dblclick"?Ni(o,q):"removeEventListener"in o?o.removeEventListener(ko[c]||c,q,!1):o.detachEvent("on"+c,q),o[ti][C]=null}function Ui(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ts(o){return Lr(o,"wheel",Ui),this}function xs(o){return Ve(o,"mousedown touchstart dblclick contextmenu",Ui),o._leaflet_disable_click=!0,this}function Bt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function wi(o){return Bt(o),Ui(o),this}function Vl(o){if(o.composedPath)return o.composedPath();for(var c=[],p=o.target;p;)c.push(p),p=p.parentNode;return c}function bn(o,c){if(!c)return new Q(o.clientX,o.clientY);var p=sr(c),T=p.boundingClientRect;return new Q((o.clientX-T.left)/p.x-c.clientLeft,(o.clientY-T.top)/p.y-c.clientTop)}var Ir=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Po(o){return Pe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ir:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function kr(o,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var kd={__proto__:null,on:Ve,off:ct,stopPropagation:Ui,disableScrollPropagation:Ts,disableClickPropagation:xs,preventDefault:Bt,stop:wi,getPropagationPath:Vl,getMousePosition:bn,getWheelDelta:Po,isExternalTarget:kr,addListener:Ve,removeListener:ct},Aa=_.extend({run:function(o,c,p,T){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=rr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var p=this._startPos.add(this._offset.multiplyBy(o));c&&p._round(),Ut(this._el,p),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Je=_.extend({options:{crs:Fe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=D(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ae(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_s&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ve(this._proxy,Or,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(ae(o),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=a({animate:p.animate},p.zoom),p.pan=a({animate:p.animate,duration:p.duration},p.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,p.zoom):this._tryAnimatedPan(o,p.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,p){var T=this.getZoomScale(c),C=this.getSize().divideBy(2),q=o instanceof Q?o:this.latLngToContainerPoint(o),re=q.subtract(C).multiplyBy(1-1/T),ce=this.containerPointToLatLng(C.add(re));return this.setView(ce,c,{zoom:p})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():ee(o);var p=w(c.paddingTopLeft||c.padding||[0,0]),T=w(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(o,!1,p.add(T));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var q=T.subtract(p).divideBy(2),re=this.project(o.getSouthWest(),C),ce=this.project(o.getNorthEast(),C),me=this.unproject(re.add(ce).divideBy(2).add(q),C);return{center:me,zoom:C}},fitBounds:function(o,c){if(o=ee(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=w(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Aa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ge(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,p){if(p=p||{},p.animate===!1||!Pe.any3d)return this.setView(o,c,p);this._stop();var T=this.project(this.getCenter()),C=this.project(o),q=this.getSize(),re=this._zoom;o=ae(o),c=c===void 0?re:c;var ce=Math.max(q.x,q.y),me=ce*this.getZoomScale(re,c),be=C.distanceTo(T)||1,xe=1.42,Re=xe*xe;function Me(It){var Ti=It?-1:1,Bi=It?me:ce,cr=me*me-ce*ce+Ti*Re*Re*be*be,Hi=2*Bi*Re*be,Go=cr/Hi,Fa=Math.sqrt(Go*Go+1)-Go,Yo=Fa<1e-9?-18:Math.log(Fa);return Yo}function We(It){return(Math.exp(It)-Math.exp(-It))/2}function Ct(It){return(Math.exp(It)+Math.exp(-It))/2}function zt(It){return We(It)/Ct(It)}var cn=Me(0);function Zn(It){return ce*(Ct(cn)/Ct(cn+xe*It))}function ff(It){return ce*(Ct(cn)*zt(cn+xe*It)-We(cn))/Re}function hf(It){return 1-Math.pow(1-It,1.5)}var Zo=Date.now(),Us=(Me(1)-cn)/xe,df=p.duration?1e3*p.duration:1e3*Us*.8;function zs(){var It=(Date.now()-Zo)/df,Ti=hf(It)*Us;It<=1?(this._flyToFrame=P(zs,this),this._move(this.unproject(T.add(C.subtract(T).multiplyBy(ff(Ti)/be)),re),this.getScaleZoom(ce/Zn(Ti),re),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),zs.call(this),this},flyToBounds:function(o,c){var p=this._getBoundsCenterZoom(o,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(o){return o=ee(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var p=this.getCenter(),T=this._limitCenter(p,this._zoom,ee(o));return p.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var p=w(c.paddingTopLeft||c.padding||[0,0]),T=w(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),q=this.project(o),re=this.getPixelBounds(),ce=K([re.min.add(p),re.max.subtract(T)]),me=ce.getSize();if(!ce.contains(q)){this._enforcingBounds=!0;var be=q.subtract(ce.getCenter()),xe=ce.extend(q).getSize().subtract(me);C.x+=be.x<0?-xe.x:xe.x,C.y+=be.y<0?-xe.y:xe.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),T=c.divideBy(2).round(),C=p.divideBy(2).round(),q=T.subtract(C);return!q.x&&!q.y?this:(o.animate&&o.pan?this.panBy(q):(o.pan&&this._rawPanBy(q),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,o):navigator.geolocation.getCurrentPosition(c,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,p=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,p=o.coords.longitude,T=new te(c,p),C=T.toBounds(o.coords.accuracy*2),q=this._locateOptions;if(q.setView){var re=this.getBoundsZoom(C);this.setView(T,q.maxZoom?Math.min(re,q.maxZoom):re)}var ce={latlng:T,bounds:C,timestamp:o.timestamp};for(var me in o.coords)typeof o.coords[me]=="number"&&(ce[me]=o.coords[me]);this.fire("locationfound",ce)}},addHandler:function(o,c){if(!c)return this;var p=this[o]=new c(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Tt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),T=at("div",p,c||this._mapPane);return o&&(this._panes[o]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new ie(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,p){o=ee(o),p=w(p||[0,0]);var T=this.getZoom()||0,C=this.getMinZoom(),q=this.getMaxZoom(),re=o.getNorthWest(),ce=o.getSouthEast(),me=this.getSize().subtract(p),be=K(this.project(ce,T),this.project(re,T)).getSize(),xe=Pe.any3d?this.options.zoomSnap:1,Re=me.x/be.x,Me=me.y/be.y,We=c?Math.max(Re,Me):Math.min(Re,Me);return T=this.getScaleZoom(We,T),xe&&(T=Math.round(T/(xe/100))*(xe/100),T=c?Math.ceil(T/xe)*xe:Math.floor(T/xe)*xe),Math.max(C,Math.min(q,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var p=this._getTopLeftPoint(o,c);return new k(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(o)/p.scale(c)},getScaleZoom:function(o,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var T=p.zoom(o*p.scale(c));return isNaN(T)?1/0:T},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ae(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(w(o),c)},layerPointToLatLng:function(o){var c=w(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(ae(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ae(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ee(o))},distance:function(o,c){return this.options.crs.distance(ae(o),ae(c))},containerPointToLayerPoint:function(o){return w(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return w(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(w(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(o)))},mouseEventToContainerPoint:function(o){return bn(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=Ca(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ve(c,"scroll",this._onScroll,this),this._containerId=g(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,Ge(o,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Rr(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(o.markerPane,"leaflet-zoom-hide"),Ge(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,p){Ut(this._mapPane,new Q(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,p)._move(o,c)._moveEnd(C),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,p,T){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),T?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ut(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[g(this._container)]=this;var c=o?ct:Ve;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var p=[],T,C=c==="mouseout"||c==="mouseover",q=o.target||o.srcElement,re=!1;q;){if(T=this._targets[g(q)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){re=!0;break}if(T&&T.listens(c,!0)&&(C&&!kr(q,o)||(p.push(T),C))||q===this._container)break;q=q.parentNode}return!p.length&&!re&&!C&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var p=o.type;p==="mousedown"&&Io(c),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,p){if(o.type==="click"){var T=a({},o);T.type="preclick",this._fireDOMEvent(T,T.type,p)}var C=this._findEventTargets(o,c);if(p){for(var q=[],re=0;re<p.length;re++)p[re].listens(c,!0)&&q.push(p[re]);C=q.concat(C)}if(C.length){c==="contextmenu"&&Bt(o);var ce=C[0],me={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var be=ce.getLatLng&&(!ce._radius||ce._radius<=10);me.containerPoint=be?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(o),me.layerPoint=this.containerPointToLayerPoint(me.containerPoint),me.latlng=be?ce.getLatLng():this.layerPointToLatLng(me.layerPoint)}for(re=0;re<C.length;re++)if(C[re].fire(c,me,!0),me.originalEvent._stopped||C[re].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return rr(this._mapPane)||new Q(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var p=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var p=this.getSize()._divideBy(2);return this.project(o,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,p){var T=this._getNewPixelOrigin(p,c);return this.project(o,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(o,c,p){var T=this._getNewPixelOrigin(p,c);return K([this.project(o.getSouthWest(),c)._subtract(T),this.project(o.getNorthWest(),c)._subtract(T),this.project(o.getSouthEast(),c)._subtract(T),this.project(o.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,p){if(!p)return o;var T=this.project(o,c),C=this.getSize().divideBy(2),q=new k(T.subtract(C),T.add(C)),re=this._getBoundsOffset(q,p,c);return Math.abs(re.x)<=1&&Math.abs(re.y)<=1?o:this.unproject(T.add(re),c)},_limitOffset:function(o,c){if(!c)return o;var p=this.getPixelBounds(),T=new k(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(o,c,p){var T=K(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),C=T.min.subtract(o.min),q=T.max.subtract(o.max),re=this._rebound(C.x,-q.x),ce=this._rebound(C.y,-q.y);return new Q(re,ce)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),p=this.getMaxZoom(),T=Pe.any3d?this.options.zoomSnap:1;return T&&(o=Math.round(o/T)*T),Math.max(c,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var p=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var o=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var p=Ao,T=this._proxy.style[p];Vn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Vn(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),C=this._getCenterOffset(o)._divideBy(1-1/T);return p.animate!==!0&&!this.getSize().contains(C)?!1:(P(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,p,T){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Do(o,c){return new Je(o,c)}var Mn=N.extend({options:{position:"topright"},initialize:function(o){D(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),p=this.getPosition(),T=o._controlCorners[p];return Ge(c,"leaflet-control"),p.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Cs=function(o){return new Mn(o)};Je.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",p=this._controlContainer=at("div",c+"control-container",this._container);function T(C,q){var re=c+C+" "+c+q;o[C+q]=at("div",re,p)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Tt(this._controlCorners[o]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zc=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,p,T){return p<T?-1:T<p?1:0}},initialize:function(o,c,p){D(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in o)this._addLayer(o[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(g(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=at("div",o),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),xs(c),Ts(c);var T=this._section=at("section",o+"-list");p&&(this._map.on("click",this.collapse,this),Ve(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=at("a",o+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),Ve(C,{keydown:function(q){q.keyCode===13&&this._expandSafely()},click:function(q){Bt(q),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=at("div",o+"-base",T),this._separator=at("div",o+"-separator",T),this._overlaysList=at("div",o+"-overlays",T),c.appendChild(T)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&g(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(T,C){return this.options.sortFunction(T.layer,C.layer,T.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vn(this._baseLayersList),vn(this._overlaysList),this._layerControlInputs=[];var o,c,p,T,C=0;for(p=0;p<this._layers.length;p++)T=this._layers[p],this._addItem(T),c=c||T.overlay,o=o||!T.overlay,C+=T.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(g(o.target)),p=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(o,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=p,T.firstChild},_addItem:function(o){var c=document.createElement("label"),p=this._map.hasLayer(o.layer),T;o.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=p):T=this._createRadioElement("leaflet-base-layers_"+g(this),p),this._layerControlInputs.push(T),T.layerId=g(o.layer),Ve(T,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var q=document.createElement("span");c.appendChild(q),q.appendChild(T),q.appendChild(C);var re=o.overlay?this._overlaysList:this._baseLayersList;return re.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,p,T=[],C=[];this._handlingClick=!0;for(var q=o.length-1;q>=0;q--)c=o[q],p=this._getLayer(c.layerId).layer,c.checked?T.push(p):c.checked||C.push(p);for(q=0;q<C.length;q++)this._map.hasLayer(C[q])&&this._map.removeLayer(C[q]);for(q=0;q<T.length;q++)this._map.hasLayer(T[q])||this._map.addLayer(T[q]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,p,T=this._map.getZoom(),C=o.length-1;C>=0;C--)c=o[C],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&T<p.options.minZoom||p.options.maxZoom!==void 0&&T>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ve(o,"click",Bt),this.expand();var c=this;setTimeout(function(){ct(o,"click",Bt),c._preventClick=!1})}}),Pd=function(o,c,p){return new Zc(o,c,p)},Zl=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",p=at("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,p,T,C){var q=at("a",p,T);return q.innerHTML=o,q.href="#",q.title=c,q.setAttribute("role","button"),q.setAttribute("aria-label",c),xs(q),Ve(q,"click",wi),Ve(q,"click",C,this),Ve(q,"click",this._refocusOnMap,this),q},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";xt(this._zoomInButton,c),xt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ge(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ge(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zl,this.addControl(this.zoomControl))});var Gl=function(o){return new Zl(o)},Gc=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",p=at("div",c),T=this.options;return this._addScales(T,c+"-line",p),o.on(T.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,p){o.metric&&(this._mScale=at("div",c,p)),o.imperial&&(this._iScale=at("div",c,p))},_update:function(){var o=this._map,c=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/o)},_updateImperial:function(o){var c=o*3.2808399,p,T,C;c>5280?(p=c/5280,T=this._getRoundNum(p),this._updateScale(this._iScale,T+" mi",T/p)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(o,c,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),p=o/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Dd=function(o){return new Gc(o)},Nd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yl=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?Nd+" ":"")+"Leaflet</a>"},initialize:function(o){D(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=at("div","leaflet-control-attribution"),xs(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook(function(){this.options.attributionControl&&new Yl().addTo(this)});var Ud=function(o){return new Yl(o)};Mn.Layers=Zc,Mn.Zoom=Zl,Mn.Scale=Gc,Mn.Attribution=Yl,Cs.layers=Pd,Cs.zoom=Gl,Cs.scale=Dd,Cs.attribution=Ud;var ni=N.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(o,c){return o.addHandler(c,this),this};var zd={Events:O},Yc=Pe.touch?"touchstart mousedown":"mousedown",or=_.extend({options:{clickTolerance:3},initialize:function(o,c,p,T){D(this,T),this._element=o,this._dragStartTarget=c||o,this._preventOutline=p},enable:function(){this._enabled||(Ve(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(or._dragging===this&&this.finishDrag(!0),ct(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ys(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){or._dragging===this&&this.finishDrag();return}if(!(or._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(or._dragging=this,this._preventOutline&&Io(this._element),Lo(),vi(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,p=Mr(this._element);this._startPoint=new Q(c.clientX,c.clientY),this._startPos=rr(this._element),this._parentScale=sr(p);var T=o.type==="mousedown";Ve(document,T?"mousemove":"touchmove",this._onMove,this),Ve(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,p=new Q(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Bt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ge(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ut(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ct(document,"mousemove touchmove",this._onMove,this),ct(document,"mouseup touchend touchcancel",this._onUp,this),Wl(),Mo();var c=this._moved&&this._moving;this._moving=!1,or._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Kc(o,c,p){var T,C=[1,4,2,8],q,re,ce,me,be,xe,Re,Me;for(q=0,xe=o.length;q<xe;q++)o[q]._code=Pr(o[q],c);for(ce=0;ce<4;ce++){for(Re=C[ce],T=[],q=0,xe=o.length,re=xe-1;q<xe;re=q++)me=o[q],be=o[re],me._code&Re?be._code&Re||(Me=La(be,me,Re,c,p),Me._code=Pr(Me,c),T.push(Me)):(be._code&Re&&(Me=La(be,me,Re,c,p),Me._code=Pr(Me,c),T.push(Me)),T.push(me));o=T}return o}function Ma(o,c){var p,T,C,q,re,ce,me,be,xe;if(!o||o.length===0)throw new Error("latlngs not passed");un(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Re=ae([0,0]),Me=ee(o),We=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());We<1700&&(Re=Kl(o));var Ct=o.length,zt=[];for(p=0;p<Ct;p++){var cn=ae(o[p]);zt.push(c.project(ae([cn.lat-Re.lat,cn.lng-Re.lng])))}for(ce=me=be=0,p=0,T=Ct-1;p<Ct;T=p++)C=zt[p],q=zt[T],re=C.y*q.x-q.y*C.x,me+=(C.x+q.x)*re,be+=(C.y+q.y)*re,ce+=re*3;ce===0?xe=zt[0]:xe=[me/ce,be/ce];var Zn=c.unproject(w(xe));return ae([Zn.lat+Re.lat,Zn.lng+Re.lng])}function Kl(o){for(var c=0,p=0,T=0,C=0;C<o.length;C++){var q=ae(o[C]);c+=q.lat,p+=q.lng,T++}return ae([c/T,p/T])}var jd={__proto__:null,clipPolygon:Kc,polygonCenter:Ma,centroid:Kl};function Xc(o,c){if(!c||!o.length)return o.slice();var p=c*c;return o=Fd(o,p),o=Hd(o,p),o}function Xl(o,c,p){return Math.sqrt(Dr(o,c,p,!0))}function Bd(o,c,p){return Dr(o,c,p)}function Hd(o,c){var p=o.length,T=typeof Uint8Array<"u"?Uint8Array:Array,C=new T(p);C[0]=C[p-1]=1,Ql(o,C,c,0,p-1);var q,re=[];for(q=0;q<p;q++)C[q]&&re.push(o[q]);return re}function Ql(o,c,p,T,C){var q=0,re,ce,me;for(ce=T+1;ce<=C-1;ce++)me=Dr(o[ce],o[T],o[C],!0),me>q&&(re=ce,q=me);q>p&&(c[re]=1,Ql(o,c,p,T,re),Ql(o,c,p,re,C))}function Fd(o,c){for(var p=[o[0]],T=1,C=0,q=o.length;T<q;T++)qd(o[T],o[C])>c&&(p.push(o[T]),C=T);return C<q-1&&p.push(o[q-1]),p}var Qc;function $c(o,c,p,T,C){var q=T?Qc:Pr(o,p),re=Pr(c,p),ce,me,be;for(Qc=re;;){if(!(q|re))return[o,c];if(q&re)return!1;ce=q||re,me=La(o,c,ce,p,C),be=Pr(me,p),ce===q?(o=me,q=be):(c=me,re=be)}}function La(o,c,p,T,C){var q=c.x-o.x,re=c.y-o.y,ce=T.min,me=T.max,be,xe;return p&8?(be=o.x+q*(me.y-o.y)/re,xe=me.y):p&4?(be=o.x+q*(ce.y-o.y)/re,xe=ce.y):p&2?(be=me.x,xe=o.y+re*(me.x-o.x)/q):p&1&&(be=ce.x,xe=o.y+re*(ce.x-o.x)/q),new Q(be,xe,C)}function Pr(o,c){var p=0;return o.x<c.min.x?p|=1:o.x>c.max.x&&(p|=2),o.y<c.min.y?p|=4:o.y>c.max.y&&(p|=8),p}function qd(o,c){var p=c.x-o.x,T=c.y-o.y;return p*p+T*T}function Dr(o,c,p,T){var C=c.x,q=c.y,re=p.x-C,ce=p.y-q,me=re*re+ce*ce,be;return me>0&&(be=((o.x-C)*re+(o.y-q)*ce)/me,be>1?(C=p.x,q=p.y):be>0&&(C+=re*be,q+=ce*be)),re=o.x-C,ce=o.y-q,T?re*re+ce*ce:new Q(C,q)}function un(o){return!$(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Jc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),un(o)}function $l(o,c){var p,T,C,q,re,ce,me,be;if(!o||o.length===0)throw new Error("latlngs not passed");un(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var xe=ae([0,0]),Re=ee(o),Me=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Me<1700&&(xe=Kl(o));var We=o.length,Ct=[];for(p=0;p<We;p++){var zt=ae(o[p]);Ct.push(c.project(ae([zt.lat-xe.lat,zt.lng-xe.lng])))}for(p=0,T=0;p<We-1;p++)T+=Ct[p].distanceTo(Ct[p+1])/2;if(T===0)be=Ct[0];else for(p=0,q=0;p<We-1;p++)if(re=Ct[p],ce=Ct[p+1],C=re.distanceTo(ce),q+=C,q>T){me=(q-T)/C,be=[ce.x-me*(ce.x-re.x),ce.y-me*(ce.y-re.y)];break}var cn=c.unproject(w(be));return ae([cn.lat+xe.lat,cn.lng+xe.lng])}var ef={__proto__:null,simplify:Xc,pointToSegmentDistance:Xl,closestPointOnSegment:Bd,clipSegment:$c,_getEdgeIntersection:La,_getBitCode:Pr,_sqClosestPointOnSegment:Dr,isFlat:un,_flat:Jc,polylineCenter:$l},Ia={project:function(o){return new Q(o.lng,o.lat)},unproject:function(o){return new te(o.y,o.x)},bounds:new k([-180,-90],[180,90])},ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,p=this.R,T=o.lat*c,C=this.R_MINOR/p,q=Math.sqrt(1-C*C),re=q*Math.sin(T),ce=Math.tan(Math.PI/4-T/2)/Math.pow((1-re)/(1+re),q/2);return T=-p*Math.log(Math.max(ce,1e-10)),new Q(o.lng*c*p,T)},unproject:function(o){for(var c=180/Math.PI,p=this.R,T=this.R_MINOR/p,C=Math.sqrt(1-T*T),q=Math.exp(-o.y/p),re=Math.PI/2-2*Math.atan(q),ce=0,me=.1,be;ce<15&&Math.abs(me)>1e-7;ce++)be=C*Math.sin(re),be=Math.pow((1-be)/(1+be),C/2),me=Math.PI/2-2*Math.atan(q*be)-re,re+=me;return new te(re*c,o.x*c/p)}},tf={__proto__:null,LonLat:Ia,Mercator:ka,SphericalMercator:Oe},Os=a({},we,{code:"EPSG:3395",projection:ka,transformation:function(){var o=.5/(Math.PI*ka.R);return Ie(o,.5,-o,.5)}()}),nf=a({},we,{code:"EPSG:4326",projection:Ia,transformation:Ie(1/180,1,-1/180,.5)}),Wd=a({},ge,{projection:Ia,transformation:Ie(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var p=c.lng-o.lng,T=c.lat-o.lat;return Math.sqrt(p*p+T*T)},infinite:!0});ge.Earth=we,ge.EPSG3395=Os,ge.EPSG3857=Fe,ge.EPSG900913=Ne,ge.EPSG4326=nf,ge.Simple=Wd;var ii=_.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[g(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[g(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=g(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=g(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return g(o)in this._layers},eachLayer:function(o,c){for(var p in this._layers)o.call(c,this._layers[p]);return this},_addLayers:function(o){o=o?$(o)?o:[o]:[];for(var c=0,p=o.length;c<p;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[g(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=g(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,p=this._getZoomSpan();for(var T in this._zoomBoundLayers){var C=this._zoomBoundLayers[T].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Nr=ii.extend({initialize:function(o,c){D(this,c),this._layers={};var p,T;if(o)for(p=0,T=o.length;p<T;p++)this.addLayer(o[p])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),p,T;for(p in this._layers)T=this._layers[p],T[o]&&T[o].apply(T,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var p in this._layers)o.call(c,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return g(o)}}),rf=function(o,c){return new Nr(o,c)},Pn=Nr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Nr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Nr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ie;for(var c in this._layers){var p=this._layers[c];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),No=function(o,c){return new Pn(o,c)},Rs=N.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){D(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(o,c){var p=this.options,T=p[c+"Size"];typeof T=="number"&&(T=[T,T]);var C=w(T),q=w(c==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(p.className||""),q&&(o.style.marginLeft=-q.x+"px",o.style.marginTop=-q.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Pe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Pa(o){return new Rs(o)}var As=Rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof As.imagePath!="string"&&(As.imagePath=this._detectIconPath()),(this.options.imagePath||As.imagePath)+Rs.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(p,T,C){var q=T.exec(p);return q&&q[C]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=at("div","leaflet-default-icon-path",document.body),c=Rr(o,"background-image")||Rr(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Jl=ni.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new or(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,p=c._map,T=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,q=rr(c._icon),re=p.getPixelBounds(),ce=p.getPixelOrigin(),me=K(re.min._subtract(ce).add(C),re.max._subtract(ce).subtract(C));if(!me.contains(q)){var be=w((Math.max(me.max.x,q.x)-me.max.x)/(re.max.x-me.max.x)-(Math.min(me.min.x,q.x)-me.min.x)/(re.min.x-me.min.x),(Math.max(me.max.y,q.y)-me.max.y)/(re.max.y-me.max.y)-(Math.min(me.min.y,q.y)-me.min.y)/(re.min.y-me.min.y)).multiplyBy(T);p.panBy(be,{animate:!1}),this._draggable._newPos._add(be),this._draggable._startPos._add(be),Ut(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=P(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,p=c._shadow,T=rr(c._icon),C=c._map.layerPointToLatLng(T);p&&Ut(p,T),c._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ms=ii.extend({options:{icon:new As,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){D(this,c),this._latlng=ae(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=ae(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),T=!1;p!==this._icon&&(this._icon&&this._removeIcon(),T=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),Ge(p,c),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(p,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),q=!1;C!==this._shadow&&(this._removeShadow(),q=!0),C&&(Ge(C,c),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&q&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ut(this._icon,o),this._shadow&&Ut(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&An(this._icon,o),this._shadow&&An(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,p=c.iconSize?w(c.iconSize):w(0,0),T=c.iconAnchor?w(c.iconAnchor):w(0,0);o.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:p.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function eu(o,c){return new Ms(o,c)}var zi=ii.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return D(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Uo=zi.extend({options:{fill:!0,radius:10},initialize:function(o,c){D(this,c),this._latlng=ae(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=ae(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return zi.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,p=this._clickTolerance(),T=[o+p,c+p];this._pxBounds=new k(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sf(o,c){return new Uo(o,c)}var tu=Uo.extend({initialize:function(o,c,p){if(typeof c=="number"&&(c=a({},p,{radius:c})),D(this,c),this._latlng=ae(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:zi.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,p=this._map,T=p.options.crs;if(T.distance===we.distance){var C=Math.PI/180,q=this._mRadius/we.R/C,re=p.project([c+q,o]),ce=p.project([c-q,o]),me=re.add(ce).divideBy(2),be=p.unproject(me).lat,xe=Math.acos((Math.cos(q*C)-Math.sin(c*C)*Math.sin(be*C))/(Math.cos(c*C)*Math.cos(be*C)))/C;(isNaN(xe)||xe===0)&&(xe=q/Math.cos(Math.PI/180*c)),this._point=me.subtract(p.getPixelOrigin()),this._radius=isNaN(xe)?0:me.x-p.project([be,o-xe]).x,this._radiusY=me.y-re.y}else{var Re=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Re).x}this._updateBounds()}});function Vd(o,c,p){return new tu(o,c,p)}var ji=zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){D(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,p=null,T=Dr,C,q,re=0,ce=this._parts.length;re<ce;re++)for(var me=this._parts[re],be=1,xe=me.length;be<xe;be++){C=me[be-1],q=me[be];var Re=T(o,C,q,!0);Re<c&&(c=Re,p=T(o,C,q))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $l(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=ae(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ie,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return un(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],p=un(o),T=0,C=o.length;T<C;T++)p?(c[T]=ae(o[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(o[T]);return c},_project:function(){var o=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new Q(o,o);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,p){var T=o[0]instanceof te,C=o.length,q,re;if(T){for(re=[],q=0;q<C;q++)re[q]=this._map.latLngToLayerPoint(o[q]),p.extend(re[q]);c.push(re)}else for(q=0;q<C;q++)this._projectLatlngs(o[q],c,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,T,C,q,re,ce,me;for(p=0,C=0,q=this._rings.length;p<q;p++)for(me=this._rings[p],T=0,re=me.length;T<re-1;T++)ce=$c(me[T],me[T+1],o,T,!0),ce&&(c[C]=c[C]||[],c[C].push(ce[0]),(ce[1]!==me[T+1]||T===re-2)&&(c[C].push(ce[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,p=0,T=o.length;p<T;p++)o[p]=Xc(o[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var p,T,C,q,re,ce,me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,q=this._parts.length;p<q;p++)for(ce=this._parts[p],T=0,re=ce.length,C=re-1;T<re;C=T++)if(!(!c&&T===0)&&Xl(o,ce[C],ce[T])<=me)return!0;return!1}});function Zd(o,c){return new ji(o,c)}ji._flat=Jc;var Ls=ji.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ma(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ji.prototype._convertLatLngs.call(this,o),p=c.length;return p>=2&&c[0]instanceof te&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(o){ji.prototype._setLatLngs.call(this,o),un(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return un(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,p=new Q(c,c);if(o=new k(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,C=this._rings.length,q;T<C;T++)q=Kc(this._rings[T],o,!0),q.length&&this._parts.push(q)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,p,T,C,q,re,ce,me,be;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(q=0,me=this._parts.length;q<me;q++)for(p=this._parts[q],re=0,be=p.length,ce=be-1;re<be;ce=re++)T=p[re],C=p[ce],T.y>o.y!=C.y>o.y&&o.x<(C.x-T.x)*(o.y-T.y)/(C.y-T.y)+T.x&&(c=!c);return c||ji.prototype._containsPoint.call(this,o,!0)}});function Dn(o,c){return new Ls(o,c)}var Nn=Pn.extend({initialize:function(o,c){D(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=$(o)?o:o.features,p,T,C;if(c){for(p=0,T=c.length;p<T;p++)C=c[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var q=this.options;if(q.filter&&!q.filter(o))return this;var re=zo(o,q);return re?(re.feature=Is(o),re.defaultOptions=re.options,this.resetStyle(re),q.onEachFeature&&q.onEachFeature(o,re),this.addLayer(re)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function zo(o,c){var p=o.type==="Feature"?o.geometry:o,T=p?p.coordinates:null,C=[],q=c&&c.pointToLayer,re=c&&c.coordsToLatLng||Da,ce,me,be,xe;if(!T&&!p)return null;switch(p.type){case"Point":return ce=re(T),nu(q,o,ce,c);case"MultiPoint":for(be=0,xe=T.length;be<xe;be++)ce=re(T[be]),C.push(nu(q,o,ce,c));return new Pn(C);case"LineString":case"MultiLineString":return me=jo(T,p.type==="LineString"?0:1,re),new ji(me,c);case"Polygon":case"MultiPolygon":return me=jo(T,p.type==="Polygon"?1:2,re),new Ls(me,c);case"GeometryCollection":for(be=0,xe=p.geometries.length;be<xe;be++){var Re=zo({geometry:p.geometries[be],type:"Feature",properties:o.properties},c);Re&&C.push(Re)}return new Pn(C);case"FeatureCollection":for(be=0,xe=p.features.length;be<xe;be++){var Me=zo(p.features[be],c);Me&&C.push(Me)}return new Pn(C);default:throw new Error("Invalid GeoJSON object.")}}function nu(o,c,p,T){return o?o(c,p):new Ms(p,T&&T.markersInheritOptions&&T)}function Da(o){return new te(o[1],o[0],o[2])}function jo(o,c,p){for(var T=[],C=0,q=o.length,re;C<q;C++)re=c?jo(o[C],c-1,p):(p||Da)(o[C]),T.push(re);return T}function Bo(o,c){return o=ae(o),o.alt!==void 0?[S(o.lng,c),S(o.lat,c),S(o.alt,c)]:[S(o.lng,c),S(o.lat,c)]}function Na(o,c,p,T){for(var C=[],q=0,re=o.length;q<re;q++)C.push(c?Na(o[q],un(o[q])?0:c-1,p,T):Bo(o[q],T));return!c&&p&&C.length>0&&C.push(C[0].slice()),C}function ri(o,c){return o.feature?a({},o.feature,{geometry:c}):Is(c)}function Is(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ur={toGeoJSON:function(o){return ri(this,{type:"Point",coordinates:Bo(this.getLatLng(),o)})}};Ms.include(Ur),tu.include(Ur),Uo.include(Ur),ji.include({toGeoJSON:function(o){var c=!un(this._latlngs),p=Na(this._latlngs,c?1:0,!1,o);return ri(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Ls.include({toGeoJSON:function(o){var c=!un(this._latlngs),p=c&&!un(this._latlngs[0]),T=Na(this._latlngs,p?2:c?1:0,!0,o);return c||(T=[T]),ri(this,{type:(p?"Multi":"")+"Polygon",coordinates:T})}}),Nr.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(o).geometry.coordinates)}),ri(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var p=c==="GeometryCollection",T=[];return this.eachLayer(function(C){if(C.toGeoJSON){var q=C.toGeoJSON(o);if(p)T.push(q.geometry);else{var re=Is(q);re.type==="FeatureCollection"?T.push.apply(T,re.features):T.push(re)}}}),p?ri(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Ua(o,c){return new Nn(o,c)}var of=Ua,Si=ii.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,p){this._url=o,this._bounds=ee(c),D(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ar(this._image),this},bringToBack:function(){return this._map&&vs(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ee(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:at("img");if(Ge(c,"leaflet-image-layer"),this._zoomAnimated&&Ge(c,"leaflet-zoom-animated"),this.options.className&&Ge(c,this.options.className),c.onselectstart=E,c.onmousemove=E,c.onload=h(this.fire,this,"load"),c.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Vn(this._image,p,c)},_reset:function(){var o=this._image,c=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ut(o,c.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){An(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),ks=function(o,c,p){return new Si(o,c,p)},za=Si.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:at("video");if(Ge(c,"leaflet-image-layer"),this._zoomAnimated&&Ge(c,"leaflet-zoom-animated"),this.options.className&&Ge(c,this.options.className),c.onselectstart=E,c.onmousemove=E,c.onloadeddata=h(this.fire,this,"load"),o){for(var p=c.getElementsByTagName("source"),T=[],C=0;C<p.length;C++)T.push(p[C].src);this._url=p.length>0?T:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var q=0;q<this._url.length;q++){var re=at("source");re.src=this._url[q],c.appendChild(re)}}});function af(o,c,p){return new za(o,c,p)}var ar=Si.extend({_initImage:function(){var o=this._image=this._url;Ge(o,"leaflet-image-layer"),this._zoomAnimated&&Ge(o,"leaflet-zoom-animated"),this.options.className&&Ge(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function lf(o,c,p){return new ar(o,c,p)}var si=ii.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof te||$(o))?(this._latlng=ae(o),D(this,c)):(D(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&An(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&An(this._container,1),this.bringToFront(),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(An(this._container,0),this._removeTimeout=setTimeout(h(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ae(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ar(this._container),this},bringToBack:function(){return this._map&&vs(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Pn){c=null;var p=this._source._layers;for(var T in p)if(p[T]._map){c=p[T];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=w(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ut(this._container,o.add(p)):c=c.add(o).add(p);var T=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(o,c,p,T){var C=c;return C instanceof o||(C=new o(T).setContent(c)),p&&C.setLatLng(p),C}}),ii.include({_initOverlay:function(o,c,p,T){var C=p;return C instanceof o?(D(C,T),C._source=this):(C=c&&!T?c:new o(T,this),C.setContent(p)),C}});var Ho=si.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,si.prototype.openOn.call(this,o)},onAdd:function(o){si.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zi||this._source.on("preclick",Ui))},onRemove:function(o){si.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zi||this._source.off("preclick",Ui))},getEvents:function(){var o=si.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=at("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=at("div",o+"-content-wrapper",c);if(this._contentNode=at("div",o+"-content",p),xs(c),Ts(this._contentNode),Ve(c,"contextmenu",Ui),this._tipContainer=at("div",o+"-tip-container",c),this._tip=at("div",o+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=at("a",o+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Ve(T,"click",function(C){Bt(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var T=o.offsetHeight,C=this.options.maxHeight,q="leaflet-popup-scrolled";C&&T>C?(c.height=C+"px",Ge(o,q)):xt(o,q),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();Ut(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Rr(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,T=this._containerWidth,C=new Q(this._containerLeft,-p-this._containerBottom);C._add(rr(this._container));var q=o.layerPointToContainerPoint(C),re=w(this.options.autoPanPadding),ce=w(this.options.autoPanPaddingTopLeft||re),me=w(this.options.autoPanPaddingBottomRight||re),be=o.getSize(),xe=0,Re=0;q.x+T+me.x>be.x&&(xe=q.x+T-be.x+me.x),q.x-xe-ce.x<0&&(xe=q.x-ce.x),q.y+p+me.y>be.y&&(Re=q.y+p-be.y+me.y),q.y-Re-ce.y<0&&(Re=q.y-ce.y),(xe||Re)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([xe,Re]))}},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gd=function(o,c){return new Ho(o,c)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(o,c,p){return this._initOverlay(Ho,o,c,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ii.include({bindPopup:function(o,c){return this._popup=this._initOverlay(Ho,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Pn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){wi(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ja=si.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){si.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){si.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=si.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,p,T=this._map,C=this._container,q=T.latLngToContainerPoint(T.getCenter()),re=T.layerPointToContainerPoint(o),ce=this.options.direction,me=C.offsetWidth,be=C.offsetHeight,xe=w(this.options.offset),Re=this._getAnchor();ce==="top"?(c=me/2,p=be):ce==="bottom"?(c=me/2,p=0):ce==="center"?(c=me/2,p=be/2):ce==="right"?(c=0,p=be/2):ce==="left"?(c=me,p=be/2):re.x<q.x?(ce="right",c=0,p=be/2):(ce="left",c=me+(xe.x+Re.x)*2,p=be/2),o=o.subtract(w(c,p,!0)).add(xe).add(Re),xt(C,"leaflet-tooltip-right"),xt(C,"leaflet-tooltip-left"),xt(C,"leaflet-tooltip-top"),xt(C,"leaflet-tooltip-bottom"),Ge(C,"leaflet-tooltip-"+ce),Ut(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&An(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Yd=function(o,c){return new ja(o,c)};Je.include({openTooltip:function(o,c,p){return this._initOverlay(ja,o,c,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ii.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ja,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Pn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(Ve(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ve(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,p,T;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),T=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var iu=Rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(vn(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var T=w(p.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function uf(o){return new iu(o)}Rs.Default=As;var zr=ii.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){D(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Tt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Q?o:new Q(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,p=-o(-1/0,1/0),T=0,C=c.length,q;T<C;T++)q=c[T].style.zIndex,c[T]!==this._container&&q&&(p=o(p,+q));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){An(this._container,this.options.opacity);var o=+new Date,c=!1,p=!1;for(var T in this._tiles){var C=this._tiles[T];if(!(!C.current||!C.loaded)){var q=Math.min(1,(o-C.loaded)/200);An(C.el,q),q<1?c=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=c-Math.abs(o-p),this._onUpdateLevel(p)):(Tt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var T=this._levels[o],C=this._map;return T||(T=this._levels[o]={},T.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),T.zoom=o,this._setZoomTransform(T,C.getCenter(),C.getZoom()),E(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Tt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,p,T){var C=Math.floor(o/2),q=Math.floor(c/2),re=p-1,ce=new Q(+C,+q);ce.z=+re;var me=this._tileCoordsToKey(ce),be=this._tiles[me];return be&&be.active?(be.retain=!0,!0):(be&&be.loaded&&(be.retain=!0),re>T?this._retainParent(C,q,re,T):!1)},_retainChildren:function(o,c,p,T){for(var C=2*o;C<2*o+2;C++)for(var q=2*c;q<2*c+2;q++){var re=new Q(C,q);re.z=p+1;var ce=this._tileCoordsToKey(re),me=this._tiles[ce];if(me&&me.active){me.retain=!0;continue}else me&&me.loaded&&(me.retain=!0);p+1<T&&this._retainChildren(C,q,p+1,T)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,p,T){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var q=this.options.updateWhenZooming&&C!==this._tileZoom;(!T||q)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,c)},_setZoomTransform:function(o,c,p){var T=this._map.getZoomScale(p,o.zoom),C=o.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,p)).round();Pe.any3d?Vn(o.el,C,T):Ut(o.el,C)},_resetGrid:function(){var o=this._map,c=o.options.crs,p=this._tileSize=this.getTileSize(),T=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],T).x/p.x),Math.ceil(o.project([0,c.wrapLng[1]],T).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],T).y/p.x),Math.ceil(o.project([c.wrapLat[1],0],T).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(p,this._tileZoom),C=c.project(o,this._tileZoom).floor(),q=c.getSize().divideBy(T*2);return new k(C.subtract(q),C.add(q))},_update:function(o){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(T),q=C.getCenter(),re=[],ce=this.options.keepBuffer,me=new k(C.getBottomLeft().subtract([ce,-ce]),C.getTopRight().add([ce,-ce]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var be in this._tiles){var xe=this._tiles[be].coords;(xe.z!==this._tileZoom||!me.contains(new Q(xe.x,xe.y)))&&(this._tiles[be].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var Re=C.min.y;Re<=C.max.y;Re++)for(var Me=C.min.x;Me<=C.max.x;Me++){var We=new Q(Me,Re);if(We.z=this._tileZoom,!!this._isValidTile(We)){var Ct=this._tiles[this._tileCoordsToKey(We)];Ct?Ct.current=!0:re.push(We)}}if(re.sort(function(cn,Zn){return cn.distanceTo(q)-Zn.distanceTo(q)}),re.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zt=document.createDocumentFragment();for(Me=0;Me<re.length;Me++)this._addTile(re[Me],zt);this._level.el.appendChild(zt)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!c.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(o);return ee(this.options.bounds).overlaps(T)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,p=this.getTileSize(),T=o.scaleBy(p),C=T.add(p),q=c.unproject(T,o.z),re=c.unproject(C,o.z);return[q,re]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),p=new ie(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),p=new Q(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(o){var c=this._tiles[o];c&&(Tt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ge(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=E,o.onmousemove=E,Pe.ielt9&&this.options.opacity<1&&An(o,this.options.opacity)},_addTile:function(o,c){var p=this._getTilePos(o),T=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),h(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&P(h(this._tileReady,this,o,null,C)),Ut(C,p),this._tiles[T]={el:C,coords:o,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:o});var T=this._tileCoordsToKey(o);p=this._tiles[T],p&&(p.loaded=+new Date,this._map._fadeAnimated?(An(p.el,0),U(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Ge(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new Q(this._wrapX?b(o.x,this._wrapX):o.x,this._wrapY?b(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new k(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function oi(o){return new zr(o)}var jr=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=D(this,c),c.detectRetina&&Pe.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var p=document.createElement("img");return Ve(p,"load",h(this._tileOnLoad,this,c,p)),Ve(p,"error",h(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var c={r:Pe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=p),c["-y"]=p}return J(this._url,a(c,this.options))},_tileOnLoad:function(o,c){Pe.ielt9?setTimeout(h(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,p){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),o(p,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,T=this.options.zoomOffset;return p&&(o=c-o),o+T},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=E,c.onerror=E,!c.complete)){c.src=W;var p=this._tiles[o].coords;Tt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",W),zr.prototype._removeTile.call(this,o)},_tileReady:function(o,c,p){if(!(!this._map||p&&p.getAttribute("src")===W))return zr.prototype._tileReady.call(this,o,c,p)}});function Un(o,c){return new jr(o,c)}var zn=jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var p=a({},this.defaultWmsParams);for(var T in c)T in this.options||(p[T]=c[T]);c=D(this,c);var C=c.detectRetina&&Pe.retina?2:1,q=this.getTileSize();p.width=q.x*C,p.height=q.y*C,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,jr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),p=this._crs,T=K(p.project(c[0]),p.project(c[1])),C=T.min,q=T.max,re=(this._wmsVersion>=1.3&&this._crs===nf?[C.y,C.x,q.y,q.x]:[C.x,C.y,q.x,q.y]).join(","),ce=jr.prototype.getTileUrl.call(this,o);return ce+Y(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+re},setParams:function(o,c){return a(this.wmsParams,o),c||this.redraw(),this}});function Ps(o,c){return new zn(o,c)}jr.WMS=zn,Un.wms=Ps;var ai=ii.extend({options:{padding:.1},initialize:function(o){D(this,o),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var p=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),q=T.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(o,c));Pe.any3d?Vn(this._container,q,p):Ut(this._container,q)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new k(p,p.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fo=ai.extend({options:{tolerance:0},getEvents:function(){var o=ai.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ve(o,"mousemove",this._onMouseMove,this),Ve(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ve(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Tt(this._container),ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var o=this._bounds,c=this._container,p=o.getSize(),T=Pe.retina?2:1;Ut(c,o.min),c.width=T*p.x,c.height=T*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[g(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,p=c.next,T=c.prev;p?p.prev=T:this._drawLast=T,T?T.next=p:this._drawFirst=p,delete o._order,delete this._layers[g(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),p=[],T,C;for(C=0;C<c.length;C++){if(T=Number(c[C]),isNaN(T))return;p.push(T)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)o=T.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var p,T,C,q,re=o._parts,ce=re.length,me=this._ctx;if(ce){for(me.beginPath(),p=0;p<ce;p++){for(T=0,C=re[p].length;T<C;T++)q=re[p][T],me[T?"lineTo":"moveTo"](q.x,q.y);c&&me.closePath()}this._fillStroke(me,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,p=this._ctx,T=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||T)/T;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(c.x,c.y/C,T,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,c){var p=c.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),p,T,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(T=p);this._fireEvent(T?[T]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(xt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var p,T,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(T=p);T!==this._hoveredLayer&&(this._handleMouseOut(o),T&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([T],o,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,p){this._map._fireDOMEvent(c,p||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var p=c.next,T=c.prev;if(p)p.prev=T;else return;T?T.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var p=c.next,T=c.prev;if(T)T.next=p;else return;p?p.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function qo(o){return Pe.canvas?new Fo(o):null}var Br=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ds={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Br("shape");Ge(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Br("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;Tt(c),o.removeInteractiveTarget(c),delete this._layers[g(o)]},_updateStyle:function(o){var c=o._stroke,p=o._fill,T=o.options,C=o._container;C.stroked=!!T.stroke,C.filled=!!T.fill,T.stroke?(c||(c=o._stroke=Br("stroke")),C.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=$(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(C.removeChild(c),o._stroke=null),T.fill?(p||(p=o._fill=Br("fill")),C.appendChild(p),p.color=T.fillColor||T.color,p.opacity=T.fillOpacity):p&&(C.removeChild(p),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),p=Math.round(o._radius),T=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+T+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){Ar(o._container)},_bringToBack:function(o){vs(o._container)}},Wo=Pe.vml?Br:ke,lr=ai.extend({_initContainer:function(){this._container=Wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var o=this._bounds,c=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ut(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Wo("path");o.options.className&&Ge(c,o.options.className),o.options.interactive&&Ge(c,"leaflet-interactive"),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Tt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[g(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,p=o.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,Ye(o._parts,c))},_updateCircle:function(o){var c=o._point,p=Math.max(Math.round(o._radius),1),T=Math.max(Math.round(o._radiusY),1)||p,C="a"+p+","+T+" 0 1,0 ",q=o._empty()?"M0 0":"M"+(c.x-p)+","+c.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(o,q)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){Ar(o._path)},_bringToBack:function(o){vs(o._path)}});Pe.vml&&lr.include(Ds);function Hr(o){return Pe.svg||Pe.vml?new lr(o):null}Je.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&qo(o)||Hr(o)}});var cf=Ls.extend({initialize:function(o,c){Ls.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ee(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function jn(o,c){return new cf(o,c)}lr.create=Wo,lr.pointsToPath=Ye,Nn.geometryToLayer=zo,Nn.coordsToLatLng=Da,Nn.coordsToLatLngs=jo,Nn.latLngToCoords=Bo,Nn.latLngsToCoords=Na,Nn.getFeature=ri,Nn.asFeature=Is,Je.mergeOptions({boxZoom:!0});var Ba=ni.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vi(),Lo(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ve(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new k(this._point,this._startPoint),p=c.getSize();Ut(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Tt(this._box),xt(this._container,"leaflet-crosshair")),Mo(),Wl(),ct(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var c=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",Ba),Je.mergeOptions({doubleClickZoom:!0});var Ei=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,p=c.getZoom(),T=c.options.zoomDelta,C=o.originalEvent.shiftKey?p-T:p+T;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(o.containerPoint,C)}});Je.addInitHook("addHandler","doubleClickZoom",Ei),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ru=ni.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new or(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ee(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),p=this._initialWorldOffset,T=this._draggable._newPos.x,C=(T-c+p)%o+c-p,q=(T+c+p)%o-c-p,re=Math.abs(C+p)<Math.abs(q+p)?C:q;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=re},_onDragEnd:function(o){var c=this._map,p=c.options,T=!p.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),T)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),q=(this._lastTime-this._times[0])/1e3,re=p.easeLinearity,ce=C.multiplyBy(re/q),me=ce.distanceTo([0,0]),be=Math.min(p.inertiaMaxSpeed,me),xe=ce.multiplyBy(be/me),Re=be/(p.inertiaDeceleration*re),Me=xe.multiplyBy(-Re/2).round();!Me.x&&!Me.y?c.fire("moveend"):(Me=c._limitOffset(Me,c.options.maxBounds),P(function(){c.panBy(Me,{duration:Re,easeLinearity:re,noMoveStart:!0,animate:!0})}))}}});Je.addInitHook("addHandler","dragging",ru),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vo=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ve(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,p=o.scrollTop||c.scrollTop,T=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},p=this.keyCodes,T,C;for(T=0,C=p.left.length;T<C;T++)c[p.left[T]]=[-1*o,0];for(T=0,C=p.right.length;T<C;T++)c[p.right[T]]=[o,0];for(T=0,C=p.down.length;T<C;T++)c[p.down[T]]=[0,o];for(T=0,C=p.up.length;T<C;T++)c[p.up[T]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},p=this.keyCodes,T,C;for(T=0,C=p.zoomIn.length;T<C;T++)c[p.zoomIn[T]]=o;for(T=0,C=p.zoomOut.length;T<C;T++)c[p.zoomOut[T]]=-o},_addHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,p=this._map,T;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(T=this._panKeys[c],o.shiftKey&&(T=w(T).multiplyBy(3)),p.options.maxBounds&&(T=p._limitOffset(w(T),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(T)));p.panTo(C)}else p.panBy(T)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;wi(o)}}});Je.addInitHook("addHandler","keyboard",Vo),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ur=ni.extend({addHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Po(o),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var T=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),T),wi(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,q=p?Math.ceil(C/p)*p:C,re=o._limitZoom(c+(this._delta>0?q:-q))-c;this._delta=0,this._startTime=null,re&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+re):o.setZoomAround(this._lastMousePos,c+re))}});Je.addInitHook("addHandler","scrollWheelZoom",ur);var su=600;Je.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var Ha=ni.extend({addHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new Q(c.clientX,c.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Ve(document,"touchend",Bt),Ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),su),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ct(document,"touchend",Bt),ct(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new Q(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Je.addInitHook("addHandler","tapHold",Ha),Je.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Fr=ni.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(o.touches[0]),T=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(T)._divideBy(2))),this._startDist=p.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),Bt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(o.touches[0]),T=c.mouseEventToContainerPoint(o.touches[1]),C=p.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var q=p._add(T)._divideBy(2)._subtract(this._centerPoint);if(C===1&&q.x===0&&q.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(q),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var re=h(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(re,this,!0),Bt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Je.addInitHook("addHandler","touchZoom",Fr),Je.BoxZoom=Ba,Je.DoubleClickZoom=Ei,Je.Drag=ru,Je.Keyboard=Vo,Je.ScrollWheelZoom=ur,Je.TapHold=Ha,Je.TouchZoom=Fr,i.Bounds=k,i.Browser=Pe,i.CRS=ge,i.Canvas=Fo,i.Circle=tu,i.CircleMarker=Uo,i.Class=N,i.Control=Mn,i.DivIcon=iu,i.DivOverlay=si,i.DomEvent=kd,i.DomUtil=Vc,i.Draggable=or,i.Evented=_,i.FeatureGroup=Pn,i.GeoJSON=Nn,i.GridLayer=zr,i.Handler=ni,i.Icon=Rs,i.ImageOverlay=Si,i.LatLng=te,i.LatLngBounds=ie,i.Layer=ii,i.LayerGroup=Nr,i.LineUtil=ef,i.Map=Je,i.Marker=Ms,i.Mixin=zd,i.Path=zi,i.Point=Q,i.PolyUtil=jd,i.Polygon=Ls,i.Polyline=ji,i.Popup=Ho,i.PosAnimation=Aa,i.Projection=tf,i.Rectangle=cf,i.Renderer=ai,i.SVG=lr,i.SVGOverlay=ar,i.TileLayer=jr,i.Tooltip=ja,i.Transformation=Le,i.Util=H,i.VideoOverlay=za,i.bind=h,i.bounds=K,i.canvas=qo,i.circle=Vd,i.circleMarker=sf,i.control=Cs,i.divIcon=uf,i.extend=a,i.featureGroup=No,i.geoJSON=Ua,i.geoJson=of,i.gridLayer=oi,i.icon=Pa,i.imageOverlay=ks,i.latLng=ae,i.latLngBounds=ee,i.layerGroup=rf,i.map=Do,i.marker=eu,i.point=w,i.polygon=Dn,i.polyline=Zd,i.popup=Gd,i.rectangle=jn,i.setOptions=D,i.stamp=g,i.svg=Hr,i.svgOverlay=lf,i.tileLayer=Un,i.tooltip=Yd,i.transformation=Ie,i.version=s,i.videoOverlay=af;var Ns=window.L;i.noConflict=function(){return window.L=Ns,this},window.L=i})}(nc,nc.exports)),nc.exports}var Rd=KD();function tv(n,e,i){return Object.freeze({instance:n,context:e,container:i})}function nv(n,e){return e==null?function(s,a){const u=oe.useRef(void 0);return u.current||(u.current=n(s,a)),u}:function(s,a){const u=oe.useRef(void 0);u.current||(u.current=n(s,a));const h=oe.useRef(s),{instance:d}=u.current;return oe.useEffect(function(){h.current!==s&&(e(d,s,h.current),h.current=s)},[d,s,e]),u}}function XD(n,e){oe.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var u;(u=e.layerContainer)==null||u.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function bT(n){return function(i){const s=vT(),a=n(ev(i,s),s);return _T(s.map,i.attribution),yT(a.current,i.eventHandlers),XD(a.current,s),a}}function QD(n,e){const i=nv(n,e),s=bT(i);return WD(s)}function $D(n,e){const i=nv(n),s=GD(i,e);return VD(s)}function JD(n,e){const i=nv(n,e),s=bT(i);return ZD(s)}function eN(n,e,i){const{opacity:s,zIndex:a}=e;s!=null&&s!==i.opacity&&n.setOpacity(s),a!=null&&a!==i.zIndex&&n.setZIndex(a)}function tN({bounds:n,boundsOptions:e,center:i,children:s,className:a,id:u,placeholder:h,style:d,whenReady:g,zoom:v,...b},E){const[S]=oe.useState({className:a,id:u,style:d}),[x,R]=oe.useState(null),D=oe.useRef(void 0);oe.useImperativeHandle(E,()=>(x==null?void 0:x.map)??null,[x]);const Y=oe.useCallback(J=>{if(J!==null&&!D.current){const $=new Rd.Map(J,b);D.current=$,i!=null&&v!=null?$.setView(i,v):n!=null&&$.fitBounds(n,e),g!=null&&$.whenReady(g),R(FD($))}},[]);oe.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const V=x?cg.createElement(J_,{value:x},s):h??null;return cg.createElement("div",{...S,ref:Y},V)}const nN=oe.forwardRef(tN),iN=QD(function({position:e,...i},s){const a=new Rd.Marker(e,i);return tv(a,qD(s,{overlayContainer:a}))},function(e,i,s){i.position!==s.position&&e.setLatLng(i.position),i.icon!=null&&i.icon!==s.icon&&e.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==s.opacity&&e.setOpacity(i.opacity),e.dragging!=null&&i.draggable!==s.draggable&&(i.draggable===!0?e.dragging.enable():e.dragging.disable())}),rN=$D(function(e,i){const s=new Rd.Popup(e,i.overlayContainer);return tv(s,i)},function(e,i,{position:s},a){oe.useEffect(function(){const{instance:h}=e;function d(v){v.popup===h&&(h.update(),a(!0))}function g(v){v.popup===h&&a(!1)}return i.map.on({popupopen:d,popupclose:g}),i.overlayContainer==null?(s!=null&&h.setLatLng(s),h.openOn(i.map)):i.overlayContainer.bindPopup(h),function(){var b;i.map.off({popupopen:d,popupclose:g}),(b=i.overlayContainer)==null||b.unbindPopup(),i.map.removeLayer(h)}},[e,i,a,s])}),sN=JD(function({url:e,...i},s){const a=new Rd.TileLayer(e,ev(i,s));return tv(a,s)},function(e,i,s){eN(e,i,s);const{url:a}=i;a!=null&&a!==s.url&&e.setUrl(a)});function oN(){var V;const[n,e]=oe.useState({}),[i,s]=oe.useState(null),[a,u]=oe.useState([]),[h,d]=oe.useState(0),[g,v]=oe.useState(!1),[b,E]=oe.useState(""),S=J=>{E(J),v(!0)},x=()=>{v(!1)};oe.useEffect(()=>{oD().then(e),oT().then(s),aT().then(u)},[]);const R=oe.useRef(null),D=Object.values(n),Y=J=>{d(J),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{d($=>($+1)%D.length)},5e3)};return oe.useEffect(()=>{if(D.length>0)return R.current=setTimeout(()=>{d(J=>(J+1)%D.length)},5e3),()=>clearTimeout(R.current)},[D]),j.jsxs("div",{style:Xn.wrapper,children:[j.jsx("h1",{style:Xn.title,children:"더 유부에 오신 것을 환영합니다!"}),j.jsx("p",{style:Xn.subtitle,children:"정성껏 만든 유부 요리, 따뜻한 한 끼를 전해드립니다."}),j.jsx("div",{style:Xn.carouselContainer,children:D.length>0?j.jsxs("div",{style:{position:"relative",height:"100%"},children:[j.jsx("img",{src:(V=D[h])==null?void 0:V.imageUrl,alt:`slide-${h}`,style:Xn.carouselImage}),j.jsx("button",{onClick:()=>Y((h-1+D.length)%D.length),style:Xn.arrowLeft,children:"<"}),j.jsx("button",{onClick:()=>Y((h+1)%D.length),style:Xn.arrowRight,children:">"}),j.jsx("div",{style:Xn.pager,children:D.map((J,$)=>j.jsx("span",{style:{...Xn.dot,backgroundColor:h===$?"#333":"#bbb",cursor:"default"}},$))})]}):j.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"#888",fontSize:"1.2rem"},children:"슬라이드 이미지를 불러오는 중입니다..."})}),i&&j.jsxs(j.Fragment,{children:[j.jsxs("div",{style:{height:"360px",width:"100%",margin:"2rem 0"},children:[j.jsx("h3",{style:{fontSize:18,marginBottom:12},children:"매장 위치"}),j.jsxs(nN,{center:[parseFloat(i.latitude),parseFloat(i.longitude)],zoom:17,style:{height:"100%",width:"100%",borderRadius:"12px"},scrollWheelZoom:!1,children:[j.jsx(sN,{attribution:"© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),j.jsx(iN,{position:[parseFloat(i.latitude),parseFloat(i.longitude)],children:j.jsx(rN,{children:j.jsxs("div",{style:{textAlign:"center"},children:[j.jsx("img",{src:"/theUBoo/assets/logo.png",alt:"로고",style:{width:40,height:40,marginBottom:6}}),j.jsx("div",{children:"더 유부 매장 위치"}),j.jsx("div",{style:{fontSize:13,color:"#555"},children:i.address})]})})})]})]}),j.jsxs("div",{style:Xn.infoBox,children:[j.jsxs("p",{children:[j.jsx("strong",{children:"주소:"})," ",i.address]}),j.jsx("p",{style:Xn.description,children:i.description})]})]}),j.jsxs("div",{style:Xn.galleryBox,children:[j.jsx("h3",{children:" 매장 사진"}),j.jsx("div",{style:Xn.imageRow,children:a.map((J,$)=>j.jsx("img",{src:J,alt:`store-${$}`,style:Xn.thumb,onClick:()=>S(J),onMouseEnter:ne=>ne.currentTarget.style.transform="scale(1.05)",onMouseLeave:ne=>ne.currentTarget.style.transform="scale(1)"},$))})]}),j.jsx(Od,{isOpen:g,onRequestClose:x,contentLabel:"Store Image Modal",style:{overlay:{zIndex:1e3,backgroundColor:"rgba(0,0,0,0.6)"},content:{maxWidth:"70%",maxHeight:"70%",margin:"auto",padding:0,overflow:"hidden",borderRadius:"12px"}},children:j.jsx("img",{src:b,alt:"확대 이미지",style:{width:"100%",height:"100%",objectFit:"contain"}})})]})}const Xn={wrapper:{padding:"2rem",maxWidth:960,margin:"2rem auto",boxSizing:"border-box",backgroundColor:"#fff",borderRadius:12,boxShadow:"0 6px 24px rgba(0,0,0,0.06)"},title:{fontSize:"clamp(2rem, 5vw, 3.2rem)",fontWeight:700,marginBottom:"1rem",color:"#2c3e50",textAlign:"center"},subtitle:{fontSize:"clamp(1.1rem, 2.5vw, 1.4rem)",color:"#666",marginBottom:"2.5rem",textAlign:"center",maxWidth:"640px",marginInline:"auto"},carouselContainer:{width:"100%",height:400,overflow:"hidden",borderRadius:16,marginBottom:"2.5rem",boxShadow:"0 8px 20px rgba(0,0,0,0.08)"},carouselImage:{width:"100%",height:"100%",objectFit:"cover",borderRadius:16,transition:"opacity 0.5s ease-in-out"},arrowLeft:{position:"absolute",top:"50%",left:10,transform:"translateY(-50%)",background:"rgba(255,255,255,0.7)",border:"none",borderRadius:"50%",padding:"0.5rem 0.7rem",cursor:"pointer"},arrowRight:{position:"absolute",top:"50%",right:10,transform:"translateY(-50%)",background:"rgba(255,255,255,0.7)",border:"none",borderRadius:"50%",padding:"0.5rem 0.7rem",cursor:"pointer"},pager:{position:"absolute",bottom:10,left:"50%",transform:"translateX(-50%)",display:"flex",gap:8},dot:{width:12,height:12,borderRadius:"50%",backgroundColor:"#bbb"},infoBox:{padding:"1.5rem",borderRadius:10,marginBottom:"2rem",backgroundColor:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},description:{marginTop:8,whiteSpace:"pre-line",lineHeight:1.5},galleryBox:{marginTop:24},imageRow:{display:"flex",gap:12,flexWrap:"wrap"},thumb:{width:140,height:140,objectFit:"cover",borderRadius:10,border:"1px solid #ccc",boxShadow:"0 1px 4px rgba(0,0,0,0.05)",cursor:"pointer",transition:"transform 0.2s ease"}},aN=["전체","식사류","유부","하절기메뉴","사이드&음료"];function lN(){const[n,e]=oe.useState({}),[i,s]=oe.useState("전체"),[a,u]=oe.useState(null);oe.useEffect(()=>{sT().then(e)},[]);const h=Object.entries(n).filter(([d,g])=>i==="전체"||g.category===i);return j.jsxs("div",{style:{display:"flex",padding:24},children:[j.jsxs("aside",{style:{width:200,marginRight:24},children:[j.jsx("h3",{children:"🍽️ 카테고리"}),j.jsx("ul",{style:{listStyle:"none",padding:0},children:aN.map(d=>j.jsx("li",{style:{marginBottom:12},children:j.jsx("button",{onClick:()=>s(d),style:{width:"100%",padding:"10px 16px",background:d===i?"#3498db":"#f0f0f0",color:d===i?"#fff":"#333",border:"none",borderRadius:6,cursor:"pointer",fontWeight:"bold"},children:d})},d))})]}),j.jsxs("main",{style:{flex:1},children:[j.jsxs("h2",{children:[i," 메뉴"]}),j.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:24},children:h.map(([d,g])=>j.jsxs("div",{style:{position:"relative",border:"1px solid #eee",borderRadius:10,backgroundColor:"#fff",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[g.badge&&j.jsx("div",{style:{position:"absolute",top:8,left:8,backgroundColor:"#ff5e57",color:"#fff",fontSize:12,fontWeight:"bold",padding:"2px 6px",borderRadius:4},children:g.badge}),j.jsx("img",{src:g.imageUrl,alt:g.name,onClick:()=>u(g),style:{width:"100%",height:220,objectFit:"cover",borderTopLeftRadius:6,borderTopRightRadius:6,cursor:"pointer"}}),j.jsxs("div",{style:{padding:"12px"},children:[j.jsx("h4",{style:{margin:"4px 0",fontSize:16},children:g.name}),j.jsx("p",{style:{margin:"4px 0",fontSize:13,color:"#555",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:g.description}),j.jsx("div",{style:{margin:"4px 0",minHeight:18},children:(g.tags||[]).length>0?j.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:g.tags.map((v,b)=>j.jsx("span",{style:{fontSize:11,padding:"2px 6px",backgroundColor:"#fce4ec",color:"#c2185b",borderRadius:4},children:v},b))}):j.jsx("div",{style:{height:18}})}),j.jsx("div",{style:{position:"absolute",bottom:12,right:12},children:j.jsxs("strong",{style:{fontSize:15},children:[g.price.toLocaleString(),"원"]})})]})]},d))})]}),j.jsx(Od,{isOpen:!!a,onRequestClose:()=>u(null),contentLabel:"Menu Detail Modal",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3},content:{maxWidth:480,maxHeight:"100vh",top:"20%",left:"40%",padding:0,borderRadius:12,overflow:"hidden",position:"relative"}},children:a&&j.jsxs("div",{children:[j.jsx("img",{src:a.imageUrl,alt:a.name,style:{width:"100%",height:360,objectFit:"cover"}}),j.jsxs("div",{style:{position:"relative",padding:"16px"},children:[j.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:j.jsxs("div",{children:[j.jsx("h2",{style:{margin:"4px 0"},children:a.name}),j.jsx("div",{style:{maxHeight:60,overflowY:"auto",margin:"4px 0",color:"#555",fontSize:14,lineHeight:"1.4em"},children:a.description}),j.jsx("div",{style:{margin:"4px 0",minHeight:18},children:(a.tags||[]).length>0?j.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:a.tags.map((d,g)=>j.jsx("span",{style:{fontSize:12,padding:"2px 6px",backgroundColor:"#fce4ec",color:"#c2185b",borderRadius:4},children:d},g))}):j.jsx("div",{style:{height:18}})})]})}),j.jsxs("strong",{style:{position:"absolute",bottom:16,right:16,fontSize:20,whiteSpace:"nowrap"},children:[a.price.toLocaleString(),"원"]})]})]})})]})}function uN({onClose:n}){const[e,i]=oe.useState({nickname:"",password:"",content:"",files:[]}),[s,a]=oe.useState([]),[u,h]=oe.useState(""),d=b=>{const E=Array.from(b.target.files);if(E.length>5){alert("이미지는 최대 5장까지만 등록할 수 있습니다."),b.target.value="",i(S=>({...S,files:[]})),a([]);return}i(S=>({...S,files:E})),a(E.map(S=>URL.createObjectURL(S)))},g=b=>{const{name:E,value:S}=b.target;i(x=>({...x,[E]:S}))},v=async b=>{if(b.preventDefault(),!e.nickname||!e.password||!e.content){h("⚠️ 모든 항목을 입력해주세요.");return}try{await tD(e),h("✅ 등록이 완료되었습니다!"),setTimeout(()=>{onSuccess()},1e3)}catch(E){console.error(E),h("❌ 등록에 실패했습니다.")}};return j.jsx("div",{style:di.overlay,children:j.jsxs("div",{style:di.modal,children:[j.jsx("h2",{style:di.heading,children:"📝 방문 후기 작성"}),j.jsxs("div",{style:di.row,children:[j.jsx("input",{name:"nickname",placeholder:"닉네임",value:e.nickname,onChange:g,style:{...di.input,flex:1}}),j.jsx("input",{name:"password",type:"password",placeholder:"비밀번호 (4자리)",maxLength:4,value:e.password,onChange:g,style:{...di.input,flex:1}})]}),j.jsx("textarea",{name:"content",placeholder:"내용을 입력해주세요",value:e.content,onChange:g,style:{...di.input,height:120,resize:"vertical"}}),j.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:d,style:di.input}),j.jsx("div",{style:di.previewRow,children:s.map((b,E)=>j.jsx("img",{src:b,alt:`preview-${E}`,style:di.previewImg},E))}),j.jsx("button",{onClick:v,style:di.button,children:"등록"}),j.jsx("button",{onClick:n,style:di.cancelBtn,children:"닫기"}),u&&j.jsx("p",{style:di.message,children:u})]})})}const di={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},modal:{backgroundColor:"#fff",padding:24,borderRadius:10,width:"100%",maxWidth:480,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontFamily:'"Noto Sans KR", sans-serif'},heading:{fontSize:20,fontWeight:"bold",marginBottom:20},row:{display:"flex",gap:12,marginBottom:12},input:{width:"100%",padding:12,fontSize:16,borderRadius:6,border:"1px solid #ccc",marginBottom:12,boxSizing:"border-box"},button:{width:"100%",padding:12,backgroundColor:"#3498db",color:"#fff",fontSize:16,border:"none",borderRadius:6,cursor:"pointer",marginBottom:8},cancelBtn:{width:"100%",padding:12,backgroundColor:"#ccc",color:"#fff",fontSize:16,border:"none",borderRadius:6,cursor:"pointer"},previewRow:{display:"flex",gap:8,marginBottom:12},previewImg:{width:80,height:80,objectFit:"cover",borderRadius:6,border:"1px solid #ddd"},message:{textAlign:"center",marginTop:8,fontWeight:"bold",color:"#2c3e50"}};var Qm={},$m={},Qu={},Jm={},Fw;function cN(){return Fw||(Fw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(Jm)),Jm}var eg,qw;function fN(){if(qw)return eg;qw=1;var n="Expected a function",e=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,g=typeof ah=="object"&&ah&&ah.Object===Object&&ah,v=typeof self=="object"&&self&&self.Object===Object&&self,b=g||v||Function("return this")(),E=Object.prototype,S=E.toString,x=Math.max,R=Math.min,D=function(){return b.Date.now()};function Y(W,z,X){var B,A,M,P,U,H,N=0,G=!1,O=!1,_=!0;if(typeof W!="function")throw new TypeError(n);z=ne(z)||0,V(X)&&(G=!!X.leading,O="maxWait"in X,M=O?x(ne(X.maxWait)||0,z):M,_="trailing"in X?!!X.trailing:_);function Q(ge){var we=B,Ee=A;return B=A=void 0,N=ge,P=W.apply(Ee,we),P}function F(ge){return N=ge,U=setTimeout(K,z),G?Q(ge):P}function w(ge){var we=ge-H,Ee=ge-N,Oe=z-we;return O?R(Oe,M-Ee):Oe}function k(ge){var we=ge-H,Ee=ge-N;return H===void 0||we>=z||we<0||O&&Ee>=M}function K(){var ge=D();if(k(ge))return ie(ge);U=setTimeout(K,w(ge))}function ie(ge){return U=void 0,_&&B?Q(ge):(B=A=void 0,P)}function ee(){U!==void 0&&clearTimeout(U),N=0,B=H=A=U=void 0}function te(){return U===void 0?P:ie(D())}function ae(){var ge=D(),we=k(ge);if(B=arguments,A=this,H=ge,we){if(U===void 0)return F(H);if(O)return U=setTimeout(K,z),Q(H)}return U===void 0&&(U=setTimeout(K,z)),P}return ae.cancel=ee,ae.flush=te,ae}function V(W){var z=typeof W;return!!W&&(z=="object"||z=="function")}function J(W){return!!W&&typeof W=="object"}function $(W){return typeof W=="symbol"||J(W)&&S.call(W)==i}function ne(W){if(typeof W=="number")return W;if($(W))return e;if(V(W)){var z=typeof W.valueOf=="function"?W.valueOf():W;W=V(z)?z+"":z}if(typeof W!="string")return W===0?W:+W;W=W.replace(s,"");var X=u.test(W);return X||h.test(W)?d(W.slice(2),X?2:8):a.test(W)?e:+W}return eg=Y,eg}var tg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ww;function Ad(){return Ww||(Ww=1,function(n){(function(){var e={}.hasOwnProperty;function i(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=a(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return i.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=a(h,d));return h}function a(u,h){return h?u?u+" "+h:u+h:u}n.exports?(i.default=i,n.exports=i):window.classNames=i})()}(tg)),tg.exports}var Ce={},ng={},Vw;function wT(){return Vw||(Vw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(Ii());function i(a){return a&&a.__esModule?a:{default:a}}var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(u){return e.default.createElement("ul",{style:{display:"block"}},u)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(u){return e.default.createElement("button",null,u+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=s}(ng)),ng}var Zw;function jc(){if(Zw)return Ce;Zw=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.checkSpecKeys=Ce.checkNavigable=Ce.changeSlide=Ce.canUseDOM=Ce.canGoNext=void 0,Ce.clamp=v,Ce.extractObject=void 0,Ce.filterSettings=Q,Ce.validSettings=Ce.swipeStart=Ce.swipeMove=Ce.swipeEnd=Ce.slidesOnRight=Ce.slidesOnLeft=Ce.slideHandler=Ce.siblingDirection=Ce.safePreventDefault=Ce.lazyStartIndex=Ce.lazySlidesOnRight=Ce.lazySlidesOnLeft=Ce.lazyEndIndex=Ce.keyHandler=Ce.initializedState=Ce.getWidth=Ce.getTrackLeft=Ce.getTrackCSS=Ce.getTrackAnimateCSS=Ce.getTotalSlides=Ce.getSwipeDirection=Ce.getSlideCount=Ce.getRequiredLazySlides=Ce.getPreClones=Ce.getPostClones=Ce.getOnDemandLazySlides=Ce.getNavigableIndexes=Ce.getHeight=void 0;var n=i(Ii()),e=i(wT());function i(F){return F&&F.__esModule?F:{default:F}}function s(F){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s(F)}function a(F,w){var k=Object.keys(F);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(F);w&&(K=K.filter(function(ie){return Object.getOwnPropertyDescriptor(F,ie).enumerable})),k.push.apply(k,K)}return k}function u(F){for(var w=1;w<arguments.length;w++){var k=arguments[w]!=null?arguments[w]:{};w%2?a(Object(k),!0).forEach(function(K){h(F,K,k[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(k)):a(Object(k)).forEach(function(K){Object.defineProperty(F,K,Object.getOwnPropertyDescriptor(k,K))})}return F}function h(F,w,k){return w=d(w),w in F?Object.defineProperty(F,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):F[w]=k,F}function d(F){var w=g(F,"string");return s(w)=="symbol"?w:String(w)}function g(F,w){if(s(F)!="object"||!F)return F;var k=F[Symbol.toPrimitive];if(k!==void 0){var K=k.call(F,w);if(s(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(F)}function v(F,w,k){return Math.max(w,Math.min(F,k))}var b=Ce.safePreventDefault=function(w){var k=["onTouchStart","onTouchMove","onWheel"];k.includes(w._reactName)||w.preventDefault()},E=Ce.getOnDemandLazySlides=function(w){for(var k=[],K=S(w),ie=x(w),ee=K;ee<ie;ee++)w.lazyLoadedList.indexOf(ee)<0&&k.push(ee);return k};Ce.getRequiredLazySlides=function(w){for(var k=[],K=S(w),ie=x(w),ee=K;ee<ie;ee++)k.push(ee);return k};var S=Ce.lazyStartIndex=function(w){return w.currentSlide-R(w)},x=Ce.lazyEndIndex=function(w){return w.currentSlide+D(w)},R=Ce.lazySlidesOnLeft=function(w){return w.centerMode?Math.floor(w.slidesToShow/2)+(parseInt(w.centerPadding)>0?1:0):0},D=Ce.lazySlidesOnRight=function(w){return w.centerMode?Math.floor((w.slidesToShow-1)/2)+1+(parseInt(w.centerPadding)>0?1:0):w.slidesToShow},Y=Ce.getWidth=function(w){return w&&w.offsetWidth||0},V=Ce.getHeight=function(w){return w&&w.offsetHeight||0},J=Ce.getSwipeDirection=function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,ie,ee,te;return K=w.startX-w.curX,ie=w.startY-w.curY,ee=Math.atan2(ie,K),te=Math.round(ee*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":k===!0?te>=35&&te<=135?"up":"down":"vertical"},$=Ce.canGoNext=function(w){var k=!0;return w.infinite||(w.centerMode&&w.currentSlide>=w.slideCount-1||w.slideCount<=w.slidesToShow||w.currentSlide>=w.slideCount-w.slidesToShow)&&(k=!1),k};Ce.extractObject=function(w,k){var K={};return k.forEach(function(ie){return K[ie]=w[ie]}),K},Ce.initializedState=function(w){var k=n.default.Children.count(w.children),K=w.listRef,ie=Math.ceil(Y(K)),ee=w.trackRef&&w.trackRef.node,te=Math.ceil(Y(ee)),ae;if(w.vertical)ae=ie;else{var ge=w.centerMode&&parseInt(w.centerPadding)*2;typeof w.centerPadding=="string"&&w.centerPadding.slice(-1)==="%"&&(ge*=ie/100),ae=Math.ceil((ie-ge)/w.slidesToShow)}var we=K&&V(K.querySelector('[data-index="0"]')),Ee=we*w.slidesToShow,Oe=w.currentSlide===void 0?w.initialSlide:w.currentSlide;w.rtl&&w.currentSlide===void 0&&(Oe=k-1-w.initialSlide);var Le=w.lazyLoadedList||[],Ie=E(u(u({},w),{},{currentSlide:Oe,lazyLoadedList:Le}));Le=Le.concat(Ie);var Fe={slideCount:k,slideWidth:ae,listWidth:ie,trackWidth:te,currentSlide:Oe,slideHeight:we,listHeight:Ee,lazyLoadedList:Le};return w.autoplaying===null&&w.autoplay&&(Fe.autoplaying="playing"),Fe},Ce.slideHandler=function(w){var k=w.waitForAnimate,K=w.animating,ie=w.fade,ee=w.infinite,te=w.index,ae=w.slideCount,ge=w.lazyLoad,we=w.currentSlide,Ee=w.centerMode,Oe=w.slidesToScroll,Le=w.slidesToShow,Ie=w.useCSS,Fe=w.lazyLoadedList;if(k&&K)return{};var Ne=te,ke,Ye,Te,Ue={},Ke={},Qe=ee?te:v(te,0,ae-1);if(ie){if(!ee&&(te<0||te>=ae))return{};te<0?Ne=te+ae:te>=ae&&(Ne=te-ae),ge&&Fe.indexOf(Ne)<0&&(Fe=Fe.concat(Ne)),Ue={animating:!0,currentSlide:Ne,lazyLoadedList:Fe,targetSlide:Ne},Ke={animating:!1,targetSlide:Ne}}else ke=Ne,Ne<0?(ke=Ne+ae,ee?ae%Oe!==0&&(ke=ae-ae%Oe):ke=0):!$(w)&&Ne>we?Ne=ke=we:Ee&&Ne>=ae?(Ne=ee?ae:ae-1,ke=ee?0:ae-1):Ne>=ae&&(ke=Ne-ae,ee?ae%Oe!==0&&(ke=0):ke=ae-Le),!ee&&Ne+Le>=ae&&(ke=ae-Le),Ye=M(u(u({},w),{},{slideIndex:Ne})),Te=M(u(u({},w),{},{slideIndex:ke})),ee||(Ye===Te&&(Ne=ke),Ye=Te),ge&&(Fe=Fe.concat(E(u(u({},w),{},{currentSlide:Ne})))),Ie?(Ue={animating:!0,currentSlide:ke,trackStyle:A(u(u({},w),{},{left:Ye})),lazyLoadedList:Fe,targetSlide:Qe},Ke={animating:!1,currentSlide:ke,trackStyle:B(u(u({},w),{},{left:Te})),swipeLeft:null,targetSlide:Qe}):Ue={currentSlide:ke,trackStyle:B(u(u({},w),{},{left:Te})),lazyLoadedList:Fe,targetSlide:Qe};return{state:Ue,nextState:Ke}},Ce.changeSlide=function(w,k){var K,ie,ee,te,ae,ge=w.slidesToScroll,we=w.slidesToShow,Ee=w.slideCount,Oe=w.currentSlide,Le=w.targetSlide,Ie=w.lazyLoad,Fe=w.infinite;if(te=Ee%ge!==0,K=te?0:(Ee-Oe)%ge,k.message==="previous")ee=K===0?ge:we-K,ae=Oe-ee,Ie&&!Fe&&(ie=Oe-ee,ae=ie===-1?Ee-1:ie),Fe||(ae=Le-ge);else if(k.message==="next")ee=K===0?ge:K,ae=Oe+ee,Ie&&!Fe&&(ae=(Oe+ge)%Ee+K),Fe||(ae=Le+ge);else if(k.message==="dots")ae=k.index*k.slidesToScroll;else if(k.message==="children"){if(ae=k.index,Fe){var Ne=N(u(u({},w),{},{targetSlide:ae}));ae>k.currentSlide&&Ne==="left"?ae=ae-Ee:ae<k.currentSlide&&Ne==="right"&&(ae=ae+Ee)}}else k.message==="index"&&(ae=Number(k.index));return ae},Ce.keyHandler=function(w,k,K){return w.target.tagName.match("TEXTAREA|INPUT|SELECT")||!k?"":w.keyCode===37?K?"next":"previous":w.keyCode===39?K?"previous":"next":""},Ce.swipeStart=function(w,k,K){return w.target.tagName==="IMG"&&b(w),!k||!K&&w.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:w.touches?w.touches[0].pageX:w.clientX,startY:w.touches?w.touches[0].pageY:w.clientY,curX:w.touches?w.touches[0].pageX:w.clientX,curY:w.touches?w.touches[0].pageY:w.clientY}}},Ce.swipeMove=function(w,k){var K=k.scrolling,ie=k.animating,ee=k.vertical,te=k.swipeToSlide,ae=k.verticalSwiping,ge=k.rtl,we=k.currentSlide,Ee=k.edgeFriction,Oe=k.edgeDragged,Le=k.onEdge,Ie=k.swiped,Fe=k.swiping,Ne=k.slideCount,ke=k.slidesToScroll,Ye=k.infinite,Te=k.touchObject,Ue=k.swipeEvent,Ke=k.listHeight,Qe=k.listWidth;if(!K){if(ie)return b(w);ee&&te&&ae&&b(w);var Ze,Et={},dt=M(k);Te.curX=w.touches?w.touches[0].pageX:w.clientX,Te.curY=w.touches?w.touches[0].pageY:w.clientY,Te.swipeLength=Math.round(Math.sqrt(Math.pow(Te.curX-Te.startX,2)));var ut=Math.round(Math.sqrt(Math.pow(Te.curY-Te.startY,2)));if(!ae&&!Fe&&ut>10)return{scrolling:!0};ae&&(Te.swipeLength=ut);var Dt=(ge?-1:1)*(Te.curX>Te.startX?1:-1);ae&&(Dt=Te.curY>Te.startY?1:-1);var Kt=Math.ceil(Ne/ke),pt=J(k.touchObject,ae),ot=Te.swipeLength;return Ye||(we===0&&(pt==="right"||pt==="down")||we+1>=Kt&&(pt==="left"||pt==="up")||!$(k)&&(pt==="left"||pt==="up"))&&(ot=Te.swipeLength*Ee,Oe===!1&&Le&&(Le(pt),Et.edgeDragged=!0)),!Ie&&Ue&&(Ue(pt),Et.swiped=!0),ee?Ze=dt+ot*(Ke/Qe)*Dt:ge?Ze=dt-ot*Dt:Ze=dt+ot*Dt,ae&&(Ze=dt+ot*Dt),Et=u(u({},Et),{},{touchObject:Te,swipeLeft:Ze,trackStyle:B(u(u({},k),{},{left:Ze}))}),Math.abs(Te.curX-Te.startX)<Math.abs(Te.curY-Te.startY)*.8||Te.swipeLength>10&&(Et.swiping=!0,b(w)),Et}},Ce.swipeEnd=function(w,k){var K=k.dragging,ie=k.swipe,ee=k.touchObject,te=k.listWidth,ae=k.touchThreshold,ge=k.verticalSwiping,we=k.listHeight,Ee=k.swipeToSlide,Oe=k.scrolling,Le=k.onSwipe,Ie=k.targetSlide,Fe=k.currentSlide,Ne=k.infinite;if(!K)return ie&&b(w),{};var ke=ge?we/ae:te/ae,Ye=J(ee,ge),Te={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Oe||!ee.swipeLength)return Te;if(ee.swipeLength>ke){b(w),Le&&Le(Ye);var Ue,Ke,Qe=Ne?Fe:Ie;switch(Ye){case"left":case"up":Ke=Qe+z(k),Ue=Ee?W(k,Ke):Ke,Te.currentDirection=0;break;case"right":case"down":Ke=Qe-z(k),Ue=Ee?W(k,Ke):Ke,Te.currentDirection=1;break;default:Ue=Qe}Te.triggerSlideHandler=Ue}else{var Ze=M(k);Te.trackStyle=A(u(u({},k),{},{left:Ze}))}return Te};var ne=Ce.getNavigableIndexes=function(w){for(var k=w.infinite?w.slideCount*2:w.slideCount,K=w.infinite?w.slidesToShow*-1:0,ie=w.infinite?w.slidesToShow*-1:0,ee=[];K<k;)ee.push(K),K=ie+w.slidesToScroll,ie+=Math.min(w.slidesToScroll,w.slidesToShow);return ee},W=Ce.checkNavigable=function(w,k){var K=ne(w),ie=0;if(k>K[K.length-1])k=K[K.length-1];else for(var ee in K){if(k<K[ee]){k=ie;break}ie=K[ee]}return k},z=Ce.getSlideCount=function(w){var k=w.centerMode?w.slideWidth*Math.floor(w.slidesToShow/2):0;if(w.swipeToSlide){var K,ie=w.listRef,ee=ie.querySelectorAll&&ie.querySelectorAll(".slick-slide")||[];if(Array.from(ee).every(function(ge){if(w.vertical){if(ge.offsetTop+V(ge)/2>w.swipeLeft*-1)return K=ge,!1}else if(ge.offsetLeft-k+Y(ge)/2>w.swipeLeft*-1)return K=ge,!1;return!0}),!K)return 0;var te=w.rtl===!0?w.slideCount-w.currentSlide:w.currentSlide,ae=Math.abs(K.dataset.index-te)||1;return ae}else return w.slidesToScroll},X=Ce.checkSpecKeys=function(w,k){return k.reduce(function(K,ie){return K&&w.hasOwnProperty(ie)},!0)?null:console.error("Keys Missing:",w)},B=Ce.getTrackCSS=function(w){X(w,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var k,K,ie=w.slideCount+2*w.slidesToShow;w.vertical?K=ie*w.slideHeight:k=H(w)*w.slideWidth;var ee={opacity:1,transition:"",WebkitTransition:""};if(w.useTransform){var te=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",ae=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",ge=w.vertical?"translateY("+w.left+"px)":"translateX("+w.left+"px)";ee=u(u({},ee),{},{WebkitTransform:te,transform:ae,msTransform:ge})}else w.vertical?ee.top=w.left:ee.left=w.left;return w.fade&&(ee={opacity:1}),k&&(ee.width=k),K&&(ee.height=K),window&&!window.addEventListener&&window.attachEvent&&(w.vertical?ee.marginTop=w.left+"px":ee.marginLeft=w.left+"px"),ee},A=Ce.getTrackAnimateCSS=function(w){X(w,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var k=B(w);return w.useTransform?(k.WebkitTransition="-webkit-transform "+w.speed+"ms "+w.cssEase,k.transition="transform "+w.speed+"ms "+w.cssEase):w.vertical?k.transition="top "+w.speed+"ms "+w.cssEase:k.transition="left "+w.speed+"ms "+w.cssEase,k},M=Ce.getTrackLeft=function(w){if(w.unslick)return 0;X(w,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var k=w.slideIndex,K=w.trackRef,ie=w.infinite,ee=w.centerMode,te=w.slideCount,ae=w.slidesToShow,ge=w.slidesToScroll,we=w.slideWidth,Ee=w.listWidth,Oe=w.variableWidth,Le=w.slideHeight,Ie=w.fade,Fe=w.vertical,Ne=0,ke,Ye,Te=0;if(Ie||w.slideCount===1)return 0;var Ue=0;if(ie?(Ue=-P(w),te%ge!==0&&k+ge>te&&(Ue=-(k>te?ae-(k-te):te%ge)),ee&&(Ue+=parseInt(ae/2))):(te%ge!==0&&k+ge>te&&(Ue=ae-te%ge),ee&&(Ue=parseInt(ae/2))),Ne=Ue*we,Te=Ue*Le,Fe?ke=k*Le*-1+Te:ke=k*we*-1+Ne,Oe===!0){var Ke,Qe=K&&K.node;if(Ke=k+P(w),Ye=Qe&&Qe.childNodes[Ke],ke=Ye?Ye.offsetLeft*-1:0,ee===!0){Ke=ie?k+P(w):k,Ye=Qe&&Qe.children[Ke],ke=0;for(var Ze=0;Ze<Ke;Ze++)ke-=Qe&&Qe.children[Ze]&&Qe.children[Ze].offsetWidth;ke-=parseInt(w.centerPadding),ke+=Ye&&(Ee-Ye.offsetWidth)/2}}return ke},P=Ce.getPreClones=function(w){return w.unslick||!w.infinite?0:w.variableWidth?w.slideCount:w.slidesToShow+(w.centerMode?1:0)},U=Ce.getPostClones=function(w){return w.unslick||!w.infinite?0:w.slideCount},H=Ce.getTotalSlides=function(w){return w.slideCount===1?1:P(w)+w.slideCount+U(w)},N=Ce.siblingDirection=function(w){return w.targetSlide>w.currentSlide?w.targetSlide>w.currentSlide+G(w)?"left":"right":w.targetSlide<w.currentSlide-O(w)?"right":"left"},G=Ce.slidesOnRight=function(w){var k=w.slidesToShow,K=w.centerMode,ie=w.rtl,ee=w.centerPadding;if(K){var te=(k-1)/2+1;return parseInt(ee)>0&&(te+=1),ie&&k%2===0&&(te+=1),te}return ie?0:k-1},O=Ce.slidesOnLeft=function(w){var k=w.slidesToShow,K=w.centerMode,ie=w.rtl,ee=w.centerPadding;if(K){var te=(k-1)/2+1;return parseInt(ee)>0&&(te+=1),!ie&&k%2===0&&(te+=1),te}return ie?k-1:0};Ce.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var _=Ce.validSettings=Object.keys(e.default);function Q(F){return _.reduce(function(w,k){return F.hasOwnProperty(k)&&(w[k]=F[k]),w},{})}return Ce}var $u={},Gw;function hN(){if(Gw)return $u;Gw=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.Track=void 0;var n=s(Ii()),e=s(Ad()),i=jc();function s(A){return A&&A.__esModule?A:{default:A}}function a(A){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},a(A)}function u(){return u=Object.assign?Object.assign.bind():function(A){for(var M=1;M<arguments.length;M++){var P=arguments[M];for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&(A[U]=P[U])}return A},u.apply(this,arguments)}function h(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function d(A,M){for(var P=0;P<M.length;P++){var U=M[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,$(U.key),U)}}function g(A,M,P){return M&&d(A.prototype,M),Object.defineProperty(A,"prototype",{writable:!1}),A}function v(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),M&&b(A,M)}function b(A,M){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,H){return U.__proto__=H,U},b(A,M)}function E(A){var M=R();return function(){var U=D(A),H;if(M){var N=D(this).constructor;H=Reflect.construct(U,arguments,N)}else H=U.apply(this,arguments);return S(this,H)}}function S(A,M){if(M&&(a(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(A)}function x(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function R(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!A})()}function D(A){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},D(A)}function Y(A,M){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(A);M&&(U=U.filter(function(H){return Object.getOwnPropertyDescriptor(A,H).enumerable})),P.push.apply(P,U)}return P}function V(A){for(var M=1;M<arguments.length;M++){var P=arguments[M]!=null?arguments[M]:{};M%2?Y(Object(P),!0).forEach(function(U){J(A,U,P[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):Y(Object(P)).forEach(function(U){Object.defineProperty(A,U,Object.getOwnPropertyDescriptor(P,U))})}return A}function J(A,M,P){return M=$(M),M in A?Object.defineProperty(A,M,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[M]=P,A}function $(A){var M=ne(A,"string");return a(M)=="symbol"?M:String(M)}function ne(A,M){if(a(A)!="object"||!A)return A;var P=A[Symbol.toPrimitive];if(P!==void 0){var U=P.call(A,M);if(a(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(A)}var W=function(M){var P,U,H,N,G;M.rtl?G=M.slideCount-1-M.index:G=M.index,H=G<0||G>=M.slideCount,M.centerMode?(N=Math.floor(M.slidesToShow/2),U=(G-M.currentSlide)%M.slideCount===0,G>M.currentSlide-N-1&&G<=M.currentSlide+N&&(P=!0)):P=M.currentSlide<=G&&G<M.currentSlide+M.slidesToShow;var O;M.targetSlide<0?O=M.targetSlide+M.slideCount:M.targetSlide>=M.slideCount?O=M.targetSlide-M.slideCount:O=M.targetSlide;var _=G===O;return{"slick-slide":!0,"slick-active":P,"slick-center":U,"slick-cloned":H,"slick-current":_}},z=function(M){var P={};return(M.variableWidth===void 0||M.variableWidth===!1)&&(P.width=M.slideWidth),M.fade&&(P.position="relative",M.vertical?P.top=-M.index*parseInt(M.slideHeight):P.left=-M.index*parseInt(M.slideWidth),P.opacity=M.currentSlide===M.index?1:0,P.zIndex=M.currentSlide===M.index?999:998,M.useCSS&&(P.transition="opacity "+M.speed+"ms "+M.cssEase+", visibility "+M.speed+"ms "+M.cssEase)),P},X=function(M,P){return M.key||P},B=function(M){var P,U=[],H=[],N=[],G=n.default.Children.count(M.children),O=(0,i.lazyStartIndex)(M),_=(0,i.lazyEndIndex)(M);return n.default.Children.forEach(M.children,function(Q,F){var w,k={message:"children",index:F,slidesToScroll:M.slidesToScroll,currentSlide:M.currentSlide};!M.lazyLoad||M.lazyLoad&&M.lazyLoadedList.indexOf(F)>=0?w=Q:w=n.default.createElement("div",null);var K=z(V(V({},M),{},{index:F})),ie=w.props.className||"",ee=W(V(V({},M),{},{index:F}));if(U.push(n.default.cloneElement(w,{key:"original"+X(w,F),"data-index":F,className:(0,e.default)(ee,ie),tabIndex:"-1","aria-hidden":!ee["slick-active"],style:V(V({outline:"none"},w.props.style||{}),K),onClick:function(ge){w.props&&w.props.onClick&&w.props.onClick(ge),M.focusOnSelect&&M.focusOnSelect(k)}})),M.infinite&&M.fade===!1){var te=G-F;te<=(0,i.getPreClones)(M)&&(P=-te,P>=O&&(w=Q),ee=W(V(V({},M),{},{index:P})),H.push(n.default.cloneElement(w,{key:"precloned"+X(w,P),"data-index":P,tabIndex:"-1",className:(0,e.default)(ee,ie),"aria-hidden":!ee["slick-active"],style:V(V({},w.props.style||{}),K),onClick:function(ge){w.props&&w.props.onClick&&w.props.onClick(ge),M.focusOnSelect&&M.focusOnSelect(k)}}))),P=G+F,P<_&&(w=Q),ee=W(V(V({},M),{},{index:P})),N.push(n.default.cloneElement(w,{key:"postcloned"+X(w,P),"data-index":P,tabIndex:"-1",className:(0,e.default)(ee,ie),"aria-hidden":!ee["slick-active"],style:V(V({},w.props.style||{}),K),onClick:function(ge){w.props&&w.props.onClick&&w.props.onClick(ge),M.focusOnSelect&&M.focusOnSelect(k)}}))}}),M.rtl?H.concat(U,N).reverse():H.concat(U,N)};return $u.Track=function(A){v(P,A);var M=E(P);function P(){var U;h(this,P);for(var H=arguments.length,N=new Array(H),G=0;G<H;G++)N[G]=arguments[G];return U=M.call.apply(M,[this].concat(N)),J(x(U),"node",null),J(x(U),"handleRef",function(O){U.node=O}),U}return g(P,[{key:"render",value:function(){var H=B(this.props),N=this.props,G=N.onMouseEnter,O=N.onMouseOver,_=N.onMouseLeave,Q={onMouseEnter:G,onMouseOver:O,onMouseLeave:_};return n.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},Q),H)}}]),P}(n.default.PureComponent),$u}var Ju={},Yw;function dN(){if(Yw)return Ju;Yw=1;function n(W){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(W)}Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Dots=void 0;var e=a(Ii()),i=a(Ad()),s=jc();function a(W){return W&&W.__esModule?W:{default:W}}function u(W,z){var X=Object.keys(W);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(W);z&&(B=B.filter(function(A){return Object.getOwnPropertyDescriptor(W,A).enumerable})),X.push.apply(X,B)}return X}function h(W){for(var z=1;z<arguments.length;z++){var X=arguments[z]!=null?arguments[z]:{};z%2?u(Object(X),!0).forEach(function(B){d(W,B,X[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(X)):u(Object(X)).forEach(function(B){Object.defineProperty(W,B,Object.getOwnPropertyDescriptor(X,B))})}return W}function d(W,z,X){return z=E(z),z in W?Object.defineProperty(W,z,{value:X,enumerable:!0,configurable:!0,writable:!0}):W[z]=X,W}function g(W,z){if(!(W instanceof z))throw new TypeError("Cannot call a class as a function")}function v(W,z){for(var X=0;X<z.length;X++){var B=z[X];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(W,E(B.key),B)}}function b(W,z,X){return z&&v(W.prototype,z),Object.defineProperty(W,"prototype",{writable:!1}),W}function E(W){var z=S(W,"string");return n(z)=="symbol"?z:String(z)}function S(W,z){if(n(W)!="object"||!W)return W;var X=W[Symbol.toPrimitive];if(X!==void 0){var B=X.call(W,z);if(n(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}function x(W,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(z&&z.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),z&&R(W,z)}function R(W,z){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,A){return B.__proto__=A,B},R(W,z)}function D(W){var z=J();return function(){var B=$(W),A;if(z){var M=$(this).constructor;A=Reflect.construct(B,arguments,M)}else A=B.apply(this,arguments);return Y(this,A)}}function Y(W,z){if(z&&(n(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(W)}function V(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function J(){try{var W=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!W})()}function $(W){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)},$(W)}var ne=function(z){var X;return z.infinite?X=Math.ceil(z.slideCount/z.slidesToScroll):X=Math.ceil((z.slideCount-z.slidesToShow)/z.slidesToScroll)+1,X};return Ju.Dots=function(W){x(X,W);var z=D(X);function X(){return g(this,X),z.apply(this,arguments)}return b(X,[{key:"clickHandler",value:function(A,M){M.preventDefault(),this.props.clickHandler(A)}},{key:"render",value:function(){for(var A=this.props,M=A.onMouseEnter,P=A.onMouseOver,U=A.onMouseLeave,H=A.infinite,N=A.slidesToScroll,G=A.slidesToShow,O=A.slideCount,_=A.currentSlide,Q=ne({slideCount:O,slidesToScroll:N,slidesToShow:G,infinite:H}),F={onMouseEnter:M,onMouseOver:P,onMouseLeave:U},w=[],k=0;k<Q;k++){var K=(k+1)*N-1,ie=H?K:(0,s.clamp)(K,0,O-1),ee=ie-(N-1),te=H?ee:(0,s.clamp)(ee,0,O-1),ae=(0,i.default)({"slick-active":H?_>=te&&_<=ie:_===te}),ge={message:"dots",index:k,slidesToScroll:N,currentSlide:_},we=this.clickHandler.bind(this,ge);w=w.concat(e.default.createElement("li",{key:k,className:ae},e.default.cloneElement(this.props.customPaging(k),{onClick:we})))}return e.default.cloneElement(this.props.appendDots(w),h({className:this.props.dotsClass},F))}}]),X}(e.default.PureComponent),Ju}var ra={},Kw;function pN(){if(Kw)return ra;Kw=1;function n(W){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(W)}Object.defineProperty(ra,"__esModule",{value:!0}),ra.PrevArrow=ra.NextArrow=void 0;var e=a(Ii()),i=a(Ad()),s=jc();function a(W){return W&&W.__esModule?W:{default:W}}function u(){return u=Object.assign?Object.assign.bind():function(W){for(var z=1;z<arguments.length;z++){var X=arguments[z];for(var B in X)Object.prototype.hasOwnProperty.call(X,B)&&(W[B]=X[B])}return W},u.apply(this,arguments)}function h(W,z){var X=Object.keys(W);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(W);z&&(B=B.filter(function(A){return Object.getOwnPropertyDescriptor(W,A).enumerable})),X.push.apply(X,B)}return X}function d(W){for(var z=1;z<arguments.length;z++){var X=arguments[z]!=null?arguments[z]:{};z%2?h(Object(X),!0).forEach(function(B){g(W,B,X[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(X)):h(Object(X)).forEach(function(B){Object.defineProperty(W,B,Object.getOwnPropertyDescriptor(X,B))})}return W}function g(W,z,X){return z=S(z),z in W?Object.defineProperty(W,z,{value:X,enumerable:!0,configurable:!0,writable:!0}):W[z]=X,W}function v(W,z){if(!(W instanceof z))throw new TypeError("Cannot call a class as a function")}function b(W,z){for(var X=0;X<z.length;X++){var B=z[X];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(W,S(B.key),B)}}function E(W,z,X){return z&&b(W.prototype,z),Object.defineProperty(W,"prototype",{writable:!1}),W}function S(W){var z=x(W,"string");return n(z)=="symbol"?z:String(z)}function x(W,z){if(n(W)!="object"||!W)return W;var X=W[Symbol.toPrimitive];if(X!==void 0){var B=X.call(W,z);if(n(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}function R(W,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(z&&z.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),z&&D(W,z)}function D(W,z){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,A){return B.__proto__=A,B},D(W,z)}function Y(W){var z=$();return function(){var B=ne(W),A;if(z){var M=ne(this).constructor;A=Reflect.construct(B,arguments,M)}else A=B.apply(this,arguments);return V(this,A)}}function V(W,z){if(z&&(n(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(W)}function J(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function $(){try{var W=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!W})()}function ne(W){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)},ne(W)}return ra.PrevArrow=function(W){R(X,W);var z=Y(X);function X(){return v(this,X),z.apply(this,arguments)}return E(X,[{key:"clickHandler",value:function(A,M){M&&M.preventDefault(),this.props.clickHandler(A,M)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-prev":!0},M=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(A["slick-disabled"]=!0,M=null);var P={key:"0","data-role":"none",className:(0,i.default)(A),style:{display:"block"},onClick:M},U={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},H;return this.props.prevArrow?H=e.default.cloneElement(this.props.prevArrow,d(d({},P),U)):H=e.default.createElement("button",u({key:"0",type:"button"},P)," ","Previous"),H}}]),X}(e.default.PureComponent),ra.NextArrow=function(W){R(X,W);var z=Y(X);function X(){return v(this,X),z.apply(this,arguments)}return E(X,[{key:"clickHandler",value:function(A,M){M&&M.preventDefault(),this.props.clickHandler(A,M)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-next":!0},M=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(A["slick-disabled"]=!0,M=null);var P={key:"1","data-role":"none",className:(0,i.default)(A),style:{display:"block"},onClick:M},U={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},H;return this.props.nextArrow?H=e.default.cloneElement(this.props.nextArrow,d(d({},P),U)):H=e.default.createElement("button",u({key:"1",type:"button"},P)," ","Next"),H}}]),X}(e.default.PureComponent),ra}var ST=function(){if(typeof Map<"u")return Map;function n(e,i){var s=-1;return e.some(function(a,u){return a[0]===i?(s=u,!0):!1}),s}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(i){var s=n(this.__entries__,i),a=this.__entries__[s];return a&&a[1]},e.prototype.set=function(i,s){var a=n(this.__entries__,i);~a?this.__entries__[a][1]=s:this.__entries__.push([i,s])},e.prototype.delete=function(i){var s=this.__entries__,a=n(s,i);~a&&s.splice(a,1)},e.prototype.has=function(i){return!!~n(this.__entries__,i)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(i,s){s===void 0&&(s=null);for(var a=0,u=this.__entries__;a<u.length;a++){var h=u[a];i.call(s,h[1],h[0])}},e}()}(),Dg=typeof window<"u"&&typeof document<"u"&&window.document===document,td=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mN=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(td):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),gN=2;function _N(n,e){var i=!1,s=!1,a=0;function u(){i&&(i=!1,n()),s&&d()}function h(){mN(u)}function d(){var g=Date.now();if(i){if(g-a<gN)return;s=!0}else i=!0,s=!1,setTimeout(h,e);a=g}return d}var vN=20,yN=["top","right","bottom","left","width","height","size","weight"],bN=typeof MutationObserver<"u",wN=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_N(this.refresh.bind(this),vN)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var i=this.observers_,s=i.indexOf(e);~s&&i.splice(s,1),!i.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return e.forEach(function(i){return i.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Dg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),bN?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Dg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var i=e.propertyName,s=i===void 0?"":i,a=yN.some(function(u){return!!~s.indexOf(u)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),ET=function(n,e){for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n},Rl=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||td},TT=Md(0,0,0,0);function nd(n){return parseFloat(n)||0}function Xw(n){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(s,a){var u=n["border-"+a+"-width"];return s+nd(u)},0)}function SN(n){for(var e=["top","right","bottom","left"],i={},s=0,a=e;s<a.length;s++){var u=a[s],h=n["padding-"+u];i[u]=nd(h)}return i}function EN(n){var e=n.getBBox();return Md(0,0,e.width,e.height)}function TN(n){var e=n.clientWidth,i=n.clientHeight;if(!e&&!i)return TT;var s=Rl(n).getComputedStyle(n),a=SN(s),u=a.left+a.right,h=a.top+a.bottom,d=nd(s.width),g=nd(s.height);if(s.boxSizing==="border-box"&&(Math.round(d+u)!==e&&(d-=Xw(s,"left","right")+u),Math.round(g+h)!==i&&(g-=Xw(s,"top","bottom")+h)),!CN(n)){var v=Math.round(d+u)-e,b=Math.round(g+h)-i;Math.abs(v)!==1&&(d-=v),Math.abs(b)!==1&&(g-=b)}return Md(a.left,a.top,d,g)}var xN=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Rl(n).SVGGraphicsElement}:function(n){return n instanceof Rl(n).SVGElement&&typeof n.getBBox=="function"}}();function CN(n){return n===Rl(n).document.documentElement}function ON(n){return Dg?xN(n)?EN(n):TN(n):TT}function RN(n){var e=n.x,i=n.y,s=n.width,a=n.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,h=Object.create(u.prototype);return ET(h,{x:e,y:i,width:s,height:a,top:i,right:e+s,bottom:a+i,left:e}),h}function Md(n,e,i,s){return{x:n,y:e,width:i,height:s}}var AN=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Md(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=ON(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),MN=function(){function n(e,i){var s=RN(i);ET(this,{target:e,contentRect:s})}return n}(),LN=function(){function n(e,i,s){if(this.activeObservations_=[],this.observations_=new ST,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=i,this.callbackCtx_=s}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Rl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)||(i.set(e,new AN(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Rl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)&&(i.delete(e),i.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&e.activeObservations_.push(i)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,i=this.activeObservations_.map(function(s){return new MN(s.target,s.broadcastRect())});this.callback_.call(e,i,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),xT=typeof WeakMap<"u"?new WeakMap:new ST,CT=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=wN.getInstance(),s=new LN(e,i,this);xT.set(this,s)}return n}();["observe","unobserve","disconnect"].forEach(function(n){CT.prototype[n]=function(){var e;return(e=xT.get(this))[n].apply(e,arguments)}});var IN=function(){return typeof td.ResizeObserver<"u"?td.ResizeObserver:CT}();const kN=Object.freeze(Object.defineProperty({__proto__:null,default:IN},Symbol.toStringTag,{value:"Module"})),PN=a1(kN);var Qw;function DN(){if(Qw)return Qu;Qw=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.InnerSlider=void 0;var n=v(Ii()),e=v(cN()),i=v(fN()),s=v(Ad()),a=jc(),u=hN(),h=dN(),d=pN(),g=v(PN);function v(H){return H&&H.__esModule?H:{default:H}}function b(H){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},b(H)}function E(){return E=Object.assign?Object.assign.bind():function(H){for(var N=1;N<arguments.length;N++){var G=arguments[N];for(var O in G)Object.prototype.hasOwnProperty.call(G,O)&&(H[O]=G[O])}return H},E.apply(this,arguments)}function S(H,N){if(H==null)return{};var G=x(H,N),O,_;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(H);for(_=0;_<Q.length;_++)O=Q[_],!(N.indexOf(O)>=0)&&Object.prototype.propertyIsEnumerable.call(H,O)&&(G[O]=H[O])}return G}function x(H,N){if(H==null)return{};var G={},O=Object.keys(H),_,Q;for(Q=0;Q<O.length;Q++)_=O[Q],!(N.indexOf(_)>=0)&&(G[_]=H[_]);return G}function R(H,N){var G=Object.keys(H);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(H);N&&(O=O.filter(function(_){return Object.getOwnPropertyDescriptor(H,_).enumerable})),G.push.apply(G,O)}return G}function D(H){for(var N=1;N<arguments.length;N++){var G=arguments[N]!=null?arguments[N]:{};N%2?R(Object(G),!0).forEach(function(O){M(H,O,G[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(G)):R(Object(G)).forEach(function(O){Object.defineProperty(H,O,Object.getOwnPropertyDescriptor(G,O))})}return H}function Y(H,N){if(!(H instanceof N))throw new TypeError("Cannot call a class as a function")}function V(H,N){for(var G=0;G<N.length;G++){var O=N[G];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(H,P(O.key),O)}}function J(H,N,G){return N&&V(H.prototype,N),Object.defineProperty(H,"prototype",{writable:!1}),H}function $(H,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(N&&N.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),N&&ne(H,N)}function ne(H,N){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,_){return O.__proto__=_,O},ne(H,N)}function W(H){var N=B();return function(){var O=A(H),_;if(N){var Q=A(this).constructor;_=Reflect.construct(O,arguments,Q)}else _=O.apply(this,arguments);return z(this,_)}}function z(H,N){if(N&&(b(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(H)}function X(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function B(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!H})()}function A(H){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},A(H)}function M(H,N,G){return N=P(N),N in H?Object.defineProperty(H,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):H[N]=G,H}function P(H){var N=U(H,"string");return b(N)=="symbol"?N:String(N)}function U(H,N){if(b(H)!="object"||!H)return H;var G=H[Symbol.toPrimitive];if(G!==void 0){var O=G.call(H,N);if(b(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(H)}return Qu.InnerSlider=function(H){$(G,H);var N=W(G);function G(O){var _;Y(this,G),_=N.call(this,O),M(X(_),"listRefHandler",function(F){return _.list=F}),M(X(_),"trackRefHandler",function(F){return _.track=F}),M(X(_),"adaptHeight",function(){if(_.props.adaptiveHeight&&_.list){var F=_.list.querySelector('[data-index="'.concat(_.state.currentSlide,'"]'));_.list.style.height=(0,a.getHeight)(F)+"px"}}),M(X(_),"componentDidMount",function(){if(_.props.onInit&&_.props.onInit(),_.props.lazyLoad){var F=(0,a.getOnDemandLazySlides)(D(D({},_.props),_.state));F.length>0&&(_.setState(function(k){return{lazyLoadedList:k.lazyLoadedList.concat(F)}}),_.props.onLazyLoad&&_.props.onLazyLoad(F))}var w=D({listRef:_.list,trackRef:_.track},_.props);_.updateState(w,!0,function(){_.adaptHeight(),_.props.autoplay&&_.autoPlay("update")}),_.props.lazyLoad==="progressive"&&(_.lazyLoadTimer=setInterval(_.progressiveLazyLoad,1e3)),_.ro=new g.default(function(){_.state.animating?(_.onWindowResized(!1),_.callbackTimers.push(setTimeout(function(){return _.onWindowResized()},_.props.speed))):_.onWindowResized()}),_.ro.observe(_.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(k){k.onfocus=_.props.pauseOnFocus?_.onSlideFocus:null,k.onblur=_.props.pauseOnFocus?_.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",_.onWindowResized):window.attachEvent("onresize",_.onWindowResized)}),M(X(_),"componentWillUnmount",function(){_.animationEndCallback&&clearTimeout(_.animationEndCallback),_.lazyLoadTimer&&clearInterval(_.lazyLoadTimer),_.callbackTimers.length&&(_.callbackTimers.forEach(function(F){return clearTimeout(F)}),_.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",_.onWindowResized):window.detachEvent("onresize",_.onWindowResized),_.autoplayTimer&&clearInterval(_.autoplayTimer),_.ro.disconnect()}),M(X(_),"componentDidUpdate",function(F){if(_.checkImagesLoad(),_.props.onReInit&&_.props.onReInit(),_.props.lazyLoad){var w=(0,a.getOnDemandLazySlides)(D(D({},_.props),_.state));w.length>0&&(_.setState(function(ie){return{lazyLoadedList:ie.lazyLoadedList.concat(w)}}),_.props.onLazyLoad&&_.props.onLazyLoad(w))}_.adaptHeight();var k=D(D({listRef:_.list,trackRef:_.track},_.props),_.state),K=_.didPropsChange(F);K&&_.updateState(k,K,function(){_.state.currentSlide>=n.default.Children.count(_.props.children)&&_.changeSlide({message:"index",index:n.default.Children.count(_.props.children)-_.props.slidesToShow,currentSlide:_.state.currentSlide}),_.props.autoplay?_.autoPlay("update"):_.pause("paused")})}),M(X(_),"onWindowResized",function(F){_.debouncedResize&&_.debouncedResize.cancel(),_.debouncedResize=(0,i.default)(function(){return _.resizeWindow(F)},50),_.debouncedResize()}),M(X(_),"resizeWindow",function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,w=!!(_.track&&_.track.node);if(w){var k=D(D({listRef:_.list,trackRef:_.track},_.props),_.state);_.updateState(k,F,function(){_.props.autoplay?_.autoPlay("update"):_.pause("paused")}),_.setState({animating:!1}),clearTimeout(_.animationEndCallback),delete _.animationEndCallback}}),M(X(_),"updateState",function(F,w,k){var K=(0,a.initializedState)(F);F=D(D(D({},F),K),{},{slideIndex:K.currentSlide});var ie=(0,a.getTrackLeft)(F);F=D(D({},F),{},{left:ie});var ee=(0,a.getTrackCSS)(F);(w||n.default.Children.count(_.props.children)!==n.default.Children.count(F.children))&&(K.trackStyle=ee),_.setState(K,k)}),M(X(_),"ssrInit",function(){if(_.props.variableWidth){var F=0,w=0,k=[],K=(0,a.getPreClones)(D(D(D({},_.props),_.state),{},{slideCount:_.props.children.length})),ie=(0,a.getPostClones)(D(D(D({},_.props),_.state),{},{slideCount:_.props.children.length}));_.props.children.forEach(function(Ye){k.push(Ye.props.style.width),F+=Ye.props.style.width});for(var ee=0;ee<K;ee++)w+=k[k.length-1-ee],F+=k[k.length-1-ee];for(var te=0;te<ie;te++)F+=k[te];for(var ae=0;ae<_.state.currentSlide;ae++)w+=k[ae];var ge={width:F+"px",left:-w+"px"};if(_.props.centerMode){var we="".concat(k[_.state.currentSlide],"px");ge.left="calc(".concat(ge.left," + (100% - ").concat(we,") / 2 ) ")}return{trackStyle:ge}}var Ee=n.default.Children.count(_.props.children),Oe=D(D(D({},_.props),_.state),{},{slideCount:Ee}),Le=(0,a.getPreClones)(Oe)+(0,a.getPostClones)(Oe)+Ee,Ie=100/_.props.slidesToShow*Le,Fe=100/Le,Ne=-Fe*((0,a.getPreClones)(Oe)+_.state.currentSlide)*Ie/100;_.props.centerMode&&(Ne+=(100-Fe*Ie/100)/2);var ke={width:Ie+"%",left:Ne+"%"};return{slideWidth:Fe+"%",trackStyle:ke}}),M(X(_),"checkImagesLoad",function(){var F=_.list&&_.list.querySelectorAll&&_.list.querySelectorAll(".slick-slide img")||[],w=F.length,k=0;Array.prototype.forEach.call(F,function(K){var ie=function(){return++k&&k>=w&&_.onWindowResized()};if(!K.onclick)K.onclick=function(){return K.parentNode.focus()};else{var ee=K.onclick;K.onclick=function(te){ee(te),K.parentNode.focus()}}K.onload||(_.props.lazyLoad?K.onload=function(){_.adaptHeight(),_.callbackTimers.push(setTimeout(_.onWindowResized,_.props.speed))}:(K.onload=ie,K.onerror=function(){ie(),_.props.onLazyLoadError&&_.props.onLazyLoadError()}))})}),M(X(_),"progressiveLazyLoad",function(){for(var F=[],w=D(D({},_.props),_.state),k=_.state.currentSlide;k<_.state.slideCount+(0,a.getPostClones)(w);k++)if(_.state.lazyLoadedList.indexOf(k)<0){F.push(k);break}for(var K=_.state.currentSlide-1;K>=-(0,a.getPreClones)(w);K--)if(_.state.lazyLoadedList.indexOf(K)<0){F.push(K);break}F.length>0?(_.setState(function(ie){return{lazyLoadedList:ie.lazyLoadedList.concat(F)}}),_.props.onLazyLoad&&_.props.onLazyLoad(F)):_.lazyLoadTimer&&(clearInterval(_.lazyLoadTimer),delete _.lazyLoadTimer)}),M(X(_),"slideHandler",function(F){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=_.props,K=k.asNavFor,ie=k.beforeChange,ee=k.onLazyLoad,te=k.speed,ae=k.afterChange,ge=_.state.currentSlide,we=(0,a.slideHandler)(D(D(D({index:F},_.props),_.state),{},{trackRef:_.track,useCSS:_.props.useCSS&&!w})),Ee=we.state,Oe=we.nextState;if(Ee){ie&&ie(ge,Ee.currentSlide);var Le=Ee.lazyLoadedList.filter(function(Ie){return _.state.lazyLoadedList.indexOf(Ie)<0});ee&&Le.length>0&&ee(Le),!_.props.waitForAnimate&&_.animationEndCallback&&(clearTimeout(_.animationEndCallback),ae&&ae(ge),delete _.animationEndCallback),_.setState(Ee,function(){K&&_.asNavForIndex!==F&&(_.asNavForIndex=F,K.innerSlider.slideHandler(F)),Oe&&(_.animationEndCallback=setTimeout(function(){var Ie=Oe.animating,Fe=S(Oe,["animating"]);_.setState(Fe,function(){_.callbackTimers.push(setTimeout(function(){return _.setState({animating:Ie})},10)),ae&&ae(Ee.currentSlide),delete _.animationEndCallback})},te))})}}),M(X(_),"changeSlide",function(F){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=D(D({},_.props),_.state),K=(0,a.changeSlide)(k,F);if(!(K!==0&&!K)&&(w===!0?_.slideHandler(K,w):_.slideHandler(K),_.props.autoplay&&_.autoPlay("update"),_.props.focusOnSelect)){var ie=_.list.querySelectorAll(".slick-current");ie[0]&&ie[0].focus()}}),M(X(_),"clickHandler",function(F){_.clickable===!1&&(F.stopPropagation(),F.preventDefault()),_.clickable=!0}),M(X(_),"keyHandler",function(F){var w=(0,a.keyHandler)(F,_.props.accessibility,_.props.rtl);w!==""&&_.changeSlide({message:w})}),M(X(_),"selectHandler",function(F){_.changeSlide(F)}),M(X(_),"disableBodyScroll",function(){var F=function(k){k=k||window.event,k.preventDefault&&k.preventDefault(),k.returnValue=!1};window.ontouchmove=F}),M(X(_),"enableBodyScroll",function(){window.ontouchmove=null}),M(X(_),"swipeStart",function(F){_.props.verticalSwiping&&_.disableBodyScroll();var w=(0,a.swipeStart)(F,_.props.swipe,_.props.draggable);w!==""&&_.setState(w)}),M(X(_),"swipeMove",function(F){var w=(0,a.swipeMove)(F,D(D(D({},_.props),_.state),{},{trackRef:_.track,listRef:_.list,slideIndex:_.state.currentSlide}));w&&(w.swiping&&(_.clickable=!1),_.setState(w))}),M(X(_),"swipeEnd",function(F){var w=(0,a.swipeEnd)(F,D(D(D({},_.props),_.state),{},{trackRef:_.track,listRef:_.list,slideIndex:_.state.currentSlide}));if(w){var k=w.triggerSlideHandler;delete w.triggerSlideHandler,_.setState(w),k!==void 0&&(_.slideHandler(k),_.props.verticalSwiping&&_.enableBodyScroll())}}),M(X(_),"touchEnd",function(F){_.swipeEnd(F),_.clickable=!0}),M(X(_),"slickPrev",function(){_.callbackTimers.push(setTimeout(function(){return _.changeSlide({message:"previous"})},0))}),M(X(_),"slickNext",function(){_.callbackTimers.push(setTimeout(function(){return _.changeSlide({message:"next"})},0))}),M(X(_),"slickGoTo",function(F){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F=Number(F),isNaN(F))return"";_.callbackTimers.push(setTimeout(function(){return _.changeSlide({message:"index",index:F,currentSlide:_.state.currentSlide},w)},0))}),M(X(_),"play",function(){var F;if(_.props.rtl)F=_.state.currentSlide-_.props.slidesToScroll;else if((0,a.canGoNext)(D(D({},_.props),_.state)))F=_.state.currentSlide+_.props.slidesToScroll;else return!1;_.slideHandler(F)}),M(X(_),"autoPlay",function(F){_.autoplayTimer&&clearInterval(_.autoplayTimer);var w=_.state.autoplaying;if(F==="update"){if(w==="hovered"||w==="focused"||w==="paused")return}else if(F==="leave"){if(w==="paused"||w==="focused")return}else if(F==="blur"&&(w==="paused"||w==="hovered"))return;_.autoplayTimer=setInterval(_.play,_.props.autoplaySpeed+50),_.setState({autoplaying:"playing"})}),M(X(_),"pause",function(F){_.autoplayTimer&&(clearInterval(_.autoplayTimer),_.autoplayTimer=null);var w=_.state.autoplaying;F==="paused"?_.setState({autoplaying:"paused"}):F==="focused"?(w==="hovered"||w==="playing")&&_.setState({autoplaying:"focused"}):w==="playing"&&_.setState({autoplaying:"hovered"})}),M(X(_),"onDotsOver",function(){return _.props.autoplay&&_.pause("hovered")}),M(X(_),"onDotsLeave",function(){return _.props.autoplay&&_.state.autoplaying==="hovered"&&_.autoPlay("leave")}),M(X(_),"onTrackOver",function(){return _.props.autoplay&&_.pause("hovered")}),M(X(_),"onTrackLeave",function(){return _.props.autoplay&&_.state.autoplaying==="hovered"&&_.autoPlay("leave")}),M(X(_),"onSlideFocus",function(){return _.props.autoplay&&_.pause("focused")}),M(X(_),"onSlideBlur",function(){return _.props.autoplay&&_.state.autoplaying==="focused"&&_.autoPlay("blur")}),M(X(_),"render",function(){var F=(0,s.default)("slick-slider",_.props.className,{"slick-vertical":_.props.vertical,"slick-initialized":!0}),w=D(D({},_.props),_.state),k=(0,a.extractObject)(w,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),K=_.props.pauseOnHover;k=D(D({},k),{},{onMouseEnter:K?_.onTrackOver:null,onMouseLeave:K?_.onTrackLeave:null,onMouseOver:K?_.onTrackOver:null,focusOnSelect:_.props.focusOnSelect&&_.clickable?_.selectHandler:null});var ie;if(_.props.dots===!0&&_.state.slideCount>=_.props.slidesToShow){var ee=(0,a.extractObject)(w,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=_.props.pauseOnDotsHover;ee=D(D({},ee),{},{clickHandler:_.changeSlide,onMouseEnter:te?_.onDotsLeave:null,onMouseOver:te?_.onDotsOver:null,onMouseLeave:te?_.onDotsLeave:null}),ie=n.default.createElement(h.Dots,ee)}var ae,ge,we=(0,a.extractObject)(w,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);we.clickHandler=_.changeSlide,_.props.arrows&&(ae=n.default.createElement(d.PrevArrow,we),ge=n.default.createElement(d.NextArrow,we));var Ee=null;_.props.vertical&&(Ee={height:_.state.listHeight});var Oe=null;_.props.vertical===!1?_.props.centerMode===!0&&(Oe={padding:"0px "+_.props.centerPadding}):_.props.centerMode===!0&&(Oe={padding:_.props.centerPadding+" 0px"});var Le=D(D({},Ee),Oe),Ie=_.props.touchMove,Fe={className:"slick-list",style:Le,onClick:_.clickHandler,onMouseDown:Ie?_.swipeStart:null,onMouseMove:_.state.dragging&&Ie?_.swipeMove:null,onMouseUp:Ie?_.swipeEnd:null,onMouseLeave:_.state.dragging&&Ie?_.swipeEnd:null,onTouchStart:Ie?_.swipeStart:null,onTouchMove:_.state.dragging&&Ie?_.swipeMove:null,onTouchEnd:Ie?_.touchEnd:null,onTouchCancel:_.state.dragging&&Ie?_.swipeEnd:null,onKeyDown:_.props.accessibility?_.keyHandler:null},Ne={className:F,dir:"ltr",style:_.props.style};return _.props.unslick&&(Fe={className:"slick-list"},Ne={className:F}),n.default.createElement("div",Ne,_.props.unslick?"":ae,n.default.createElement("div",E({ref:_.listRefHandler},Fe),n.default.createElement(u.Track,E({ref:_.trackRefHandler},k),_.props.children)),_.props.unslick?"":ge,_.props.unslick?"":ie)}),_.list=null,_.track=null,_.state=D(D({},e.default),{},{currentSlide:_.props.initialSlide,targetSlide:_.props.initialSlide?_.props.initialSlide:0,slideCount:n.default.Children.count(_.props.children)}),_.callbackTimers=[],_.clickable=!0,_.debouncedResize=null;var Q=_.ssrInit();return _.state=D(D({},_.state),Q),_}return J(G,[{key:"didPropsChange",value:function(_){for(var Q=!1,F=0,w=Object.keys(this.props);F<w.length;F++){var k=w[F];if(!_.hasOwnProperty(k)){Q=!0;break}if(!(b(_[k])==="object"||typeof _[k]=="function"||isNaN(_[k]))&&_[k]!==this.props[k]){Q=!0;break}}return Q||n.default.Children.count(this.props.children)!==n.default.Children.count(_.children)}}]),G}(n.default.Component),Qu}var ig,$w;function NN(){if($w)return ig;$w=1;var n=function(e){return e.replace(/[A-Z]/g,function(i){return"-"+i.toLowerCase()}).toLowerCase()};return ig=n,ig}var rg,Jw;function UN(){if(Jw)return rg;Jw=1;var n=NN(),e=function(a){var u=/[height|width]$/;return u.test(a)},i=function(a){var u="",h=Object.keys(a);return h.forEach(function(d,g){var v=a[d];d=n(d),e(d)&&typeof v=="number"&&(v=v+"px"),v===!0?u+=d:v===!1?u+="not "+d:u+="("+d+": "+v+")",g<h.length-1&&(u+=" and ")}),u},s=function(a){var u="";return typeof a=="string"?a:a instanceof Array?(a.forEach(function(h,d){u+=i(h),d<a.length-1&&(u+=", ")}),u):i(a)};return rg=s,rg}var sg,e1;function zN(){if(e1)return sg;e1=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},sg=n,sg}var og,t1;function OT(){if(t1)return og;t1=1;function n(s,a){var u=0,h=s.length,d;for(u;u<h&&(d=a(s[u],u),d!==!1);u++);}function e(s){return Object.prototype.toString.apply(s)==="[object Array]"}function i(s){return typeof s=="function"}return og={isFunction:i,isArray:e,each:n},og}var ag,n1;function jN(){if(n1)return ag;n1=1;var n=zN(),e=OT().each;function i(s,a){this.query=s,this.isUnconditional=a,this.handlers=[],this.mql=window.matchMedia(s);var u=this;this.listener=function(h){u.mql=h.currentTarget||h,u.assess()},this.mql.addListener(this.listener)}return i.prototype={constuctor:i,addHandler:function(s){var a=new n(s);this.handlers.push(a),this.matches()&&a.on()},removeHandler:function(s){var a=this.handlers;e(a,function(u,h){if(u.equals(s))return u.destroy(),!a.splice(h,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(s){s.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var s=this.matches()?"on":"off";e(this.handlers,function(a){a[s]()})}},ag=i,ag}var lg,i1;function BN(){if(i1)return lg;i1=1;var n=jN(),e=OT(),i=e.each,s=e.isFunction,a=e.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return u.prototype={constructor:u,register:function(h,d,g){var v=this.queries,b=g&&this.browserIsIncapable;return v[h]||(v[h]=new n(h,b)),s(d)&&(d={match:d}),a(d)||(d=[d]),i(d,function(E){s(E)&&(E={match:E}),v[h].addHandler(E)}),this},unregister:function(h,d){var g=this.queries[h];return g&&(d?g.removeHandler(d):(g.clear(),delete this.queries[h])),this}},lg=u,lg}var ug,r1;function HN(){if(r1)return ug;r1=1;var n=BN();return ug=new n,ug}var s1;function FN(){return s1||(s1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=h(Ii()),i=DN(),s=h(UN()),a=h(wT()),u=jc();function h(A){return A&&A.__esModule?A:{default:A}}function d(A){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},d(A)}function g(){return g=Object.assign?Object.assign.bind():function(A){for(var M=1;M<arguments.length;M++){var P=arguments[M];for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&(A[U]=P[U])}return A},g.apply(this,arguments)}function v(A,M){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(A);M&&(U=U.filter(function(H){return Object.getOwnPropertyDescriptor(A,H).enumerable})),P.push.apply(P,U)}return P}function b(A){for(var M=1;M<arguments.length;M++){var P=arguments[M]!=null?arguments[M]:{};M%2?v(Object(P),!0).forEach(function(U){W(A,U,P[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):v(Object(P)).forEach(function(U){Object.defineProperty(A,U,Object.getOwnPropertyDescriptor(P,U))})}return A}function E(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function S(A,M){for(var P=0;P<M.length;P++){var U=M[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,z(U.key),U)}}function x(A,M,P){return M&&S(A.prototype,M),Object.defineProperty(A,"prototype",{writable:!1}),A}function R(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),M&&D(A,M)}function D(A,M){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,H){return U.__proto__=H,U},D(A,M)}function Y(A){var M=$();return function(){var U=ne(A),H;if(M){var N=ne(this).constructor;H=Reflect.construct(U,arguments,N)}else H=U.apply(this,arguments);return V(this,H)}}function V(A,M){if(M&&(d(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(A)}function J(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function $(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!A})()}function ne(A){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},ne(A)}function W(A,M,P){return M=z(M),M in A?Object.defineProperty(A,M,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[M]=P,A}function z(A){var M=X(A,"string");return d(M)=="symbol"?M:String(M)}function X(A,M){if(d(A)!="object"||!A)return A;var P=A[Symbol.toPrimitive];if(P!==void 0){var U=P.call(A,M);if(d(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(A)}var B=(0,u.canUseDOM)()&&HN();n.default=function(A){R(P,A);var M=Y(P);function P(U){var H;return E(this,P),H=M.call(this,U),W(J(H),"innerSliderRefHandler",function(N){return H.innerSlider=N}),W(J(H),"slickPrev",function(){return H.innerSlider.slickPrev()}),W(J(H),"slickNext",function(){return H.innerSlider.slickNext()}),W(J(H),"slickGoTo",function(N){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return H.innerSlider.slickGoTo(N,G)}),W(J(H),"slickPause",function(){return H.innerSlider.pause("paused")}),W(J(H),"slickPlay",function(){return H.innerSlider.autoPlay("play")}),H.state={breakpoint:null},H._responsiveMediaHandlers=[],H}return x(P,[{key:"media",value:function(H,N){B.register(H,N),this._responsiveMediaHandlers.push({query:H,handler:N})}},{key:"componentDidMount",value:function(){var H=this;if(this.props.responsive){var N=this.props.responsive.map(function(O){return O.breakpoint});N.sort(function(O,_){return O-_}),N.forEach(function(O,_){var Q;_===0?Q=(0,s.default)({minWidth:0,maxWidth:O}):Q=(0,s.default)({minWidth:N[_-1]+1,maxWidth:O}),(0,u.canUseDOM)()&&H.media(Q,function(){H.setState({breakpoint:O})})});var G=(0,s.default)({minWidth:N.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(G,function(){H.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(H){B.unregister(H.query,H.handler)})}},{key:"render",value:function(){var H=this,N,G;this.state.breakpoint?(G=this.props.responsive.filter(function(te){return te.breakpoint===H.state.breakpoint}),N=G[0].settings==="unslick"?"unslick":b(b(b({},a.default),this.props),G[0].settings)):N=b(b({},a.default),this.props),N.centerMode&&(N.slidesToScroll>1,N.slidesToScroll=1),N.fade&&(N.slidesToShow>1,N.slidesToScroll>1,N.slidesToShow=1,N.slidesToScroll=1);var O=e.default.Children.toArray(this.props.children);O=O.filter(function(te){return typeof te=="string"?!!te.trim():!!te}),N.variableWidth&&(N.rows>1||N.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),N.variableWidth=!1);for(var _=[],Q=null,F=0;F<O.length;F+=N.rows*N.slidesPerRow){for(var w=[],k=F;k<F+N.rows*N.slidesPerRow;k+=N.slidesPerRow){for(var K=[],ie=k;ie<k+N.slidesPerRow&&(N.variableWidth&&O[ie].props.style&&(Q=O[ie].props.style.width),!(ie>=O.length));ie+=1)K.push(e.default.cloneElement(O[ie],{key:100*F+10*k+ie,tabIndex:-1,style:{width:"".concat(100/N.slidesPerRow,"%"),display:"inline-block"}}));w.push(e.default.createElement("div",{key:10*F+k},K))}N.variableWidth?_.push(e.default.createElement("div",{key:F,style:{width:Q}},w)):_.push(e.default.createElement("div",{key:F},w))}if(N==="unslick"){var ee="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ee},O)}else _.length<=N.slidesToShow&&!N.infinite&&(N.unslick=!0);return e.default.createElement(i.InnerSlider,g({style:this.props.style,ref:this.innerSliderRefHandler},(0,u.filterSettings)(N)),_)}}]),P}(e.default.Component)}($m)),$m}var o1;function qN(){return o1||(o1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(FN());function i(s){return s&&s.__esModule?s:{default:s}}n.default=e.default}(Qm)),Qm}var WN=qN();const VN=Ng(WN);function ZN({images:n,onImageClick:e}){if(!(n!=null&&n.length))return null;const i={dots:!0,infinite:n.length>1,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:n.length>1,autoplaySpeed:2e3};return j.jsx("div",{style:{borderRadius:8,overflow:"hidden",marginTop:12},children:j.jsx(VN,{...i,children:n.map((s,a)=>j.jsx("div",{children:j.jsx("img",{src:s,alt:`slide-${a}`,onClick:()=>e==null?void 0:e(s,a),style:{width:"100%",height:200,objectFit:"cover",borderRadius:8,cursor:"pointer"}})},a))})})}function GN(){const[n,e]=oe.useState([]),[i,s]=oe.useState(1),[a,u]=oe.useState(!1),[h,d]=oe.useState([]),[g,v]=oe.useState(0),b=10;oe.useEffect(()=>{Ew().then(e)},[]);const E=[...n].sort((D,Y)=>Y[1].createdAt-D[1].createdAt),S=Math.ceil(E.length/b),x=E.slice((i-1)*b,i*b),R=Array.from({length:Math.ceil(x.length/2)},(D,Y)=>x.slice(Y*2,Y*2+2));return j.jsxs("div",{style:gr.wrapper,children:[j.jsxs("div",{style:gr.header,children:[j.jsx("h3",{style:gr.title,children:"📢 방문 후기"}),j.jsx("button",{onClick:()=>u(!0),style:gr.button,children:"후기 등록"})]}),R.map((D,Y)=>j.jsx("div",{style:gr.row,children:D.map(([V,J])=>j.jsxs("div",{style:gr.card,children:[j.jsxs("p",{style:gr.nickname,children:["🧑 ",J.nickname," | ",new Date(J.createdAt).toLocaleDateString()]}),j.jsx("p",{style:gr.content,children:J.content}),j.jsx(ZN,{images:J.images,onImageClick:($,ne)=>{d(J.images),v(ne)}})]},V))},Y)),S>1&&j.jsx("div",{style:gr.pagination,children:Array.from({length:S},(D,Y)=>j.jsx("button",{onClick:()=>s(Y+1),style:{...gr.pageBtn,background:i===Y+1?"#3498db":"#fff",color:i===Y+1?"#fff":"#333"},children:Y+1},Y))}),a&&j.jsx(uN,{onClose:()=>u(!1),onSuccess:()=>{Ew().then(e),u(!1)}}),h.length>0&&j.jsx(Od,{isOpen:!0,onRequestClose:()=>d([]),style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3},content:{maxWidth:"80%",maxHeight:"80%",margin:"auto",padding:0,borderRadius:12,overflow:"hidden"}},children:j.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",position:"relative"},children:[j.jsx("img",{src:h[g],alt:`slide-${g}`,style:{width:"100%",height:"100%",objectFit:"contain"}}),j.jsx("div",{style:{position:"absolute",top:"50%",left:20,fontSize:32,color:"#333",cursor:"pointer",userSelect:"none"},onClick:()=>v((g-1+h.length)%h.length),children:"<"}),j.jsx("div",{style:{position:"absolute",top:"50%",right:20,fontSize:32,color:"#333",cursor:"pointer",userSelect:"none"},onClick:()=>v((g+1)%h.length),children:">"})]})})]})}const gr={wrapper:{maxWidth:960,margin:"0 auto",padding:"2rem",fontFamily:'"Noto Sans KR", sans-serif'},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{fontSize:24,fontWeight:"bold"},button:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"8px 16px",borderRadius:6,fontSize:16,cursor:"pointer"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:32,alignItems:"stretch"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",border:"1px solid #ddd",borderRadius:10,padding:16,backgroundColor:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",height:"100%",boxSizing:"border-box",maxHeight:"420px",overflow:"auto"},nickname:{fontWeight:"bold",marginBottom:8,color:"#333"},content:{marginBottom:12,lineHeight:1.6,color:"#555",whiteSpace:"pre-line",maxHeight:"9.6em",overflowY:"auto"},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:40},pageBtn:{border:"1px solid #ccc",borderRadius:4,padding:"6px 12px",fontSize:14,cursor:"pointer",minWidth:32}};function YN(){const[n,e]=oe.useState([]),[i,s]=oe.useState(null);return oe.useEffect(()=>{Ch().then(a=>{const u=new Date,h=a.filter(([d,g])=>{const v=new Date(g.startDate),b=new Date(g.endDate);return v<=u&&u<=b});e(h)})},[]),j.jsxs("div",{style:sa.wrapper,children:[j.jsx("h2",{style:sa.title,children:"🎉 진행 중인 이벤트"}),n.length===0?j.jsx("p",{children:"현재 진행 중인 이벤트가 없습니다."}):j.jsx("div",{style:sa.grid,children:n.map(([a,u])=>j.jsxs("div",{style:sa.card,onClick:async()=>{await uT(a),s(u)},children:[j.jsx("img",{src:u.imageUrl,alt:u.title,style:sa.image}),j.jsx("h3",{children:u.title}),j.jsx("p",{style:sa.desc,children:u.description}),j.jsx("p",{style:sa.date,children:new Date(u.createdAt).toLocaleDateString()})]},a))}),j.jsx(Od,{isOpen:!!i,onRequestClose:()=>s(null),contentLabel:"Event Detail",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3},content:{maxWidth:500,maxHeight:500,margin:"auto",padding:20,borderRadius:12}},children:i&&j.jsxs("div",{style:{maxHeight:540,overflowY:"auto"},children:[j.jsx("img",{src:i.imageUrl,alt:i.title,style:{width:"100%",height:240,objectFit:"cover",borderRadius:8,marginBottom:12}}),j.jsx("h2",{children:i.title}),j.jsx("p",{style:{color:"#444",lineHeight:1.5},children:i.description}),j.jsx("p",{style:{fontSize:12,color:"#999",marginTop:12},children:new Date(i.createdAt).toLocaleDateString()})]})})]})}const sa={wrapper:{maxWidth:960,margin:"0 auto",padding:"2rem",fontFamily:'"Noto Sans KR", sans-serif'},title:{fontSize:24,fontWeight:"bold",marginBottom:24},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:20},card:{background:"#fff",border:"1px solid #ddd",borderRadius:10,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",padding:16,cursor:"pointer"},image:{width:"100%",height:180,objectFit:"cover",borderRadius:6,marginBottom:12},desc:{color:"#444",lineHeight:1.5},date:{fontSize:12,color:"#999",marginTop:8}};function KN(){const{eventId:n}=OC(),e=Cc(),[i,s]=oe.useState(null);return oe.useEffect(()=>{n&&(lT(n).then(a=>{s(a)}),uT(n))},[n]),i?j.jsxs("div",{style:hl.wrapper,children:[j.jsx("button",{onClick:()=>e(-1),style:hl.backBtn,children:"← 목록으로"}),j.jsx("h2",{style:hl.title,children:i.title}),j.jsxs("p",{style:hl.date,children:["📅 ",i.startDate," ~ ",i.endDate," | 👁‍🗨 ",i.views||0,"회 조회"]}),i.imageUrl&&j.jsx("img",{src:i.imageUrl,alt:"이벤트 이미지",style:hl.image}),j.jsx("p",{style:hl.description,children:i.description})]}):j.jsx("p",{style:{padding:24},children:"불러오는 중..."})}const hl={wrapper:{maxWidth:800,margin:"0 auto",padding:24,fontFamily:'"Noto Sans KR", sans-serif'},backBtn:{marginBottom:24,padding:"6px 12px",backgroundColor:"#ccc",border:"none",borderRadius:6,cursor:"pointer"},title:{fontSize:28,fontWeight:"bold",marginBottom:12},date:{fontSize:14,color:"#888",marginBottom:24},image:{width:"100%",maxHeight:400,objectFit:"cover",borderRadius:8,marginBottom:24},description:{fontSize:16,lineHeight:1.6,whiteSpace:"pre-line"}};function XN(){return j.jsx(hO,{basename:"/theUBoo",children:j.jsxs(FC,{children:[j.jsx(Jr,{path:"/",element:j.jsx(Ku,{children:j.jsx(oN,{})})}),j.jsx(Jr,{path:"/menu",element:j.jsx(Ku,{children:j.jsx(lN,{})})}),j.jsx(Jr,{path:"/review",element:j.jsx(Ku,{children:j.jsx(GN,{})})}),j.jsx(Jr,{path:"/event",element:j.jsx(Ku,{children:j.jsx(YN,{})})}),j.jsx(Jr,{path:"/event/:eventId",element:j.jsx(Ku,{children:j.jsx(KN,{})})}),j.jsx(Jr,{path:"/admin-login",element:j.jsx(wD,{})}),j.jsx(Jr,{path:"/admin/*",element:j.jsx(SD,{children:j.jsx(bD,{})})}),j.jsx(Jr,{path:"*",element:j.jsx(_1,{to:"/"})})]})})}Xx.createRoot(document.getElementById("root")).render(j.jsx(oe.StrictMode,{children:j.jsx(XN,{})}));
